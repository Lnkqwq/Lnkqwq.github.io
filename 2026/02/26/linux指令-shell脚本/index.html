<!DOCTYPE html><html lang="en" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>linux指令&amp;shell脚本 | Hexo</title><meta name="keywords" content="-Linux"><meta name="description" content="文件操作  一、文件查看类  cat : 显示文件内容  1234cat filename           # 显示文件内容cat file1 file2        # 显示多个文件cat &gt; newfile          # 创建新文件（输入内容，Ctrl+D 结束）cat data.txt | less    # 分页查看大文件  file : 检测文件类型  1234fi">
<meta property="og:type" content="article">
<meta property="og:title" content="linux指令&amp;shell脚本">
<meta property="og:url" content="http://example.com/2026/02/26/linux%E6%8C%87%E4%BB%A4-shell%E8%84%9A%E6%9C%AC/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="文件操作  一、文件查看类  cat : 显示文件内容  1234cat filename           # 显示文件内容cat file1 file2        # 显示多个文件cat &gt; newfile          # 创建新文件（输入内容，Ctrl+D 结束）cat data.txt | less    # 分页查看大文件  file : 检测文件类型  1234fi">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2026-02-26T03:54:07.000Z">
<meta property="article:modified_time" content="2026-02-27T12:51:41.111Z">
<meta property="article:author" content="Lnk">
<meta property="article:tag" content="-Linux">
<meta name="twitter:card" content="summary"><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" as="font" crossorigin="anonymous" href="/font/Bender.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="/font/BenderLight.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="/font/JetBrainsMono-Regular.woff2"><link rel="stylesheet" href="/css/arknights.css"><style>@font-face {
  font-family: Bender;
  src: local('Bender'), url("/font/Bender.ttf"), url("/font/Bender.otf");
}
@font-face {
  font-family: BenderLight;
  src: local('BenderLight'), url("/font/BenderLight.woff2") format('woff2');
}
@font-face {
  font-family: 'JetBrains Mono';
  src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
</style><meta name="page-config" content="{&quot;code_fold&quot;:null}"><script class="pjax-js">var config = {"root":"/","code_fold":15,"search":{"preload":false,"activeHolder":"键入以继续","blurHolder":"数据检索","noResult":"无 $0 相关数据"},"code":{"codeInfo":"$0 - $1 行","copy":"复制"}};
var page_config = {
  code_fold: null
};
function updatePageConfig() {
  var newPageConfig = document.querySelector('meta[name="page-config"]');
  if (newPageConfig) {
    page_config = JSON.parse(newPageConfig.content);
  }
}
document.addEventListener('pjax:complete', function() { updatePageConfig(); });
updatePageConfig();</script><link type="text/css" rel="stylesheet" href="/lib/encrypt/hbe.style.css"><script src="//unpkg.com/mermaid@11.12.2/dist/mermaid.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js"></script><script>MathJax.Hub.Config({
 menuSettings: {
   zoom: "None"
 },
 showMathMenu: false,
 jax: ["input/TeX","output/CommonHTML"],
 extensions: ["tex2jax.js"],
 TeX: {
   extensions: ["AMSmath.js","AMSsymbols.js"],
   equationNumbers: {
     autoNumber: "AMS"
   }
 },
 tex2jax: {
   inlineMath: [["\\(", "\\)"]],
   displayMath: [["\\[", "\\]"]]
 }
});</script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/css/all.min.css"><script>if (window.localStorage.getItem('theme-mode') === 'light')
 document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark')
 document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.woff2") format('woff2');
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><style>:root {
 --dark-background: url('/images/BK.PNG');
 --light-background: url('/images/BK.PNG');
 --theme-encrypt-confirm: '确认'
}</style><script defer src="/js/arknights.js"></script><script defer src="/js/search.js"></script><script defer type="module">import mermaid from '//unpkg.com/mermaid@11.12.2/dist/mermaid.esm.min.mjs';
window.mermaid = mermaid;
code.paintMermaid();
</script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js"></script><script>MathJax.Hub.Config({
  menuSettings: {
    zoom: "None"
  },
  showMathMenu: false,
  jax: ["input/TeX","output/CommonHTML"],
  extensions: ["tex2jax.js"],
  TeX: {
    extensions: ["AMSmath.js","AMSsymbols.js"],
    equationNumbers: {
      autoNumber: "AMS"
    }
  },
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]]
  }
});
</script><script async src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script async src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script async src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script async src="/lib/encrypt/hbe.js"></script><script async src="/js/pjax.js"></script><script class="pjax-js">reset= () => {document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js','data-pjax','.vercount','meta[name=page-config]'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script><script class="pjax-js">reset= () => {window.giscusSettings = {
 repo: 'Lnkqwq/Lnkqwq.github.io',
 repoId: 'R_kgDORZSSAA',
 category: '',
 categoryId: '',
 mapping: 'pathname',
 strict: '0',
 reactionsEnabled: '1',
 emitMetadata: '0',
 inputPosition: 'bottom',
 lang: 'zh-CN',
 crossorigin: 'anonymous' , loading: 'lazy'};window.giscusThemeConfig = { theme: 'preferred_color_scheme' };MathJax.Hub.Queue(["Typeset", MathJax.Hub]);document.querySelector('.lg-container')?.remove()
const postBg = document.querySelector('#post-bg');
if (postBg) lightGallery(postBg, {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js','data-pjax','.vercount','meta[name=page-config]'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div class="loading" style="opacity: 0;"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><div class="navBtn"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><nav><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="数据检索" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup" tabindex="0"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>linux指令&amp;shell脚本</h1><div id="post-info"><span>文章发布时间: <div class="control"><time datetime="2026-02-26T03:54:07.000Z" id="date"> 2026-02-26</time></div></span><br><span>最后更新时间: <div class="control"><time datetime="2026-02-27T12:51:41.111Z" id="updated"> 2026-02-27</time></div></span></div></div><hr><div id="post-content"><h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a><a class="markdownIt-Anchor" href="#文件操作"></a> 文件操作</h2>
<h3 id="一-文件查看类"><a href="#一-文件查看类" class="headerlink" title="一-文件查看类"></a><a class="markdownIt-Anchor" href="#一-文件查看类"></a> 一、文件查看类</h3>
<ol>
<li>cat : 显示文件内容</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> filename           <span class="hljs-comment"># 显示文件内容</span><br><span class="hljs-built_in">cat</span> file1 file2        <span class="hljs-comment"># 显示多个文件</span><br><span class="hljs-built_in">cat</span> &gt; newfile          <span class="hljs-comment"># 创建新文件（输入内容，Ctrl+D 结束）</span><br><span class="hljs-built_in">cat</span> data.txt | less    <span class="hljs-comment"># 分页查看大文件</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>file : 检测文件类型</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">file filename          <span class="hljs-comment"># 检查单个文件类型</span><br>file ./*               <span class="hljs-comment"># 检查当前目录所有文件类型</span><br>file -b filename       <span class="hljs-comment"># 简洁输出（只显示类型）</span><br>file -L filename       <span class="hljs-comment"># 跟随符号链接</span><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>strings : 提取二进制文件中的可打印字符串</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">strings filename       <span class="hljs-comment"># 提取所有≥4个可打印字符的字符串</span><br>strings -n 10 filename <span class="hljs-comment"># 提取≥10个字符的字符串</span><br>strings data.bin | grep <span class="hljs-string">&quot;password&quot;</span>  <span class="hljs-comment"># 在二进制中搜索文本</span><br></code></pre></td></tr></table></figure>
<p>4.head ：显示文件开头部分</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">head</span> filename                 <span class="hljs-comment"># 显示前10行</span><br><span class="hljs-built_in">head</span> -n 20 filename           <span class="hljs-comment"># 显示前20行</span><br><span class="hljs-built_in">head</span> -c 100 filename          <span class="hljs-comment"># 显示前100字节</span><br><span class="hljs-built_in">head</span> -v filename              <span class="hljs-comment"># 显示文件名标题</span><br></code></pre></td></tr></table></figure>
<ol start="5">
<li>tail : 显示文件结尾部分</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">tail</span> filename                 <span class="hljs-comment"># 显示最后10行</span><br><span class="hljs-built_in">tail</span> -n 20 filename           <span class="hljs-comment"># 显示最后20行</span><br><span class="hljs-built_in">tail</span> -f filename              <span class="hljs-comment"># 实时追踪文件变化</span><br><span class="hljs-built_in">tail</span> -F filename              <span class="hljs-comment"># 实时追踪（文件重命名后仍追踪）</span><br></code></pre></td></tr></table></figure>
<ol start="6">
<li>less : 分页查看文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">less filename                 <span class="hljs-comment"># 分页查看</span><br><span class="hljs-comment"># 操作键: 空格翻页, b上一页, /搜索, n下一个匹配, q退出</span><br>less -N filename              <span class="hljs-comment"># 显示行号</span><br>less -S filename              <span class="hljs-comment"># 不换行显示</span><br></code></pre></td></tr></table></figure>
<ol start="7">
<li>more : 分页查看文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">more filename                 <span class="hljs-comment"># 分页查看</span><br><span class="hljs-comment"># 操作键: 空格翻页, Enter下一行, q退出</span><br>more -d filename              <span class="hljs-comment"># 显示提示信息</span><br>more +10 filename             <span class="hljs-comment"># 从第10行开始显示</span><br></code></pre></td></tr></table></figure>
<p>8、diff ：比较文件差异</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><br>diff file1 file2               <span class="hljs-comment"># 比较两个文件</span><br>diff -u file1 file2           <span class="hljs-comment"># 输出统一格式（便于打补丁）</span><br>diff -r dir1 dir2             <span class="hljs-comment"># 递归比较目录</span><br>diff -N file1 file2           <span class="hljs-comment"># 将不存在的文件视为空文件比较</span><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="二-文件操作类"><a href="#二-文件操作类" class="headerlink" title="二-文件操作类"></a><a class="markdownIt-Anchor" href="#二-文件操作类"></a> 二、文件操作类</h3>
<ol>
<li>find : 查找文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">find . -name <span class="hljs-string">&quot;*.txt&quot;</span>          <span class="hljs-comment"># 按文件名查找</span><br>find . -<span class="hljs-built_in">type</span> f -size +100k    <span class="hljs-comment"># 查找大于100KB的文件</span><br>find . -perm 644              <span class="hljs-comment"># 按权限查找</span><br>find . -mtime -7              <span class="hljs-comment"># 查找7天内修改的文件</span><br>find . -<span class="hljs-built_in">exec</span> file &#123;&#125; \\;       <span class="hljs-comment"># 对每个找到的文件执行命令</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>mkdir : 创建目录</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> <span class="hljs-built_in">dirname</span>           <span class="hljs-comment"># 创建目录</span><br><span class="hljs-built_in">mkdir</span> -p a/b/c          <span class="hljs-comment"># 递归创建多层目录（父目录不存在则创建）</span><br><span class="hljs-built_in">mkdir</span> -m 755 <span class="hljs-built_in">dirname</span>    <span class="hljs-comment"># 创建目录并设置权限</span><br><span class="hljs-built_in">mktemp</span> -d               <span class="hljs-comment"># 创建唯一临时目录（Bandit推荐）</span><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>cp : 复制文件/目录</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> <span class="hljs-built_in">source</span> dest          <span class="hljs-comment"># 复制文件</span><br><span class="hljs-built_in">cp</span> -r sourcedir dest    <span class="hljs-comment"># 递归复制目录</span><br><span class="hljs-built_in">cp</span> ~/file.txt .         <span class="hljs-comment"># 复制到家目录文件到当前目录</span><br><span class="hljs-built_in">cp</span> -p file dest         <span class="hljs-comment"># 保留权限、时间戳等属性</span><br><span class="hljs-built_in">cp</span> -u <span class="hljs-built_in">source</span> dest       <span class="hljs-comment"># 仅当源文件更新时才复制</span><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>mv : 移动/重命名</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mv</span> oldname newname      <span class="hljs-comment"># 重命名文件</span><br><span class="hljs-built_in">mv</span> file <span class="hljs-built_in">dir</span>/            <span class="hljs-comment"># 移动到目录</span><br><span class="hljs-built_in">mv</span> *.txt backup/        <span class="hljs-comment"># 移动多个文件</span><br><span class="hljs-built_in">mv</span> -i file dest         <span class="hljs-comment"># 交互式（覆盖前询问）</span><br><span class="hljs-built_in">mv</span> -n file dest         <span class="hljs-comment"># 不覆盖已存在文件</span><br></code></pre></td></tr></table></figure>
<ol start="5">
<li>rmdir : 删除空目录</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">rmdir</span> <span class="hljs-built_in">dirname</span>                 <span class="hljs-comment"># 删除空目录</span><br><span class="hljs-built_in">rmdir</span> -p a/b/c                <span class="hljs-comment"># 递归删除空目录</span><br><span class="hljs-built_in">rmdir</span> -v <span class="hljs-built_in">dirname</span>              <span class="hljs-comment"># 显示删除信息</span><br><br></code></pre></td></tr></table></figure>
<ol start="6">
<li>touch : 创建空文件/修改时间戳</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">touch</span> filename                <span class="hljs-comment"># 创建空文件或更新时间为当前时间</span><br><span class="hljs-built_in">touch</span> -t 202512131200 filename  <span class="hljs-comment"># 设置特定时间戳(YYYYMMDDhhmm)</span><br><span class="hljs-built_in">touch</span> -a filename             <span class="hljs-comment"># 只修改访问时间</span><br><span class="hljs-built_in">touch</span> -m filename             <span class="hljs-comment"># 只修改修改时间</span><br><span class="hljs-built_in">touch</span> -c filename             <span class="hljs-comment"># 不创建新文件，只修改时间戳</span><br><br></code></pre></td></tr></table></figure>
<ol start="7">
<li>ln : 创建链接</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> <span class="hljs-built_in">source</span> target              <span class="hljs-comment"># 创建硬链接</span><br><span class="hljs-built_in">ln</span> -s <span class="hljs-built_in">source</span> target           <span class="hljs-comment"># 创建软链接（符号链接）</span><br><span class="hljs-built_in">ln</span> -sf <span class="hljs-built_in">source</span> target          <span class="hljs-comment"># 强制创建符号链接（覆盖）</span><br><span class="hljs-built_in">ln</span> -i <span class="hljs-built_in">source</span> target           <span class="hljs-comment"># 交互式（覆盖前询问）</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="三-特殊工具类"><a href="#三-特殊工具类" class="headerlink" title="三-特殊工具类"></a><a class="markdownIt-Anchor" href="#三-特殊工具类"></a> 三、特殊工具类</h3>
<ol>
<li>xxd : 十六进制转储/还原</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">xxd filename           <span class="hljs-comment"># 生成hexdump（二进制→十六进制文本）</span><br>xxd -r hexdump.txt &gt; binary  <span class="hljs-comment"># 还原hexdump（文本→二进制）</span><br>xxd -l 100 filename    <span class="hljs-comment"># 只显示前100字节</span><br>xxd -p filename        <span class="hljs-comment"># 纯十六进制输出（无地址和文本）</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>du : 查看磁盘使用量</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">du</span> filename           <span class="hljs-comment"># 显示文件大小（单位：块）</span><br><span class="hljs-built_in">du</span> -h filename        <span class="hljs-comment"># 人类可读格式（K、M）</span><br><span class="hljs-built_in">du</span> -sh directory      <span class="hljs-comment"># 显示目录总大小</span><br><span class="hljs-built_in">du</span> -s                 <span class="hljs-comment"># 显示所有文件大小</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>cd : 切换目录</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> <span class="hljs-built_in">dirname</span>           <span class="hljs-comment"># 进入目录</span><br><span class="hljs-built_in">cd</span> ..               <span class="hljs-comment"># 返回上级目录</span><br><span class="hljs-built_in">cd</span> ~                <span class="hljs-comment"># 返回用户家目录</span><br><span class="hljs-built_in">cd</span> -                <span class="hljs-comment"># 返回上一个目录</span><br><span class="hljs-built_in">cd</span> /tmp             <span class="hljs-comment"># 进入系统临时目录</span><br><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>which : 查找命令位置</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">which</span> <span class="hljs-built_in">command</span>                 <span class="hljs-comment"># 显示命令完整路径</span><br><span class="hljs-built_in">which</span> -a <span class="hljs-built_in">command</span>              <span class="hljs-comment"># 显示所有匹配路径</span><br><span class="hljs-built_in">which</span> --skip-alias <span class="hljs-built_in">command</span>    <span class="hljs-comment"># 跳过别名</span><br><br></code></pre></td></tr></table></figure>
<ol start="5">
<li>whereis : 查找命令相关文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">whereis <span class="hljs-built_in">command</span>               <span class="hljs-comment"># 查找命令的二进制、源码、手册页</span><br>whereis -b <span class="hljs-built_in">command</span>            <span class="hljs-comment"># 只查找二进制</span><br>whereis -m <span class="hljs-built_in">command</span>            <span class="hljs-comment"># 只查找手册页</span><br>whereis -s <span class="hljs-built_in">command</span>            <span class="hljs-comment"># 只查找源码</span><br><br></code></pre></td></tr></table></figure>
<ol start="6">
<li>locate : 快速文件查找</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">locate filename               <span class="hljs-comment"># 查找文件</span><br>locate -i filename            <span class="hljs-comment"># 忽略大小写</span><br>locate -c filename            <span class="hljs-comment"># 统计找到的数量</span><br>locate -r <span class="hljs-string">&quot;\\.txt$&quot;</span>            <span class="hljs-comment"># 使用正则表达式（查找.txt文件）</span><br><span class="hljs-comment"># 注意：需要先运行 sudo updatedb 更新数据库</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="四-包管理与软件类"><a href="#四-包管理与软件类" class="headerlink" title="四-包管理与软件类"></a><a class="markdownIt-Anchor" href="#四-包管理与软件类"></a> 四、包管理与软件类</h3>
<ol>
<li>apt (Debian/Ubuntu)</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">apt update                   <span class="hljs-comment"># 更新包列表</span><br>apt upgrade                  <span class="hljs-comment"># 升级所有包</span><br>apt install package          <span class="hljs-comment"># 安装软件包</span><br>apt remove package           <span class="hljs-comment"># 移除软件包</span><br>apt search keyword           <span class="hljs-comment"># 搜索软件包</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>yum (RedHat/CentOS)</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum install package          <span class="hljs-comment"># 安装软件包</span><br>yum update                   <span class="hljs-comment"># 更新软件包</span><br>yum remove package           <span class="hljs-comment"># 移除软件包</span><br>yum search keyword           <span class="hljs-comment"># 搜索软件包</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="五-系统监控与性能类"><a href="#五-系统监控与性能类" class="headerlink" title="五-系统监控与性能类"></a><a class="markdownIt-Anchor" href="#五-系统监控与性能类"></a> 五、系统监控与性能类</h3>
<ol>
<li>free : 显示内存使用情况</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">free                          <span class="hljs-comment"># 显示内存信息</span><br>free -h                       <span class="hljs-comment"># 人类可读格式</span><br>free -m                       <span class="hljs-comment"># 以MB为单位</span><br>free -s 5                     <span class="hljs-comment"># 每5秒刷新一次</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>vmstat : 虚拟内存统计</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">vmstat                        <span class="hljs-comment"># 显示一次统计</span><br>vmstat 2                      <span class="hljs-comment"># 每2秒显示一次</span><br>vmstat 2 10                   <span class="hljs-comment"># 每2秒一次，共10次</span><br>vmstat -s                     <span class="hljs-comment"># 显示事件计数器</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>iostat : 输入输出统计</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">iostat                        <span class="hljs-comment"># 显示一次统计</span><br>iostat 2                      <span class="hljs-comment"># 每2秒显示一次</span><br>iostat -x                     <span class="hljs-comment"># 扩展统计信息</span><br>iostat -c                     <span class="hljs-comment"># 只显示CPU统计</span><br><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>netstat / ss : 网络连接统计</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">netstat -tuln                 <span class="hljs-comment"># 显示监听端口</span><br>netstat -an                   <span class="hljs-comment"># 显示所有连接</span><br>netstat -rn                   <span class="hljs-comment"># 显示路由表</span><br>ss -tuln                      <span class="hljs-comment"># ss替代netstat（更快）</span><br><br></code></pre></td></tr></table></figure>
<ol start="5">
<li>lsof : 列出打开文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">lsof                          <span class="hljs-comment"># 列出所有打开文件</span><br>lsof -i :80                   <span class="hljs-comment"># 列出使用80端口的进程</span><br>lsof -u username              <span class="hljs-comment"># 列出用户打开的文件</span><br>lsof /path/to/file            <span class="hljs-comment"># 列出打开指定文件的进程</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="六-链接与引用类"><a href="#六-链接与引用类" class="headerlink" title="六-链接与引用类"></a><a class="markdownIt-Anchor" href="#六-链接与引用类"></a> 六、链接与引用类</h3>
<ol>
<li>ln : 创建链接</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> <span class="hljs-built_in">source</span> target              <span class="hljs-comment"># 创建硬链接</span><br><span class="hljs-built_in">ln</span> -s <span class="hljs-built_in">source</span> target           <span class="hljs-comment"># 创建软链接（符号链接）</span><br><span class="hljs-built_in">ln</span> -sf <span class="hljs-built_in">source</span> target          <span class="hljs-comment"># 强制创建符号链接</span><br><span class="hljs-built_in">ln</span> -nfs <span class="hljs-built_in">source</span> target         <span class="hljs-comment"># 不追踪目录符号链接</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>readlink : 读取符号链接目标</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">readlink</span> linkname             <span class="hljs-comment"># 显示符号链接指向</span><br><span class="hljs-built_in">readlink</span> -f path              <span class="hljs-comment"># 显示规范化的绝对路径</span><br><span class="hljs-built_in">readlink</span> -e path              <span class="hljs-comment"># 显示存在文件的规范路径</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>realpath : 获取绝对路径</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">realpath</span> file                 <span class="hljs-comment"># 显示文件的绝对路径</span><br><span class="hljs-built_in">realpath</span> -s file              <span class="hljs-comment"># 不解析符号链接</span><br><span class="hljs-built_in">realpath</span> -q file              <span class="hljs-comment"># 静默模式</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="七-查找与定位类"><a href="#七-查找与定位类" class="headerlink" title="七-查找与定位类"></a><a class="markdownIt-Anchor" href="#七-查找与定位类"></a> 七、查找与定位类</h3>
<ol>
<li>locate : 快速文件查找</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">locate filename               <span class="hljs-comment"># 查找文件</span><br>locate -i filename            <span class="hljs-comment"># 忽略大小写</span><br>locate -c filename            <span class="hljs-comment"># 统计找到的数量</span><br>locate -r <span class="hljs-string">&quot;pattern&quot;</span>           <span class="hljs-comment"># 使用正则表达式</span><br><span class="hljs-comment"># 注意：需要先运行 sudo updatedb 更新数据库</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>which : 查找命令位置</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">which</span> <span class="hljs-built_in">command</span>                 <span class="hljs-comment"># 显示命令完整路径</span><br><span class="hljs-built_in">which</span> -a <span class="hljs-built_in">command</span>              <span class="hljs-comment"># 显示所有匹配路径</span><br><span class="hljs-built_in">which</span> --skip-alias <span class="hljs-built_in">command</span>    <span class="hljs-comment"># 跳过别名</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>whereis : 查找命令相关文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">whereis <span class="hljs-built_in">command</span>               <span class="hljs-comment"># 查找命令的二进制、源码、手册页</span><br>whereis -b <span class="hljs-built_in">command</span>            <span class="hljs-comment"># 只查找二进制</span><br>whereis -m <span class="hljs-built_in">command</span>            <span class="hljs-comment"># 只查找手册页</span><br>whereis -s <span class="hljs-built_in">command</span>            <span class="hljs-comment"># 只查找源码</span><br><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>type : 显示命令类型</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">type</span> <span class="hljs-built_in">command</span>                  <span class="hljs-comment"># 显示命令类型（别名/内置/外部）</span><br><span class="hljs-built_in">type</span> -a <span class="hljs-built_in">command</span>               <span class="hljs-comment"># 显示所有可能的解释</span><br><span class="hljs-built_in">type</span> -t <span class="hljs-built_in">command</span>               <span class="hljs-comment"># 只显示类型（file/alias/builtin）</span><br><br></code></pre></td></tr></table></figure>
<h2 id="权限与用户管理"><a href="#权限与用户管理" class="headerlink" title="权限与用户管理"></a><a class="markdownIt-Anchor" href="#权限与用户管理"></a> 权限与用户管理</h2>
<h3 id="一-权限与用户管理类"><a href="#一-权限与用户管理类" class="headerlink" title="一-权限与用户管理类"></a><a class="markdownIt-Anchor" href="#一-权限与用户管理类"></a> 一、权限与用户管理类</h3>
<ol>
<li>sudo : 以超级用户权限执行</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">command</span>                   <span class="hljs-comment"># 执行需要root权限的命令</span><br><span class="hljs-built_in">sudo</span> -l                       <span class="hljs-comment"># 列出当前用户可执行的sudo命令</span><br><span class="hljs-built_in">sudo</span> -u username <span class="hljs-built_in">command</span>       <span class="hljs-comment"># 以指定用户身份执行</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>su : 切换用户</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">su                             <span class="hljs-comment"># 切换到root</span><br>su username                    <span class="hljs-comment"># 切换到指定用户</span><br>su - username                  <span class="hljs-comment"># 切换用户并加载环境变量</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>chmod : 修改文件权限</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> 755 file                <span class="hljs-comment"># 数字模式设置权限</span><br><span class="hljs-built_in">chmod</span> u+x file                <span class="hljs-comment"># 给所有者添加执行权限</span><br><span class="hljs-built_in">chmod</span> a-w file                <span class="hljs-comment"># 移除所有用户的写权限</span><br><span class="hljs-built_in">chmod</span> g=rx file               <span class="hljs-comment"># 设置组权限为读执行</span><br><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>chown : 修改文件所有者</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chown</span> user file               <span class="hljs-comment"># 修改文件所有者</span><br><span class="hljs-built_in">chown</span> user:group file         <span class="hljs-comment"># 同时修改所有者和组</span><br><span class="hljs-built_in">chown</span> -R user <span class="hljs-built_in">dir</span>/            <span class="hljs-comment"># 递归修改目录下所有文件</span><br><br></code></pre></td></tr></table></figure>
<ol start="5">
<li>Id : 显示用户身份信息</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">id</span>                            <span class="hljs-comment"># 显示当前用户信息</span><br><span class="hljs-built_in">id</span> username                   <span class="hljs-comment"># 显示指定用户信息</span><br><span class="hljs-built_in">id</span> -u                         <span class="hljs-comment"># 显示用户ID</span><br><span class="hljs-built_in">id</span> -g                         <span class="hljs-comment"># 显示组ID</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="二-权限绕过与工作空间类"><a href="#二-权限绕过与工作空间类" class="headerlink" title="二-权限绕过与工作空间类"></a><a class="markdownIt-Anchor" href="#二-权限绕过与工作空间类"></a> 二、权限绕过与工作空间类</h3>
<p>相关指令用法</p>
<ol>
<li>mktemp : 创建临时文件/目录</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mktemp</span> -d                  <span class="hljs-comment"># 创建临时目录，返回路径</span><br><span class="hljs-built_in">mktemp</span> file.XXXXXX         <span class="hljs-comment"># 创建临时文件</span><br><span class="hljs-built_in">mktemp</span> -t prefix.XXXXXX    <span class="hljs-comment"># 在/tmp下创建带前缀的文件</span><br><span class="hljs-built_in">mktemp</span> -p /custom/path     <span class="hljs-comment"># 在指定路径创建</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>cd : 切换目录</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /tmp                    <span class="hljs-comment"># 切换到系统临时目录（总是可写）</span><br><span class="hljs-built_in">cd</span> /dev/shm               <span class="hljs-comment"># 切换到内存文件系统（速度最快）</span><br><span class="hljs-built_in">cd</span> ~                      <span class="hljs-comment"># 回到家目录（可能只读）</span><br><span class="hljs-built_in">cd</span> -                      <span class="hljs-comment"># 回到上一个目录</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>cp : 复制文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> ~/readonly_file .      <span class="hljs-comment"># 从只读位置复制到当前目录</span><br><span class="hljs-built_in">cp</span> -r source_dir dest     <span class="hljs-comment"># 递归复制目录</span><br><span class="hljs-built_in">cp</span> -p file dest           <span class="hljs-comment"># 保留文件属性</span><br><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>rm : 删除文件/目录</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">rm</span> -rf <span class="hljs-built_in">dirname</span>            <span class="hljs-comment"># 强制递归删除目录</span><br><span class="hljs-built_in">rm</span> -f filename            <span class="hljs-comment"># 强制删除文件</span><br><span class="hljs-built_in">rm</span> -v file               <span class="hljs-comment"># 显示删除信息</span><br><br></code></pre></td></tr></table></figure>
<ol start="5">
<li>df : 查看磁盘空间</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">df</span> -h /tmp               <span class="hljs-comment"># 查看/tmp空间使用（人类可读）</span><br><span class="hljs-built_in">df</span> -i /tmp               <span class="hljs-comment"># 查看inode使用情况</span><br><br></code></pre></td></tr></table></figure>
<ol start="6">
<li>mount : 查看/操作挂载点</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">mount | grep <span class="hljs-string">&quot; ro,&quot;</span>       <span class="hljs-comment"># 查找只读挂载点</span><br>mount | grep /tmp         <span class="hljs-comment"># 查看/tmp挂载属性</span><br></code></pre></td></tr></table></figure>
<h2 id="管道与重定向"><a href="#管道与重定向" class="headerlink" title="管道与重定向"></a><a class="markdownIt-Anchor" href="#管道与重定向"></a> 管道与重定向</h2>
<h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a><a class="markdownIt-Anchor" href="#基础"></a> 基础</h3>
<ol>
<li>管道符 | : 连接命令，传递数据</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">command1 | command2          <span class="hljs-comment"># 将command1的输出作为command2的输入</span><br><span class="hljs-built_in">ls</span> -l | grep <span class="hljs-string">&quot;.txt&quot;</span>          <span class="hljs-comment"># 列出文件并过滤txt文件</span><br>ps aux | <span class="hljs-built_in">sort</span> -nk4           <span class="hljs-comment"># 列出进程并按内存排序</span><br><span class="hljs-built_in">cat</span> file | <span class="hljs-built_in">head</span> -20 | <span class="hljs-built_in">tail</span> -5 <span class="hljs-comment"># 取文件的第16-20行</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>重定向符 &gt; : 输出到文件（覆盖）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">command</span> &gt; file               <span class="hljs-comment"># 将输出保存到文件（覆盖原有内容）</span><br><span class="hljs-built_in">ls</span> &gt; filelist.txt            <span class="hljs-comment"># 将ls结果保存到文件</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;hello&quot;</span> &gt; greeting.txt  <span class="hljs-comment"># 创建文件并写入内容</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>重定向符 &gt;&gt; : 输出到文件（追加）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">command</span> &gt;&gt; file              <span class="hljs-comment"># 将输出追加到文件末尾</span><br><span class="hljs-built_in">date</span> &gt;&gt; log.txt              <span class="hljs-comment"># 将当前时间追加到日志</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;new entry&quot;</span> &gt;&gt; data.txt <span class="hljs-comment"># 在文件末尾添加新行</span><br><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>输入重定向 &lt; : 从文件读取输入</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">command</span> &lt; file               <span class="hljs-comment"># 从文件读取输入（代替键盘输入）</span><br><span class="hljs-built_in">sort</span> &lt; unsorted.txt          <span class="hljs-comment"># 从文件读取内容进行排序</span><br><span class="hljs-built_in">wc</span> -l &lt; data.txt             <span class="hljs-comment"># 统计文件行数</span><br><br></code></pre></td></tr></table></figure>
<ol start="5">
<li>here文档 &lt;&lt; : 内联输入</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">command</span> &lt;&lt; <span class="hljs-string">EOF</span><br><span class="hljs-string">多行输入</span><br><span class="hljs-string">直到遇到EOF</span><br>EOF<br><br><span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">END</span><br><span class="hljs-string">这是多行文本</span><br><span class="hljs-string">直接作为输入</span><br><span class="hljs-string">END</span><br><br></code></pre></td></tr></table></figure>
<ol start="6">
<li>标准错误重定向 2&gt; : 处理错误信息</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">command</span> 2&gt; error.log         <span class="hljs-comment"># 将错误信息保存到文件</span><br>find / -name <span class="hljs-string">&quot;*.conf&quot;</span> 2&gt;/dev/null  <span class="hljs-comment"># 丢弃错误信息</span><br><span class="hljs-built_in">command</span> 2&gt;&amp;1                 <span class="hljs-comment"># 将错误重定向到标准输出</span><br><span class="hljs-built_in">command</span> &gt; output.txt 2&gt;&amp;1    <span class="hljs-comment"># 将输出和错误都保存到文件</span><br><br></code></pre></td></tr></table></figure>
<ol start="7">
<li>tee : 分流输出（同时输出到屏幕和文件）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">command</span> | <span class="hljs-built_in">tee</span> file           <span class="hljs-comment"># 输出到屏幕并保存到文件</span><br><span class="hljs-built_in">ls</span> | <span class="hljs-built_in">tee</span> list.txt | <span class="hljs-built_in">wc</span> -l    <span class="hljs-comment"># 保存列表并统计行数</span><br><span class="hljs-built_in">command</span> | <span class="hljs-built_in">tee</span> -a log.txt     <span class="hljs-comment"># 追加到文件（-a参数）</span><br><br></code></pre></td></tr></table></figure>
<ol start="8">
<li>xargs : 将管道输入转为命令行参数</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;file1 file2&quot;</span> | xargs <span class="hljs-built_in">rm</span>    <span class="hljs-comment"># 删除file1和file2</span><br>find . -name <span class="hljs-string">&quot;*.txt&quot;</span> | xargs grep <span class="hljs-string">&quot;pattern&quot;</span>  <span class="hljs-comment"># 在所有txt文件中搜索</span><br><span class="hljs-built_in">ls</span> *.txt | xargs -I &#123;&#125; <span class="hljs-built_in">cp</span> &#123;&#125; backup/  <span class="hljs-comment"># 复制所有txt文件</span><br><br></code></pre></td></tr></table></figure>
<ol start="9">
<li>命名管道 mkfifo : 创建先进先出管道</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkfifo</span> mypipe                <span class="hljs-comment"># 创建命名管道</span><br><span class="hljs-built_in">ls</span> -l &gt; mypipe &amp;             <span class="hljs-comment"># 在后台写入管道</span><br><span class="hljs-built_in">cat</span> &lt; mypipe                 <span class="hljs-comment"># 从管道读取</span><br><br></code></pre></td></tr></table></figure>
<ol start="10">
<li>进程替换 &lt;( ) 和 &gt;( ) : 将命令输出作为文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">diff &lt;(<span class="hljs-built_in">ls</span> dir1) &lt;(<span class="hljs-built_in">ls</span> dir2)   <span class="hljs-comment"># 比较两个目录的内容</span><br>tar czf &gt;(ssh host <span class="hljs-string">&quot;cat &gt; backup.tar.gz&quot;</span>) /data  <span class="hljs-comment"># 直接压缩传输</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="管道组合模式"><a href="#管道组合模式" class="headerlink" title="管道组合模式"></a><a class="markdownIt-Anchor" href="#管道组合模式"></a> 管道组合模式</h3>
<p>模式1：过滤链</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> log.txt | grep <span class="hljs-string">&quot;ERROR&quot;</span> | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c | <span class="hljs-built_in">sort</span> -nr<br><span class="hljs-comment"># 读取日志 → 过滤错误 → 排序 → 统计重复 → 按数量降序</span><br><br></code></pre></td></tr></table></figure>
<p>模式2：解码链</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> encoded.txt | <span class="hljs-built_in">base64</span> -d | <span class="hljs-built_in">tr</span> <span class="hljs-string">&#x27;A-Z&#x27;</span> <span class="hljs-string">&#x27;a-z&#x27;</span> | grep <span class="hljs-string">&quot;secret&quot;</span><br><span class="hljs-comment"># 读取文件 → base64解码 → 转小写 → 搜索关键词</span><br><br></code></pre></td></tr></table></figure>
<p>模式3：统计报告</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">netstat -an | grep <span class="hljs-string">&quot;:80 &quot;</span> | awk <span class="hljs-string">&#x27;&#123;print $5&#125;&#x27;</span> | <span class="hljs-built_in">cut</span> -d: -f1 | <span class="hljs-built_in">sort</span> | <span class="hljs-built_in">uniq</span> -c<br><span class="hljs-comment"># 网络连接 → 过滤80端口 → 提取IP → 去端口 → 排序 → 统计每个IP连接数</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a><a class="markdownIt-Anchor" href="#注意事项"></a> 注意事项</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">1. 管道缓冲区：默认64KB，大数据可能阻塞<br>2. 二进制安全：文本工具可能损坏二进制数据<br>3. 错误处理：管道中某个命令失败不影响后续<br>4. 性能：长管道链可能降低性能<br></code></pre></td></tr></table></figure>
<h2 id="文本处理"><a href="#文本处理" class="headerlink" title="文本处理"></a><a class="markdownIt-Anchor" href="#文本处理"></a> 文本处理</h2>
<h3 id="一-文本处理"><a href="#一-文本处理" class="headerlink" title="一-文本处理"></a><a class="markdownIt-Anchor" href="#一-文本处理"></a> 一、文本处理</h3>
<ol>
<li>grep : 文本搜索工具</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep <span class="hljs-string">&quot;pattern&quot;</span> filename      <span class="hljs-comment"># 搜索包含&quot;pattern&quot;的行</span><br>grep -i <span class="hljs-string">&quot;pattern&quot;</span> filename   <span class="hljs-comment"># 忽略大小写搜索</span><br>grep -r <span class="hljs-string">&quot;pattern&quot;</span> <span class="hljs-built_in">dir</span>/       <span class="hljs-comment"># 递归搜索目录</span><br>grep -v <span class="hljs-string">&quot;pattern&quot;</span> filename   <span class="hljs-comment"># 显示不包含pattern的行（反转）</span><br>grep -n <span class="hljs-string">&quot;pattern&quot;</span> filename   <span class="hljs-comment"># 显示行号</span><br>grep -c <span class="hljs-string">&quot;pattern&quot;</span> filename   <span class="hljs-comment"># 统计匹配行数</span><br>grep -E <span class="hljs-string">&quot;regex&quot;</span> filename     <span class="hljs-comment"># 使用扩展正则表达式</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>sort : 排序文本行</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sort</span> filename          <span class="hljs-comment"># 按字母顺序排序</span><br><span class="hljs-built_in">sort</span> -n filename       <span class="hljs-comment"># 按数字大小排序</span><br><span class="hljs-built_in">sort</span> -r filename       <span class="hljs-comment"># 反向排序</span><br><span class="hljs-built_in">sort</span> -u filename       <span class="hljs-comment"># 去重并排序</span><br><span class="hljs-built_in">sort</span> data.txt | <span class="hljs-built_in">uniq</span> -u  <span class="hljs-comment"># 组合使用：找唯一行</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>uniq : 报告或忽略重复行</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">uniq</span> filename          <span class="hljs-comment"># 去重（需先排序）</span><br><span class="hljs-built_in">uniq</span> -c filename       <span class="hljs-comment"># 统计每行出现次数</span><br><span class="hljs-built_in">uniq</span> -u filename       <span class="hljs-comment"># 只显示唯一行（不重复的）</span><br><span class="hljs-built_in">uniq</span> -d filename       <span class="hljs-comment"># 只显示重复行</span><br><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>tr : 字符替换/删除</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">tr</span> <span class="hljs-string">&#x27;a-z&#x27;</span> <span class="hljs-string">&#x27;A-Z&#x27;</span> &lt; file  <span class="hljs-comment"># 小写转大写</span><br><span class="hljs-built_in">tr</span> -d <span class="hljs-string">&#x27;\\n&#x27;</span> &lt; file      <span class="hljs-comment"># 删除换行符</span><br><span class="hljs-built_in">tr</span> -d <span class="hljs-string">&#x27;0-9&#x27;</span> &lt; file     <span class="hljs-comment"># 删除所有数字</span><br><span class="hljs-comment"># ROT13解码：</span><br><span class="hljs-built_in">tr</span> <span class="hljs-string">&#x27;A-Za-z&#x27;</span> <span class="hljs-string">&#x27;N-ZA-Mn-za-m&#x27;</span> &lt; data.txt<br><br></code></pre></td></tr></table></figure>
<ol start="5">
<li>base64 : base64编解码</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">base64</span> filename        <span class="hljs-comment"># 编码</span><br><span class="hljs-built_in">base64</span> -d filename     <span class="hljs-comment"># 解码（-d 参数）</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;hello&quot;</span> | <span class="hljs-built_in">base64</span>  <span class="hljs-comment"># 管道编码</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;aGVsbG8=&quot;</span> | <span class="hljs-built_in">base64</span> -d  <span class="hljs-comment"># 管道解码</span><br><br></code></pre></td></tr></table></figure>
<ol start="6">
<li>wc : 统计行数、单词数、字节数</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">wc</span> filename                   <span class="hljs-comment"># 统计行数、单词数、字节数</span><br><span class="hljs-built_in">wc</span> -l filename                <span class="hljs-comment"># 只统计行数</span><br><span class="hljs-built_in">wc</span> -w filename                <span class="hljs-comment"># 只统计单词数</span><br><span class="hljs-built_in">wc</span> -c filename                <span class="hljs-comment"># 只统计字节数</span><br><span class="hljs-built_in">wc</span> -m filename                <span class="hljs-comment"># 只统计字符数</span><br><br></code></pre></td></tr></table></figure>
<ol start="7">
<li>cut : 剪切文件中的列</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cut</span> -d: -f1 filename          <span class="hljs-comment"># 以冒号分隔，取第一列</span><br><span class="hljs-built_in">cut</span> -c1-10 filename           <span class="hljs-comment"># 取第1-10个字符</span><br><span class="hljs-built_in">cut</span> -f2,5 filename            <span class="hljs-comment"># 取第2列和第5列</span><br><span class="hljs-built_in">cut</span> -d<span class="hljs-string">&#x27; &#x27;</span> -f2- filename       <span class="hljs-comment"># 以空格分隔，取第二列到最后一列</span><br><br></code></pre></td></tr></table></figure>
<ol start="8">
<li>paste : 合并文件行</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">paste</span> file1 file2             <span class="hljs-comment"># 并排合并文件</span><br><span class="hljs-built_in">paste</span> -d<span class="hljs-string">&#x27;,&#x27;</span> file1 file2       <span class="hljs-comment"># 用逗号分隔合并</span><br><span class="hljs-built_in">paste</span> -s file1                <span class="hljs-comment"># 将文件所有行合并为一行</span><br><span class="hljs-built_in">paste</span> -d<span class="hljs-string">&#x27;\\t&#x27;</span> file1 file2      <span class="hljs-comment"># 用制表符分隔</span><br><br></code></pre></td></tr></table></figure>
<ol start="9">
<li>join : 基于共同字段合并文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">join</span> file1 file2              <span class="hljs-comment"># 基于第一列合并</span><br><span class="hljs-built_in">join</span> -1 2 -2 3 file1 file2    <span class="hljs-comment"># 指定列合并（file1第2列，file2第3列）</span><br><span class="hljs-built_in">join</span> -t<span class="hljs-string">&#x27;:&#x27;</span> file1 file2        <span class="hljs-comment"># 指定分隔符</span><br><span class="hljs-built_in">join</span> -a1 file1 file2          <span class="hljs-comment"># 显示file1所有行（类似左连接）</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="二-压缩归档类"><a href="#二-压缩归档类" class="headerlink" title="二-压缩归档类"></a><a class="markdownIt-Anchor" href="#二-压缩归档类"></a> 二、压缩归档类</h3>
<ol>
<li>tar : 打包/解包归档文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar xf archive.tar           <span class="hljs-comment"># 解包（提取）</span><br>tar tf archive.tar           <span class="hljs-comment"># 查看包内文件列表</span><br>tar czf archive.tar.gz <span class="hljs-built_in">dir</span>/  <span class="hljs-comment"># 打包并用gzip压缩</span><br>tar xzf archive.tar.gz       <span class="hljs-comment"># 解压gzip压缩的tar包</span><br>tar cjf archive.tar.bz2 <span class="hljs-built_in">dir</span>/ <span class="hljs-comment"># 打包并用bzip2压缩</span><br>tar xjf archive.tar.bz2      <span class="hljs-comment"># 解压bzip2压缩的tar包</span><br>tar xO archive.tar           <span class="hljs-comment"># 解包到标准输出（不保存文件）</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>gzip / gunzip : gzip格式压缩/解压</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">gzip filename           <span class="hljs-comment"># 压缩，生成 filename.gz</span><br>gzip -d filename.gz     <span class="hljs-comment"># 解压（同 gunzip filename.gz）</span><br>zcat filename.gz        <span class="hljs-comment"># 不解压直接查看内容</span><br>gzip -c file &gt; file.gz  <span class="hljs-comment"># 压缩并保留原文件</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>bzip2 / bunzip2 : bzip2格式压缩/解压</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">bzip2 filename          <span class="hljs-comment"># 压缩，生成 filename.bz2</span><br>bzip2 -d filename.bz2   <span class="hljs-comment"># 解压（同 bunzip2 filename.bz2）</span><br>bzcat filename.bz2      <span class="hljs-comment"># 不解压直接查看内容</span><br>bzip2 -k filename       <span class="hljs-comment"># 压缩并保留原文件（-k 参数）</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="三-文本编辑与处理高级"><a href="#三-文本编辑与处理高级" class="headerlink" title="三-文本编辑与处理高级"></a><a class="markdownIt-Anchor" href="#三-文本编辑与处理高级"></a> 三、文本编辑与处理（高级）</h3>
<ol>
<li>vim / vi : 文本编辑器</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim file                      <span class="hljs-comment"># 用vim打开文件</span><br><span class="hljs-comment"># 常用操作: i插入, Esc退出插入, :wq保存退出, :q!强制退出</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>nano : 简单文本编辑器</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">nano file                     <span class="hljs-comment"># 用nano打开文件</span><br><span class="hljs-comment"># Ctrl+O保存, Ctrl+X退出</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>awk : 文本处理语言</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">awk <span class="hljs-string">&#x27;&#123;print $1&#125;&#x27;</span> file        <span class="hljs-comment"># 打印第一列</span><br>awk -F: <span class="hljs-string">&#x27;&#123;print $1&#125;&#x27;</span> file    <span class="hljs-comment"># 以冒号为分隔符</span><br>awk <span class="hljs-string">&#x27;/pattern/ &#123;print $0&#125;&#x27;</span>   <span class="hljs-comment"># 匹配模式的行</span><br><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>sed : 流编辑器</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">sed <span class="hljs-string">&#x27;s/old/new/g&#x27;</span> file       <span class="hljs-comment"># 替换所有old为new</span><br>sed -n <span class="hljs-string">&#x27;5,10p&#x27;</span> file          <span class="hljs-comment"># 打印5-10行</span><br>sed <span class="hljs-string">&#x27;/pattern/d&#x27;</span> file        <span class="hljs-comment"># 删除匹配行</span><br><br></code></pre></td></tr></table></figure>
<h2 id="网络操作"><a href="#网络操作" class="headerlink" title="网络操作"></a><a class="markdownIt-Anchor" href="#网络操作"></a> 网络操作</h2>
<ol>
<li>ssh : 安全远程登录</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh user@host                  <span class="hljs-comment"># 基本连接</span><br>ssh -p 2220 user@host          <span class="hljs-comment"># 指定端口</span><br>ssh -i key.pem user@host       <span class="hljs-comment"># 使用密钥登录</span><br>ssh -L 8080:localhost:80 user@host  <span class="hljs-comment"># 本地端口转发</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>telnet : 明文远程登录（测试服务）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">telnet host 端口号             <span class="hljs-comment"># 连接服务</span><br>telnet bandit.labs.overthewire.org 2220  <span class="hljs-comment"># Bandit连接方式</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>nc (netcat) : 网络瑞士军刀</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">nc -l -p 1234                  <span class="hljs-comment"># 监听端口</span><br>nc host 端口号                 <span class="hljs-comment"># 连接主机</span><br>nc -z host 端口范围            <span class="hljs-comment"># 端口扫描</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;data&quot;</span> | nc host port     <span class="hljs-comment"># 发送数据</span><br><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>curl : 传输数据（HTTP/FTP等）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl &lt;http://example.com&gt;        <span class="hljs-comment"># 获取网页</span><br>curl -o file.txt &lt;http://url&gt;    <span class="hljs-comment"># 下载文件</span><br>curl -X POST -d <span class="hljs-string">&quot;data&quot;</span> &lt;http://url&gt;  <span class="hljs-comment"># POST请求</span><br>curl -u user:pass &lt;http://url&gt;   <span class="hljs-comment"># 基本认证</span><br><br></code></pre></td></tr></table></figure>
<h2 id="系统信息与进程"><a href="#系统信息与进程" class="headerlink" title="系统信息与进程"></a><a class="markdownIt-Anchor" href="#系统信息与进程"></a> 系统信息与进程</h2>
<ol>
<li>ps : 显示进程状态</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">ps aux                        <span class="hljs-comment"># 显示所有进程详细信息</span><br>ps -ef                        <span class="hljs-comment"># 完整格式列表</span><br>ps -u username                <span class="hljs-comment"># 显示指定用户的进程</span><br>ps aux | grep process_name    <span class="hljs-comment"># 查找特定进程</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>top / htop : 动态显示进程</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">top                           <span class="hljs-comment"># 实时进程监控</span><br>htop                          <span class="hljs-comment"># 增强版top（需要安装）</span><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>kill : 终止进程</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">kill</span> PID                      <span class="hljs-comment"># 终止指定PID进程</span><br><span class="hljs-built_in">kill</span> -9 PID                   <span class="hljs-comment"># 强制终止</span><br>killall process_name          <span class="hljs-comment"># 终止所有同名进程</span><br>pkill pattern                 <span class="hljs-comment"># 按模式终止进程</span><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>jobs / fg / bg : 作业控制</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">jobs</span>                          <span class="hljs-comment"># 显示后台作业</span><br><span class="hljs-built_in">fg</span> %1                         <span class="hljs-comment"># 将作业1调到前台</span><br><span class="hljs-built_in">bg</span> %1                         <span class="hljs-comment"># 将作业1放到后台</span><br><span class="hljs-built_in">command</span> &amp;                     <span class="hljs-comment"># 在后台运行命令</span><br></code></pre></td></tr></table></figure>
<ol start="5">
<li>df / du : 磁盘空间</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">df</span> -h                         <span class="hljs-comment"># 显示磁盘使用情况（人类可读）</span><br><span class="hljs-built_in">du</span> -sh <span class="hljs-built_in">dir</span>/                   <span class="hljs-comment"># 显示目录总大小</span><br><span class="hljs-built_in">du</span> -h --max-depth=1           <span class="hljs-comment"># 显示一级子目录大小</span><br><br>挂载存储U盘<br><br>```bash<br><span class="hljs-comment"># 1. 创建挂载目录（如果不存在）</span><br>$ <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">mkdir</span> -p /mnt/vm_disk<br><br><span class="hljs-comment"># 2. 挂载 U 盘（假设 U 盘设备为 /dev/sdb1）</span><br>$ <span class="hljs-built_in">sudo</span> mount /dev/sdb1 /mnt/vm_disk<br><br><span class="hljs-comment"># 3. 使用完毕后安全卸载 U 盘</span><br>$ <span class="hljs-built_in">sudo</span> umount /mnt/vm_disk<br><br>如果想进一步判断 U 盘设备名，可以先用以下命令查看：<br><br><span class="hljs-comment"># 查看当前存储设备信息</span><br>$ lsblk<br><span class="hljs-comment"># 或</span><br>$ <span class="hljs-built_in">sudo</span> fdisk -l<br><br></code></pre></td></tr></table></figure>
<hr />
<h2 id="shell脚本"><a href="#shell脚本" class="headerlink" title="shell脚本"></a><a class="markdownIt-Anchor" href="#shell脚本"></a> shell脚本</h2>
<h3 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a><a class="markdownIt-Anchor" href="#变量定义"></a> 变量定义</h3>
<p>一、变量定义（赋值）</p>
<ol>
<li>基本定义（不加$）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 定义变量（赋值时不用$）</span><br>name=<span class="hljs-string">&quot;张三&quot;</span><br>age=25<br>file=<span class="hljs-string">&quot;test.zip&quot;</span><br>PATH=<span class="hljs-string">&quot;/usr/bin:/bin&quot;</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>规则</li>
</ol>
<p>· 等号两边不能有空格：name=“张三” ✅ name = “张三” ❌<br />
· 变量名：字母/数字/下划线，不能数字开头<br />
· 值可以加引号，也可以不加（但推荐加）</p>
<p>二、变量使用（要加$）</p>
<ol>
<li>基本使用</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">name=<span class="hljs-string">&quot;张三&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$name</span>      <span class="hljs-comment"># 输出：张三</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$name</span>&quot;</span>    <span class="hljs-comment"># 输出：张三（推荐）</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;$name&#x27;</span>    <span class="hljs-comment"># 输出：$name（单引号不替换）</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>变量+文本的三种写法</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">prefix=<span class="hljs-string">&quot;INFO_&quot;</span><br><br><span class="hljs-comment"># 方法1：大括号（最推荐！）</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;prefix&#125;</span>message&quot;</span>    <span class="hljs-comment"># INFO_message</span><br><br><span class="hljs-comment"># 方法2：空格分隔</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$prefix</span> message&quot;</span>     <span class="hljs-comment"># INFO_ message（有空格）</span><br><br><span class="hljs-comment"># 方法3：引号外拼接（不推荐）</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$prefix</span><span class="hljs-string">&quot;message&quot;</span>      <span class="hljs-comment"># INFO_message</span><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>必须用大括号的情况</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 当变量名后紧跟文本时</span><br>count=5<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;我有<span class="hljs-variable">$&#123;count&#125;</span>个苹果&quot;</span>  <span class="hljs-comment"># ✅ 正确：我有5个苹果</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;我有<span class="hljs-variable">$count</span>个苹果&quot;</span>    <span class="hljs-comment"># ❌ 错误：找$count个苹果变量</span><br></code></pre></td></tr></table></figure>
<p>三、输出前缀模式</p>
<ol>
<li>定义前缀变量</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 定义输出前缀（标签）</span><br>INFO=<span class="hljs-string">&quot;[INFO] &quot;</span><br>ERROR=<span class="hljs-string">&quot;[ERROR] &quot;</span><br>SUCCESS=<span class="hljs-string">&quot;[SUCCESS] &quot;</span><br>WARNING=<span class="hljs-string">&quot;[WARNING] &quot;</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>使用前缀（必须用{}）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">file=<span class="hljs-string">&quot;test.zip&quot;</span><br><br><span class="hljs-comment"># 正确用法</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;INFO&#125;</span>检查文件: <span class="hljs-variable">$file</span>&quot;</span>     <span class="hljs-comment"># [INFO] 检查文件: test.zip</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;ERROR&#125;</span>文件不存在: <span class="hljs-variable">$file</span>&quot;</span>  <span class="hljs-comment"># [ERROR] 文件不存在: test.zip</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;SUCCESS&#125;</span>解压成功&quot;</span>         <span class="hljs-comment"># [SUCCESS] 解压成功</span><br><br><span class="hljs-comment"># 错误用法</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$INFO</span>检查文件&quot;</span>    <span class="hljs-comment"># ❌ 找 $INFO检查文件 变量</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$ERROR</span>文件不存在&quot;</span> <span class="hljs-comment"># ❌ 找 $ERROR文件不存在 变量</span><br></code></pre></td></tr></table></figure>
<ol>
<li>后期添加颜色（只需修改定义）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 无颜色版本</span><br><span class="hljs-comment"># INFO=&quot;[INFO] &quot;</span><br><span class="hljs-comment"># ERROR=&quot;[ERROR] &quot;</span><br><br><span class="hljs-comment"># 有颜色版本（只需改这里！）</span><br>RED=<span class="hljs-string">&#x27;\\033[0;31m&#x27;</span><br>GREEN=<span class="hljs-string">&#x27;\\033[0;32m&#x27;</span><br>NC=<span class="hljs-string">&#x27;\\033[0m&#x27;</span><br><br>INFO=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;RED&#125;</span>[INFO]<span class="hljs-variable">$&#123;NC&#125;</span> &quot;</span>      <span class="hljs-comment"># 红色INFO</span><br>ERROR=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;GREEN&#125;</span>[ERROR]<span class="hljs-variable">$&#123;NC&#125;</span> &quot;</span>  <span class="hljs-comment"># 绿色ERROR</span><br><span class="hljs-comment"># 其他地方代码完全不变！</span><br></code></pre></td></tr></table></figure>
<p>四、局部变量 vs 全局变量</p>
<ol>
<li>局部变量（函数内使用）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-function"><span class="hljs-title">process_file</span></span>() &#123;<br>    <span class="hljs-built_in">local</span> file=<span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>      <span class="hljs-comment"># local声明局部变量</span><br>    <span class="hljs-built_in">local</span> name=<span class="hljs-string">&quot;临时&quot;</span><br>    <span class="hljs-comment"># 这里的变量不会影响函数外部</span><br>&#125;<br><br><span class="hljs-comment"># 调用</span><br>process_file <span class="hljs-string">&quot;test.zip&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$file</span>  <span class="hljs-comment"># ❌ 为空，因为file是局部变量</span><br></code></pre></td></tr></table></figure>
<ol>
<li>全局变量（不加local）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">global_var=<span class="hljs-string">&quot;我是全局的&quot;</span><br><br><span class="hljs-function"><span class="hljs-title">my_function</span></span>() &#123;<br>    file=<span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>           <span class="hljs-comment"># ❌ 危险！影响全局</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;处理: <span class="hljs-variable">$file</span>&quot;</span><br>&#125;<br><br><span class="hljs-comment"># 调用后，file变量在脚本任何地方都可以访问</span><br></code></pre></td></tr></table></figure>
<p>五、特殊变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">变量      含义        <br><span class="hljs-variable">$0</span>       脚本名称    <br><span class="hljs-variable">$1</span> - <span class="hljs-variable">$9</span>  第1-9个参数<br><span class="hljs-variable">$#</span>       参数个数<br><span class="hljs-variable">$@</span>       所有参数列表<br>$*       所有参数（一个字符串）<br>$?       上一个命令的退出码 0=成功，非0=失败<br>$$       当前进程PID<br>$!       最后一个后台进程PID<br></code></pre></td></tr></table></figure>
<p>六、命令替换：将命令输出保存到变量</p>
<p>$()（新写法，推荐）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">current_date=$(<span class="hljs-built_in">date</span>)<br>file_count=$(<span class="hljs-built_in">ls</span> | <span class="hljs-built_in">wc</span> -l)<br>filename=$(<span class="hljs-built_in">basename</span> <span class="hljs-string">&quot;/path/to/file.zip&quot;</span>)  <span class="hljs-comment"># 你的脚本用法</span><br></code></pre></td></tr></table></figure>
<h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a><a class="markdownIt-Anchor" href="#条件判断"></a> 条件判断</h3>
<h4 id="一-基本语法结构"><a href="#一-基本语法结构" class="headerlink" title="一-基本语法结构"></a><a class="markdownIt-Anchor" href="#一-基本语法结构"></a> 一、基本语法结构</h4>
<ol>
<li>if 基础结构</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 基本格式</span><br><span class="hljs-keyword">if</span> [ 条件 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-comment"># 条件成立执行的代码</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># 或写成多行</span><br><span class="hljs-keyword">if</span> [ 条件 ]<br><span class="hljs-keyword">then</span><br>    <span class="hljs-comment"># 代码</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>if-else 结构</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">if</span> [ 条件 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;条件成立&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;条件不成立&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>if-elif-else 结构</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">if</span> [ 条件1 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;条件1成立&quot;</span><br><span class="hljs-keyword">elif</span> [ 条件2 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;条件2成立&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;都不成立&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>
<h4 id="二-测试条件语法"><a href="#二-测试条件语法" class="headerlink" title="二-测试条件语法"></a><a class="markdownIt-Anchor" href="#二-测试条件语法"></a> 二、测试条件语法</h4>
<ol>
<li>旧语法：test 或 [ ]</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 两种等价写法</span><br><span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> -f <span class="hljs-string">&quot;file.txt&quot;</span>; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;文件存在&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">if</span> [ -f <span class="hljs-string">&quot;file.txt&quot;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;文件存在&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>新语法：[[ ]]（推荐）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">if</span> [[ -f <span class="hljs-string">&quot;file.txt&quot;</span> ]]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;文件存在&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>
<h4 id="三-测试条件"><a href="#三-测试条件" class="headerlink" title="三-测试条件"></a><a class="markdownIt-Anchor" href="#三-测试条件"></a> 三、测试条件</h4>
<ol>
<li>文件存在性</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">-e 文件/目录存在 <br>-f 是普通文件 <br>-d 是目录 检查是否是目录<br></code></pre></td></tr></table></figure>
<ol start="2">
<li>文件权限</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">-r 文件可读 [ ! -r <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span> ] 检查不可读<br>-w 文件可写 检查是否可写<br>-x 文件可执行 检查是否可执行<br>-s 文件非空（大小&gt;0） [ ! -s <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span> ] 检查为空文件<br></code></pre></td></tr></table></figure>
<ol start="3">
<li>文件类型</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">-L 是符号链接 [ -L <span class="hljs-string">&quot;link&quot;</span> ]<br>-b 是块设备文件 [ -b <span class="hljs-string">&quot;/dev/sda&quot;</span> ]<br>-c 是字符设备文件 [ -c <span class="hljs-string">&quot;/dev/tty&quot;</span> ]<br>-p 是命名管道 [ -p <span class="hljs-string">&quot;fifo&quot;</span> ]<br></code></pre></td></tr></table></figure>
<ol start="4">
<li>数值比较（整数）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">-eq 等于（equal） [ <span class="hljs-variable">$a</span> -eq <span class="hljs-variable">$b</span> ]<br>-ne 不等于（not equal） [ <span class="hljs-variable">$a</span> -ne <span class="hljs-variable">$b</span> ]<br>-gt 大于（greater than） [ <span class="hljs-variable">$a</span> -gt <span class="hljs-variable">$b</span> ]<br>-ge 大于等于 [ <span class="hljs-variable">$a</span> -ge <span class="hljs-variable">$b</span> ]<br>-lt 小于（less than） [ <span class="hljs-variable">$a</span> -lt <span class="hljs-variable">$b</span> ]<br>-le 小于等于 [ <span class="hljs-variable">$a</span> -le <span class="hljs-variable">$b</span> ]<br></code></pre></td></tr></table></figure>
<ol start="5">
<li>字符串比较</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">-z 字符串为空 [ -z <span class="hljs-string">&quot;<span class="hljs-variable">$str</span>&quot;</span> ]<br>-n 字符串非空 [ -n <span class="hljs-string">&quot;<span class="hljs-variable">$str</span>&quot;</span> ]<br>= 字符串相等 [ <span class="hljs-string">&quot;<span class="hljs-variable">$str1</span>&quot;</span> = <span class="hljs-string">&quot;<span class="hljs-variable">$str2</span>&quot;</span> ]<br>!= 字符串不等 [ <span class="hljs-string">&quot;<span class="hljs-variable">$str1</span>&quot;</span> != <span class="hljs-string">&quot;<span class="hljs-variable">$str2</span>&quot;</span> ]<br></code></pre></td></tr></table></figure>
<ol start="6">
<li>逻辑操作符</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 传统写法（不推荐）</span><br>[ 条件1 -a 条件2 ]  <span class="hljs-comment"># 与</span><br>[ 条件1 -o 条件2 ]  <span class="hljs-comment"># 或</span><br>[ ! 条件 ]          <span class="hljs-comment"># 非</span><br><br><span class="hljs-comment"># 现代写法（推荐）</span><br>[ 条件1 ] &amp;&amp; [ 条件2 ]   <span class="hljs-comment"># 与</span><br>[ 条件1 ] || [ 条件2 ]   <span class="hljs-comment"># 或</span><br>! [ 条件 ]              <span class="hljs-comment"># 非</span><br></code></pre></td></tr></table></figure>
<ol start="7">
<li>[[ ]] 增强测试（bash特有）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 模式匹配</span><br>[[ <span class="hljs-variable">$file</span> == *.txt ]]<br><br><span class="hljs-comment"># 正则表达式</span><br>[[ <span class="hljs-variable">$input</span> =~ ^[0-9]+$ ]] <br>^       <span class="hljs-comment"># 开头（像Ctrl+Home）</span><br>$       <span class="hljs-comment"># 结尾（像Ctrl+End）</span><br>.       <span class="hljs-comment"># 任意一个字符（像？通配符）</span><br>*       <span class="hljs-comment"># 前面的东西出现0次或多次（&quot;随便有没有&quot;）</span><br>+       <span class="hljs-comment"># 前面的东西出现1次或多次（&quot;至少要有&quot;）</span><br><br><span class="hljs-comment"># 字符串比较（不用引号）</span><br>[[ <span class="hljs-variable">$str1</span> &lt; <span class="hljs-variable">$str2</span> ]]<br><br><span class="hljs-comment"># 逻辑运算符（不用-a/-o）</span><br>[[ -f file &amp;&amp; -r file ]]<br><br><span class="hljs-comment"># 处理空值安全</span><br>[[ <span class="hljs-variable">$var</span> ]]          <span class="hljs-comment"># var非空（安全）</span><br></code></pre></td></tr></table></figure>
<h4 id="一-while-循环"><a href="#一-while-循环" class="headerlink" title="一-while-循环"></a><a class="markdownIt-Anchor" href="#一-while-循环"></a> 一、while 循环</h4>
<p>基本结构</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">while</span> [ 条件 ]<br><span class="hljs-keyword">do</span><br>    命令<br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure>
<p>无限循环</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 服务器监控脚本</span><br><span class="hljs-keyword">while</span> <span class="hljs-literal">true</span><br><span class="hljs-keyword">do</span><br>    <span class="hljs-keyword">if</span> ! ping -c 1 google.com &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(date)</span>: 网络断开！&quot;</span> &gt;&gt; network.log<br>    <span class="hljs-keyword">fi</span><br>    <span class="hljs-built_in">sleep</span> 60  <span class="hljs-comment"># 每60秒检查一次</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure>
<h4 id="二-for-循环"><a href="#二-for-循环" class="headerlink" title="二-for-循环"></a><a class="markdownIt-Anchor" href="#二-for-循环"></a> 二、for 循环</h4>
<ol>
<li>遍历列表</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 解压多个指定文件</span><br><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> archive1.zip archive2.tar.gz backup.rar<br><span class="hljs-keyword">do</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;正在处理: <span class="hljs-variable">$file</span>&quot;</span><br>    ./unlock_nest.sh <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>遍历文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 解压当前目录所有压缩文件</span><br><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> *.zip *.tar.gz *.rar *.7z<br><span class="hljs-keyword">do</span><br>    <span class="hljs-keyword">if</span> [ -f <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;批量解压: <span class="hljs-variable">$file</span>&quot;</span><br>        ./unlock_nest.sh <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span><br>    <span class="hljs-keyword">fi</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>遍历命令输出</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 处理find找到的所有zip文件</span><br><span class="hljs-keyword">for</span> zipfile <span class="hljs-keyword">in</span> $(find /path -name <span class="hljs-string">&quot;*.zip&quot;</span>)<br><span class="hljs-keyword">do</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;找到: <span class="hljs-variable">$zipfile</span>&quot;</span><br>    unzip <span class="hljs-string">&quot;<span class="hljs-variable">$zipfile</span>&quot;</span><br><span class="hljs-keyword">done</span><br><br></code></pre></td></tr></table></figure>
<h4 id="三-until-循环"><a href="#三-until-循环" class="headerlink" title="三-until-循环"></a><a class="markdownIt-Anchor" href="#三-until-循环"></a> 三、until 循环</h4>
<p>与 while 相反：条件为假时执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 等待服务启动</span><br><span class="hljs-keyword">until</span> curl -s &lt;http://localhost:8080&gt; &gt;/dev/null<br><span class="hljs-keyword">do</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;等待服务启动...&quot;</span><br>    <span class="hljs-built_in">sleep</span> 2<br><span class="hljs-keyword">done</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;服务已启动！&quot;</span><br></code></pre></td></tr></table></figure>
<h4 id="四-循环控制语句"><a href="#四-循环控制语句" class="headerlink" title="四-循环控制语句"></a><a class="markdownIt-Anchor" href="#四-循环控制语句"></a> 四、循环控制语句</h4>
<p>break：跳出循环</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 找到第一个可解压文件就停止</span><br><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> *<br><span class="hljs-keyword">do</span><br>    <span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span> =~ \\.(zip|tar|rar)$ ]]; <span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;找到: <span class="hljs-variable">$file</span>&quot;</span><br>        ./unlock_nest.sh <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span><br>        <span class="hljs-built_in">break</span>  <span class="hljs-comment"># 只处理第一个</span><br>    <span class="hljs-keyword">fi</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure>
<p>continue：跳过本次循环</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 跳过空文件</span><br><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> *<br><span class="hljs-keyword">do</span><br>    <span class="hljs-keyword">if</span> [ ! -s <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;跳过空文件: <span class="hljs-variable">$file</span>&quot;</span><br>        <span class="hljs-built_in">continue</span><br>    <span class="hljs-keyword">fi</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;处理: <span class="hljs-variable">$file</span>&quot;</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure>
<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a><a class="markdownIt-Anchor" href="#常用命令"></a> 常用命令</h3>
<h4 id="command"><a href="#command" class="headerlink" title="command"></a><a class="markdownIt-Anchor" href="#command"></a> command</h4>
<p>command 是一个内置命令，用来查找和执行原始命令，绕过别名和函数。</p>
<p>一、command 的三大功能</p>
<ol>
<li>查找命令（最常用）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 检查命令是否存在（你的脚本用法）</span><br><span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v unzip &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;unzip已安装&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># 获取命令路径</span><br>unzip_path=$(<span class="hljs-built_in">command</span> -v unzip)<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;unzip路径: <span class="hljs-variable">$unzip_path</span>&quot;</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>绕过别名和函数</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 假设用户定义了：</span><br><span class="hljs-built_in">alias</span> <span class="hljs-built_in">rm</span>=<span class="hljs-string">&#x27;rm -i&#x27;</span>           <span class="hljs-comment"># 删除前询问</span><br><span class="hljs-function"><span class="hljs-title">ls</span></span>() &#123; <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;自定义函数&quot;</span>; &#125; <span class="hljs-comment"># 自定义函数</span><br><br><span class="hljs-comment"># 执行：</span><br><span class="hljs-built_in">rm</span> file.txt         <span class="hljs-comment"># 会询问确认（受别名影响）</span><br><span class="hljs-built_in">command</span> <span class="hljs-built_in">rm</span> file.txt <span class="hljs-comment"># 直接删除（原始行为）</span><br><br><span class="hljs-built_in">ls</span>                  <span class="hljs-comment"># 输出：&quot;自定义函数&quot;</span><br><span class="hljs-built_in">command</span> <span class="hljs-built_in">ls</span>          <span class="hljs-comment"># 列出文件（原始行为）</span><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>执行原始命令</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 强制使用系统命令</span><br><span class="hljs-built_in">command</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;hello&quot;</span>  <span class="hljs-comment"># 使用bash内置的echo</span><br>/bin/echo <span class="hljs-string">&quot;hello&quot;</span>     <span class="hljs-comment"># 使用外部echo（如果有）</span><br></code></pre></td></tr></table></figure>
<p>二、参数详解</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">-v    显示命令信息     <span class="hljs-built_in">command</span> -v <span class="hljs-built_in">ls</span><br>-V    显示详细信息     <span class="hljs-built_in">command</span> -V <span class="hljs-built_in">ls</span><br>-p    使用默认PATH查找 <span class="hljs-built_in">command</span> -p <span class="hljs-built_in">ls</span><br>无参数  执行命令        <span class="hljs-built_in">command</span> <span class="hljs-built_in">ls</span><br></code></pre></td></tr></table></figure>
<ul>
<li>v 参数详细</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 对不同类型命令的输出</span><br><span class="hljs-built_in">command</span> -v <span class="hljs-built_in">cd</span>      <span class="hljs-comment"># 输出：cd （内置命令）</span><br><span class="hljs-built_in">command</span> -v <span class="hljs-built_in">ls</span>      <span class="hljs-comment"># 输出：/bin/ls （外部命令）</span><br><span class="hljs-built_in">command</span> -v ll      <span class="hljs-comment"># 输出：alias ll=&#x27;ls -l&#x27; （别名）</span><br><span class="hljs-built_in">command</span> -v myfunc  <span class="hljs-comment"># 输出：myfunc （函数）</span><br></code></pre></td></tr></table></figure>
<hr />
<h4 id="read"><a href="#read" class="headerlink" title="read"></a><a class="markdownIt-Anchor" href="#read"></a> read</h4>
<p>read = 从键盘读取用户输入，保存到变量中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">read</span> [选项] 变量名<br></code></pre></td></tr></table></figure>
<p>常用选项</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">选项 作用 示例<br>-p 显示提示 <span class="hljs-built_in">read</span> -p <span class="hljs-string">&quot;提示: &quot;</span> var<br>-s 静默输入（密码） <span class="hljs-built_in">read</span> -s -p <span class="hljs-string">&quot;密码: &quot;</span> pass<br>-t N 超时N秒 <span class="hljs-built_in">read</span> -t 5 -p <span class="hljs-string">&quot;输入: &quot;</span><br>-n N 读取N个字符 <span class="hljs-built_in">read</span> -n 1 -p <span class="hljs-string">&quot;按键: &quot;</span><br>-r 禁用反斜杠转义 <span class="hljs-built_in">read</span> -r line<br>-a 读取为数组 <span class="hljs-built_in">read</span> -a arr<br><br></code></pre></td></tr></table></figure>
<hr />
<h4 id="set"><a href="#set" class="headerlink" title="set"></a><a class="markdownIt-Anchor" href="#set"></a> set</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 安全模式三件套（脚本开头必加）</span><br><span class="hljs-built_in">set</span> -e   <span class="hljs-comment"># 出错就退出</span><br><span class="hljs-built_in">set</span> -u   <span class="hljs-comment"># 未定义变量报错</span><br><span class="hljs-built_in">set</span> -o pipefail  <span class="hljs-comment"># 管道失败也退出</span><br><br><span class="hljs-comment"># 调试模式</span><br><span class="hljs-built_in">set</span> -x   <span class="hljs-comment"># 打开调试（显示每行命令）</span><br><span class="hljs-built_in">set</span> +x   <span class="hljs-comment"># 关闭调试</span><br><br><span class="hljs-comment"># 组合使用</span><br><span class="hljs-built_in">set</span> -euo pipefail  <span class="hljs-comment"># 专业脚本标配</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a><a class="markdownIt-Anchor" href="#重定向"></a> 重定向</h3>
<h4 id="三种标准流"><a href="#三种标准流" class="headerlink" title="三种标准流"></a><a class="markdownIt-Anchor" href="#三种标准流"></a> 三种标准流</h4>
<p>文件描述符  名称     默认目标 缩写<br />
0 标准输入 (stdin)  键盘    &lt;<br />
1 标准输出 (stdout) 屏幕    &gt;<br />
2 标准错误 (stderr) 屏幕    2&gt;</p>
<h4 id="基本重定向语法"><a href="#基本重定向语法" class="headerlink" title="基本重定向语法"></a><a class="markdownIt-Anchor" href="#基本重定向语法"></a> 基本重定向语法</h4>
<ol>
<li>输出到文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 覆盖写入</span><br><span class="hljs-built_in">command</span> &gt; file.txt<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Hello&quot;</span> &gt; output.txt<br><br><span class="hljs-comment"># 追加写入</span><br><span class="hljs-built_in">command</span> &gt;&gt; file.txt<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;World&quot;</span> &gt;&gt; output.txt<br></code></pre></td></tr></table></figure>
<ol start="2">
<li>错误输出</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 错误输出到文件</span><br><span class="hljs-built_in">command</span> 2&gt; error.log<br><br><span class="hljs-comment"># 错误追加到文件</span><br><span class="hljs-built_in">command</span> 2&gt;&gt; error.log<br></code></pre></td></tr></table></figure>
<ol start="3">
<li>所有输出</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 所有输出重定向（覆盖）</span><br><span class="hljs-built_in">command</span> &amp;&gt; all_output.log<br><br><span class="hljs-comment"># 所有输出重定向（追加）</span><br><span class="hljs-built_in">command</span> &amp;&gt;&gt; all_output.log<br></code></pre></td></tr></table></figure>
<h4 id="组合重定向"><a href="#组合重定向" class="headerlink" title="组合重定向"></a><a class="markdownIt-Anchor" href="#组合重定向"></a> 组合重定向</h4>
<ol>
<li>标准输出和错误输出合并</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 方法1：旧写法</span><br><span class="hljs-built_in">command</span> &gt; output.log 2&gt;&amp;1<br><br><span class="hljs-comment"># 方法2：新写法（推荐）</span><br><span class="hljs-built_in">command</span> &amp;&gt; output.log<br><br><span class="hljs-comment"># 解释：</span><br><span class="hljs-comment"># &gt; output.log    → 标准输出到文件</span><br><span class="hljs-comment"># 2&gt;&amp;1           → 错误输出也重定向到标准输出（即文件）</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>分别重定向</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 输出到文件，错误到屏幕</span><br><span class="hljs-built_in">command</span> &gt; output.log<br><br><span class="hljs-comment"># 输出到屏幕，错误到文件</span><br><span class="hljs-built_in">command</span> 2&gt; error.log<br><br><span class="hljs-comment"># 输出到文件A，错误到文件B</span><br><span class="hljs-built_in">command</span> &gt; output.log 2&gt; error.log<br></code></pre></td></tr></table></figure>
<p>特殊设备：/dev/null</p>
<p>&quot;黑洞&quot;设备</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 丢弃所有输出</span><br><span class="hljs-built_in">command</span> &gt; /dev/null 2&gt;&amp;1<br><br><span class="hljs-comment"># 只丢弃正常输出，显示错误</span><br><span class="hljs-built_in">command</span> &gt; /dev/null<br><br><span class="hljs-comment"># 只丢弃错误，显示正常输出</span><br><span class="hljs-built_in">command</span> 2&gt; /dev/null<br></code></pre></td></tr></table></figure>
<h4 id="输入重定向"><a href="#输入重定向" class="headerlink" title="输入重定向"></a><a class="markdownIt-Anchor" href="#输入重定向"></a> 输入重定向</h4>
<ol>
<li>从文件读取输入</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 文件内容作为命令输入</span><br><span class="hljs-built_in">command</span> &lt; input.txt<br><br><span class="hljs-comment"># 统计文件行数</span><br><span class="hljs-built_in">wc</span> -l &lt; data.txt<br></code></pre></td></tr></table></figure>
<ol start="2">
<li>Here Document</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 多行输入</span><br><span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF</span><br><span class="hljs-string">第一行</span><br><span class="hljs-string">第二行</span><br><span class="hljs-string">第三行</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># 带变量替换</span><br><span class="hljs-built_in">cat</span> &lt;&lt; <span class="hljs-string">EOF</span><br><span class="hljs-string">用户名: $USER</span><br><span class="hljs-string">时间: $(date)</span><br><span class="hljs-string">EOF</span><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>Here String</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 字符串作为输入</span><br><span class="hljs-built_in">tr</span> <span class="hljs-string">&#x27;a-z&#x27;</span> <span class="hljs-string">&#x27;A-Z&#x27;</span> &lt;&lt;&lt; <span class="hljs-string">&quot;hello world&quot;</span><br></code></pre></td></tr></table></figure>
<h4 id="高级技巧"><a href="#高级技巧" class="headerlink" title="高级技巧"></a><a class="markdownIt-Anchor" href="#高级技巧"></a> 高级技巧</h4>
<ol>
<li>重定向到进程（管道）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 标准用法</span><br>command1 | command2<br><br><span class="hljs-comment"># 同时重定向错误</span><br>command1 2&gt;&amp;1 | command2<br><br><span class="hljs-comment"># 只传递错误</span><br>command1 2&gt;&amp;1 &gt;/dev/null | command2<br></code></pre></td></tr></table></figure>
<ol start="2">
<li>进程替换</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 将命令输出作为文件使用</span><br>diff &lt;(<span class="hljs-built_in">ls</span> dir1) &lt;(<span class="hljs-built_in">ls</span> dir2)<br><br><span class="hljs-comment"># 作为输入文件</span><br><span class="hljs-built_in">cat</span> &lt;(<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;第一行&quot;</span>) &lt;(<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;第二行&quot;</span>)<br></code></pre></td></tr></table></figure>
<ol start="3">
<li>同时输出到文件和屏幕</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 使用 tee 命令</span><br><span class="hljs-built_in">command</span> | <span class="hljs-built_in">tee</span> output.log          <span class="hljs-comment"># 覆盖</span><br><span class="hljs-built_in">command</span> | <span class="hljs-built_in">tee</span> -a output.log       <span class="hljs-comment"># 追加</span><br><br><span class="hljs-comment"># 同时输出到多个地方</span><br><span class="hljs-built_in">command</span> | <span class="hljs-built_in">tee</span> file1.log file2.log &gt;/dev/null<br></code></pre></td></tr></table></figure>
<h4 id="常见错误"><a href="#常见错误" class="headerlink" title="常见错误"></a><a class="markdownIt-Anchor" href="#常见错误"></a> 常见错误</h4>
<p>错误1：忘记文件描述符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 错误：以为这样能重定向错误</span><br><span class="hljs-built_in">command</span> &gt; file.log 2&gt;1   <span class="hljs-comment"># ❌ 创建文件名为&quot;1&quot;的文件！</span><br><br><span class="hljs-comment"># 正确：需要&amp;符号</span><br><span class="hljs-built_in">command</span> &gt; file.log 2&gt;&amp;1  <span class="hljs-comment"># ✅ 正确</span><br><br></code></pre></td></tr></table></figure>
<p>错误2：noclobber保护</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 防止意外覆盖文件</span><br><span class="hljs-built_in">set</span> -o noclobber<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;test&quot;</span> &gt; existing.txt  <span class="hljs-comment"># ❌ 失败，文件已存在</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;test&quot;</span> &gt;| existing.txt <span class="hljs-comment"># ✅ 强制覆盖</span><br></code></pre></td></tr></table></figure>
<hr />
<p>自定义流（3-9）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 打开自定义文件描述符</span><br><span class="hljs-built_in">exec</span> [n]&lt; file    <span class="hljs-comment"># 打开用于输入（读）</span><br><span class="hljs-built_in">exec</span> [n]&gt; file    <span class="hljs-comment"># 打开用于输出（写，覆盖）</span><br><span class="hljs-built_in">exec</span> [n]&gt;&gt; file   <span class="hljs-comment"># 打开用于输出（写，追加）</span><br><br><span class="hljs-comment"># 使用自定义描述符</span><br><span class="hljs-built_in">command</span> &lt;&amp;n       <span class="hljs-comment"># 从描述符n读取输入  </span><br><span class="hljs-built_in">command</span> &gt;&amp;n       <span class="hljs-comment"># 向描述符n写入输出</span><br><br><span class="hljs-comment"># 关闭自定义描述符</span><br><span class="hljs-built_in">exec</span> n&gt;&amp;-         <span class="hljs-comment"># 关闭输出描述符</span><br><span class="hljs-built_in">exec</span> n&lt;&amp;-         <span class="hljs-comment"># 关闭输入描述符</span><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="变量拓展符"><a href="#变量拓展符" class="headerlink" title="变量拓展符"></a><a class="markdownIt-Anchor" href="#变量拓展符"></a> 变量拓展符</h3>
<p>删除操作符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-variable">$&#123;var#pattern&#125;</span>      <span class="hljs-comment"># 从左删除最短匹配</span><br><span class="hljs-variable">$&#123;var##pattern&#125;</span>     <span class="hljs-comment"># 从左删除最长匹配</span><br><span class="hljs-variable">$&#123;var%pattern&#125;</span>      <span class="hljs-comment"># 从右删除最短匹配</span><br><span class="hljs-variable">$&#123;var%%pattern&#125;</span>     <span class="hljs-comment"># 从右删除最长匹配</span><br></code></pre></td></tr></table></figure>
<p>替换操作符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-variable">$&#123;var/pattern/replace&#125;</span>    <span class="hljs-comment"># 替换第一个匹配</span><br><span class="hljs-variable">$&#123;var//pattern/replace&#125;</span>   <span class="hljs-comment"># 替换所有匹配</span><br><span class="hljs-variable">$&#123;var/#pattern/replace&#125;</span>   <span class="hljs-comment"># 替换开头匹配（前缀）</span><br><span class="hljs-variable">$&#123;var/%pattern/replace&#125;</span>   <span class="hljs-comment"># 替换结尾匹配（后缀）</span><br></code></pre></td></tr></table></figure>
<p>默认值操作符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-variable">$&#123;var:-default&#125;</span>    <span class="hljs-comment"># 如果var空/未设，用default（不赋值）</span><br><span class="hljs-variable">$&#123;var:=default&#125;</span>    <span class="hljs-comment"># 如果var空/未设，用default并赋值给var</span><br><span class="hljs-variable">$&#123;var:?error_msg&#125;</span>  <span class="hljs-comment"># 如果var空/未设，显示error_msg并退出</span><br><span class="hljs-variable">$&#123;var:+alt_value&#125;</span>  <span class="hljs-comment"># 如果var已设，用alt_value</span><br></code></pre></td></tr></table></figure>
<p>切片操作符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-variable">$&#123;var:start&#125;</span>          <span class="hljs-comment"># 从start到结尾</span><br><span class="hljs-variable">$&#123;var:start:length&#125;</span>   <span class="hljs-comment"># 从start截取length长度</span><br><br><span class="hljs-comment"># 例子：</span><br>str=<span class="hljs-string">&quot;0123456789&quot;</span><br><span class="hljs-variable">$&#123;str:3&#125;</span>       → <span class="hljs-string">&quot;3456789&quot;</span><br><span class="hljs-variable">$&#123;str:3:4&#125;</span>     → <span class="hljs-string">&quot;3456&quot;</span><br><span class="hljs-variable">$&#123;str: -3&#125;</span>     → <span class="hljs-string">&quot;789&quot;</span>（注意空格）<br></code></pre></td></tr></table></figure>
<p>大小写转换</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-variable">$&#123;var^&#125;</span>        <span class="hljs-comment"># 首字母大写</span><br><span class="hljs-variable">$&#123;var^^&#125;</span>       <span class="hljs-comment"># 全部大写</span><br><span class="hljs-variable">$&#123;var,&#125;</span>        <span class="hljs-comment"># 首字母小写</span><br><span class="hljs-variable">$&#123;var,,&#125;</span>       <span class="hljs-comment"># 全部小写</span><br><span class="hljs-variable">$&#123;var~&#125;</span>        <span class="hljs-comment"># 首字母大小写反转</span><br><span class="hljs-variable">$&#123;var~~&#125;</span>       <span class="hljs-comment"># 全部大小写反转</span><br></code></pre></td></tr></table></figure>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2026/02/26/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">← 下一篇 Linux操作系统</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2026/02/25/%E7%AE%97%E6%B3%95/">算法 上一篇 →</a></div></div></div><details id="reward"><summary>打赏</summary><div><span>微信 | Wechat</span><br><img src="/images/WeChat.png"></div><div><span>支付宝 | Alipay</span><br><img src="/images/Alipay.png"></div></details><div id="comments"><div id="giscus"></div></div></div><div class="bottom-btn"><div><a class="i-top" id="to-top" onClick="scrolls.scrolltop();" title="回到顶部" style="opacity: 0; display: none;">∧ </a><a class="i-index" id="to-index" onClick="tocControl.change()" title="文章目录"><span class="tocBtnIconBar"></span><span class="tocBtnIconBar"></span><span class="tocBtnIconBar"></span></a><a class="i-color" id="color-mode" onClick="colorMode.change()" title="切换主题"></a><a onclick="BgmControl()"><svg id="bgm-control" viewBox="0 0 30 34" fill="#18d1ff" style="width: 24px; transition: transform .3s;margin-top: 4px"><path d="M25.998 23.422V11.29h3.999v12.132h-3.999zM19.497 6.234h4.001v22.243h-4.001V6.234zM12.998.867h4v32.978h-4V.867zm-6.5 5.367h4.001v22.243H6.498V6.234zm-6.5 5.056h4v12.132h-4V11.29z"></path></svg><audio id="bgm" src="/audio/bgm.mp3" autoplay loop crossorigin="anonymous"> </audio></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="/images/1.jpg" alt="Logo" style="margin:0;border-radius:0;"></a><h1 id="Dr"><a href="/">Lnk</a></h1><div id="description"><p></p></div><div id="social-links"><a class="social" target="_blank" rel="noopener" href="https://github.com/Lnkqwq"><i class="fab fa-github" alt="GitHub"></i></a><a class="social" href="3403583728@qq.com"><i class="fa fa-envelope" alt="E-Mail"></i></a></div></div><div id="aside-block"><div id="toc-div"><h1>目录</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">1.</span> <span class="toc-text"> 文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E6%96%87%E4%BB%B6%E6%9F%A5%E7%9C%8B%E7%B1%BB"><span class="toc-number">1.1.</span> <span class="toc-text"> 一、文件查看类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E7%B1%BB"><span class="toc-number">1.2.</span> <span class="toc-text"> 二、文件操作类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89-%E7%89%B9%E6%AE%8A%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-number">1.3.</span> <span class="toc-text"> 三、特殊工具类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B-%E5%8C%85%E7%AE%A1%E7%90%86%E4%B8%8E%E8%BD%AF%E4%BB%B6%E7%B1%BB"><span class="toc-number">1.4.</span> <span class="toc-text"> 四、包管理与软件类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94-%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7%E4%B8%8E%E6%80%A7%E8%83%BD%E7%B1%BB"><span class="toc-number">1.5.</span> <span class="toc-text"> 五、系统监控与性能类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD-%E9%93%BE%E6%8E%A5%E4%B8%8E%E5%BC%95%E7%94%A8%E7%B1%BB"><span class="toc-number">1.6.</span> <span class="toc-text"> 六、链接与引用类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%83-%E6%9F%A5%E6%89%BE%E4%B8%8E%E5%AE%9A%E4%BD%8D%E7%B1%BB"><span class="toc-number">1.7.</span> <span class="toc-text"> 七、查找与定位类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E4%B8%8E%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text"> 权限与用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E6%9D%83%E9%99%90%E4%B8%8E%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E7%B1%BB"><span class="toc-number">2.1.</span> <span class="toc-text"> 一、权限与用户管理类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-%E6%9D%83%E9%99%90%E7%BB%95%E8%BF%87%E4%B8%8E%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4%E7%B1%BB"><span class="toc-number">2.2.</span> <span class="toc-text"> 二、权限绕过与工作空间类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%E4%B8%8E%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">3.</span> <span class="toc-text"> 管道与重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">3.1.</span> <span class="toc-text"> 基础</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.2.</span> <span class="toc-text"> 管道组合模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">3.3.</span> <span class="toc-text"> 注意事项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text"> 文本处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86"><span class="toc-number">4.1.</span> <span class="toc-text"> 一、文本处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-%E5%8E%8B%E7%BC%A9%E5%BD%92%E6%A1%A3%E7%B1%BB"><span class="toc-number">4.2.</span> <span class="toc-text"> 二、压缩归档类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89-%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E4%B8%8E%E5%A4%84%E7%90%86%E9%AB%98%E7%BA%A7"><span class="toc-number">4.3.</span> <span class="toc-text"> 三、文本编辑与处理（高级）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C"><span class="toc-number">5.</span> <span class="toc-text"> 网络操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E4%B8%8E%E8%BF%9B%E7%A8%8B"><span class="toc-number">6.</span> <span class="toc-text"> 系统信息与进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E8%84%9A%E6%9C%AC"><span class="toc-number">7.</span> <span class="toc-text"> shell脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89"><span class="toc-number">7.1.</span> <span class="toc-text"> 变量定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">7.2.</span> <span class="toc-text"> 条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84"><span class="toc-number">7.2.1.</span> <span class="toc-text"> 一、基本语法结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C-%E6%B5%8B%E8%AF%95%E6%9D%A1%E4%BB%B6%E8%AF%AD%E6%B3%95"><span class="toc-number">7.2.2.</span> <span class="toc-text"> 二、测试条件语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89-%E6%B5%8B%E8%AF%95%E6%9D%A1%E4%BB%B6"><span class="toc-number">7.2.3.</span> <span class="toc-text"> 三、测试条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80-while-%E5%BE%AA%E7%8E%AF"><span class="toc-number">7.2.4.</span> <span class="toc-text"> 一、while 循环</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C-for-%E5%BE%AA%E7%8E%AF"><span class="toc-number">7.2.5.</span> <span class="toc-text"> 二、for 循环</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89-until-%E5%BE%AA%E7%8E%AF"><span class="toc-number">7.2.6.</span> <span class="toc-text"> 三、until 循环</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B-%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">7.2.7.</span> <span class="toc-text"> 四、循环控制语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">7.3.</span> <span class="toc-text"> 常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#command"><span class="toc-number">7.3.1.</span> <span class="toc-text"> command</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#read"><span class="toc-number">7.3.2.</span> <span class="toc-text"> read</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set"><span class="toc-number">7.3.3.</span> <span class="toc-text"> set</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">7.4.</span> <span class="toc-text"> 重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E6%A0%87%E5%87%86%E6%B5%81"><span class="toc-number">7.4.1.</span> <span class="toc-text"> 三种标准流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E9%87%8D%E5%AE%9A%E5%90%91%E8%AF%AD%E6%B3%95"><span class="toc-number">7.4.2.</span> <span class="toc-text"> 基本重定向语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">7.4.3.</span> <span class="toc-text"> 组合重定向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">7.4.4.</span> <span class="toc-text"> 输入重定向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7"><span class="toc-number">7.4.5.</span> <span class="toc-text"> 高级技巧</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF"><span class="toc-number">7.4.6.</span> <span class="toc-text"> 常见错误</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E6%8B%93%E5%B1%95%E7%AC%A6"><span class="toc-number">7.5.</span> <span class="toc-text"> 变量拓展符</span></a></li></ol></li></ol></div></div><footer><nobr>构建自 <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> 使用主题 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr> 主题作者 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas></body></html>
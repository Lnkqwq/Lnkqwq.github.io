<!DOCTYPE html><html lang="en" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>å›¾å½¢å­¦ç¼–ç¨‹ | Hexo</title><meta name="description" content="openGL  GLFWçª—å£ç®¡ç†  ğŸ—ï¸ GLFW çª—å£ç®¡ç†å‡½æ•°  åˆå§‹åŒ–å’Œç»ˆæ­¢  123456&#x2F;&#x2F; åˆå§‹åŒ–GLFWåº“int glfwInit(void);&#x2F;&#x2F; è¿”å›å€¼ï¼šæˆåŠŸè¿”å›GLFW_TRUEï¼Œå¤±è´¥è¿”å›GLFW_FALSE&#x2F;&#x2F; ç»ˆæ­¢GLFWï¼Œé‡Šæ”¾èµ„æºvoid glfwTerminate(void);  çª—å£åˆ›å»ºå’Œé”€æ¯  12345678910111213141516&#x2F;&#x2F; åˆ›å»ºçª—å£GLFWw">
<meta property="og:type" content="article">
<meta property="og:title" content="å›¾å½¢å­¦ç¼–ç¨‹">
<meta property="og:url" content="http://example.com/2026/02/27/%E5%9B%BE%E5%BD%A2%E5%AD%A6%E7%BC%96%E7%A8%8B/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="openGL  GLFWçª—å£ç®¡ç†  ğŸ—ï¸ GLFW çª—å£ç®¡ç†å‡½æ•°  åˆå§‹åŒ–å’Œç»ˆæ­¢  123456&#x2F;&#x2F; åˆå§‹åŒ–GLFWåº“int glfwInit(void);&#x2F;&#x2F; è¿”å›å€¼ï¼šæˆåŠŸè¿”å›GLFW_TRUEï¼Œå¤±è´¥è¿”å›GLFW_FALSE&#x2F;&#x2F; ç»ˆæ­¢GLFWï¼Œé‡Šæ”¾èµ„æºvoid glfwTerminate(void);  çª—å£åˆ›å»ºå’Œé”€æ¯  12345678910111213141516&#x2F;&#x2F; åˆ›å»ºçª—å£GLFWw">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2026-02-27T08:56:10.000Z">
<meta property="article:modified_time" content="2026-02-27T09:14:32.346Z">
<meta property="article:author" content="Lnk">
<meta name="twitter:card" content="summary"><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" as="font" crossorigin="anonymous" href="/font/Bender.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="/font/BenderLight.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="/font/JetBrainsMono-Regular.woff2"><link rel="stylesheet" href="/css/arknights.css"><style>@font-face {
  font-family: Bender;
  src: local('Bender'), url("/font/Bender.ttf"), url("/font/Bender.otf");
}
@font-face {
  font-family: BenderLight;
  src: local('BenderLight'), url("/font/BenderLight.woff2") format('woff2');
}
@font-face {
  font-family: 'JetBrains Mono';
  src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
</style><meta name="page-config" content="{&quot;code_fold&quot;:null}"><script class="pjax-js">var config = {"root":"/","code_fold":15,"search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy"}};
var page_config = {
  code_fold: null
};
function updatePageConfig() {
  var newPageConfig = document.querySelector('meta[name="page-config"]');
  if (newPageConfig) {
    page_config = JSON.parse(newPageConfig.content);
  }
}
document.addEventListener('pjax:complete', function() { updatePageConfig(); });
updatePageConfig();</script><link type="text/css" rel="stylesheet" href="/lib/encrypt/hbe.style.css"><script src="//unpkg.com/mermaid@11.12.2/dist/mermaid.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js"></script><script>MathJax.Hub.Config({
 menuSettings: {
   zoom: "None"
 },
 showMathMenu: false,
 jax: ["input/TeX","output/CommonHTML"],
 extensions: ["tex2jax.js"],
 TeX: {
   extensions: ["AMSmath.js","AMSsymbols.js"],
   equationNumbers: {
     autoNumber: "AMS"
   }
 },
 tex2jax: {
   inlineMath: [["\\(", "\\)"]],
   displayMath: [["\\[", "\\]"]]
 }
});</script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/css/all.min.css"><script>if (window.localStorage.getItem('theme-mode') === 'light')
 document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark')
 document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.woff2") format('woff2');
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><style>:root {
 --dark-background: url('/images/BK.PNG');
 --light-background: url('/images/BK.PNG');
 --theme-encrypt-confirm: 'confirm'
}</style><script defer src="/js/arknights.js"></script><script defer src="/js/search.js"></script><script defer type="module">import mermaid from '//unpkg.com/mermaid@11.12.2/dist/mermaid.esm.min.mjs';
window.mermaid = mermaid;
code.paintMermaid();
</script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js"></script><script>MathJax.Hub.Config({
  menuSettings: {
    zoom: "None"
  },
  showMathMenu: false,
  jax: ["input/TeX","output/CommonHTML"],
  extensions: ["tex2jax.js"],
  TeX: {
    extensions: ["AMSmath.js","AMSsymbols.js"],
    equationNumbers: {
      autoNumber: "AMS"
    }
  },
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]]
  }
});
</script><script async src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script async src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script async src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script async src="/lib/encrypt/hbe.js"></script><script async src="/js/pjax.js"></script><script class="pjax-js">reset= () => {document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js','data-pjax','.vercount','meta[name=page-config]'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script><script class="pjax-js">reset= () => {window.giscusSettings = {
 repo: 'Lnkqwq/Lnkqwq.github.io',
 repoId: 'R_kgDORZSSAA',
 category: '',
 categoryId: '',
 mapping: 'pathname',
 strict: '0',
 reactionsEnabled: '1',
 emitMetadata: '0',
 inputPosition: 'bottom',
 lang: 'zh-CN',
 crossorigin: 'anonymous' , loading: 'lazy'};window.giscusThemeConfig = { theme: 'preferred_color_scheme' };MathJax.Hub.Queue(["Typeset", MathJax.Hub]);document.querySelector('.lg-container')?.remove()
const postBg = document.querySelector('#post-bg');
if (postBg) lightGallery(postBg, {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js','data-pjax','.vercount','meta[name=page-config]'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div class="loading" style="opacity: 0;"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><div class="navBtn"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><nav><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup" tabindex="0"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>å›¾å½¢å­¦ç¼–ç¨‹</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2026-02-27T08:56:10.000Z" id="date"> 2026-02-27</time></div></span><br><span>Last Update: <div class="control"><time datetime="2026-02-27T09:14:32.346Z" id="updated"> 2026-02-27</time></div></span></div></div><hr><div id="post-content"><h1 id="opengl"><a href="#opengl" class="headerlink" title="opengl"></a><a class="markdownIt-Anchor" href="#opengl"></a> openGL</h1>
<h2 id="glfwçª—å£ç®¡ç†"><a href="#glfwçª—å£ç®¡ç†" class="headerlink" title="glfwçª—å£ç®¡ç†"></a><a class="markdownIt-Anchor" href="#glfwçª—å£ç®¡ç†"></a> GLFWçª—å£ç®¡ç†</h2>
<h3 id="ï¸-glfw-çª—å£ç®¡ç†å‡½æ•°"><a href="#ï¸-glfw-çª—å£ç®¡ç†å‡½æ•°" class="headerlink" title="ï¸-glfw-çª—å£ç®¡ç†å‡½æ•°"></a><a class="markdownIt-Anchor" href="#ï¸-glfw-çª—å£ç®¡ç†å‡½æ•°"></a> ğŸ—ï¸ GLFW çª—å£ç®¡ç†å‡½æ•°</h3>
<ol>
<li>åˆå§‹åŒ–å’Œç»ˆæ­¢</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// åˆå§‹åŒ–GLFWåº“</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">glfwInit</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span>;<br><span class="hljs-comment">// è¿”å›å€¼ï¼šæˆåŠŸè¿”å›GLFW_TRUEï¼Œå¤±è´¥è¿”å›GLFW_FALSE</span><br><br><span class="hljs-comment">// ç»ˆæ­¢GLFWï¼Œé‡Šæ”¾èµ„æº</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glfwTerminate</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span>;<br></code></pre></td></tr></table></figure>
<ol start="2">
<li>çª—å£åˆ›å»ºå’Œé”€æ¯</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// åˆ›å»ºçª—å£</span><br><span class="hljs-function">GLFWwindow* <span class="hljs-title">glfwCreateWindow</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">    <span class="hljs-type">int</span> width,                   <span class="hljs-comment">// çª—å£å®½åº¦ï¼ˆåƒç´ ï¼‰</span></span></span><br><span class="hljs-params"><span class="hljs-function">    <span class="hljs-type">int</span> height,                  <span class="hljs-comment">// çª—å£é«˜åº¦</span></span></span><br><span class="hljs-params"><span class="hljs-function">    <span class="hljs-type">const</span> <span class="hljs-type">char</span>* title,          <span class="hljs-comment">// çª—å£æ ‡é¢˜</span></span></span><br><span class="hljs-params"><span class="hljs-function">    GLFWmonitor* monitor,       <span class="hljs-comment">// å…¨å±æ¨¡å¼ç”¨ï¼ŒNULLä¸ºçª—å£æ¨¡å¼</span></span></span><br><span class="hljs-params"><span class="hljs-function">    GLFWwindow* share           <span class="hljs-comment">// èµ„æºå…±äº«ï¼ŒNULLä¸ºä¸å…±äº«</span></span></span><br><span class="hljs-params"><span class="hljs-function">)</span></span>;<br><span class="hljs-comment">// è¿”å›å€¼ï¼šæˆåŠŸè¿”å›çª—å£æŒ‡é’ˆï¼Œå¤±è´¥è¿”å›NULL</span><br><br><span class="hljs-comment">//å†™æ³•2 </span><br> <span class="hljs-comment">// åˆ›å»ºçª—å£</span><br> GLFWwindow* window = <span class="hljs-built_in">glfwCreateWindow</span>(<span class="hljs-number">600</span>, <span class="hljs-number">600</span>, <span class="hljs-string">&quot;Chapter2 - program1 (GLAD)&quot;</span>, <span class="hljs-literal">NULL</span>, <span class="hljs-literal">NULL</span>);<br><br><span class="hljs-comment">// é”€æ¯çª—å£</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glfwDestroyWindow</span><span class="hljs-params">(GLFWwindow* window)</span></span>;<br></code></pre></td></tr></table></figure>
<ol start="3">
<li>çª—å£è®¾ç½®</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// è®¾ç½®å½“å‰çº¿ç¨‹çš„ä¸»ä¸Šä¸‹æ–‡</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glfwMakeContextCurrent</span><span class="hljs-params">(GLFWwindow* window)</span></span>;<br><br><span class="hljs-comment">// æ£€æŸ¥çª—å£æ˜¯å¦åº”è¯¥å…³é—­</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">glfwWindowShouldClose</span><span class="hljs-params">(GLFWwindow* window)</span></span>;<br><span class="hljs-comment">// è¿”å›å€¼ï¼šé0è¡¨ç¤ºåº”è¯¥å…³é—­</span><br><br><span class="hljs-number">1.</span> <span class="hljs-built_in">glfwWindowShouldClose</span>() - åªè¯»æ£€æŸ¥<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">glfwWindowShouldClose</span><span class="hljs-params">(GLFWwindow* window)</span></span>;<br><br>ä½œç”¨ï¼šæ£€æŸ¥çª—å£æ˜¯å¦åº”è¯¥å…³é—­ï¼ˆåªè¯»ï¼Œä¸èƒ½è®¾ç½®ï¼‰<br>å‚æ•°ï¼šåªæœ‰çª—å£æŒ‡é’ˆ<br>è¿”å›å€¼ï¼š<span class="hljs-number">1</span>(<span class="hljs-literal">true</span>)è¡¨ç¤ºåº”è¯¥å…³é—­ï¼Œ<span class="hljs-number">0</span>(<span class="hljs-literal">false</span>)è¡¨ç¤ºç»§ç»­<br><br><span class="hljs-number">2.</span> <span class="hljs-built_in">glfwSetWindowShouldClose</span>() - åªå†™è®¾ç½®<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glfwSetWindowShouldClose</span><span class="hljs-params">(GLFWwindow* window, <span class="hljs-type">int</span> value)</span></span>;<br><br>ä½œç”¨ï¼šè®¾ç½®çª—å£æ˜¯å¦åº”è¯¥å…³é—­ï¼ˆåªå†™ï¼Œè®¾ç½®æ ‡å¿—ï¼‰<br>å‚æ•°ï¼šçª—å£æŒ‡é’ˆ + å¸ƒå°”å€¼<br></code></pre></td></tr></table></figure>
<ol start="4">
<li>ç¼“å†²åŒºäº¤æ¢å’Œäº‹ä»¶å¤„ç†</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// äº¤æ¢å‰åç¼“å†²åŒºï¼ˆåŒç¼“å†²ï¼‰</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glfwSwapBuffers</span><span class="hljs-params">(GLFWwindow* window)</span></span>;<br><br><span class="hljs-comment">// å¤„ç†ç­‰å¾…ä¸­çš„äº‹ä»¶</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glfwPollEvents</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span>;<br></code></pre></td></tr></table></figure>
<ol start="5">
<li>çª—å£æç¤ºè®¾ç½®ï¼ˆåœ¨glfwCreateWindowå‰è°ƒç”¨ï¼‰</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// è®¾ç½®çª—å£æç¤º</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glfwWindowHint</span><span class="hljs-params">(<span class="hljs-type">int</span> hint, <span class="hljs-type">int</span> value)</span></span>;<br><br><span class="hljs-comment">// å¸¸ç”¨æç¤ºï¼š</span><br><span class="hljs-built_in">glfwWindowHint</span>(GLFW_CONTEXT_VERSION_MAJOR, <span class="hljs-number">4</span>);  <span class="hljs-comment">// OpenGLä¸»ç‰ˆæœ¬</span><br><span class="hljs-built_in">glfwWindowHint</span>(GLFW_CONTEXT_VERSION_MINOR, <span class="hljs-number">1</span>);  <span class="hljs-comment">// OpenGLæ¬¡ç‰ˆæœ¬</span><br><span class="hljs-built_in">glfwWindowHint</span>(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);  <span class="hljs-comment">// æ ¸å¿ƒæ¨¡å¼</span><br></code></pre></td></tr></table></figure>
<ol start="6">
<li>è¾“å…¥å¤„ç†</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// è·å–æŒ‰é”®çŠ¶æ€</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">glfwGetKey</span><span class="hljs-params">(GLFWwindow* window, <span class="hljs-type">int</span> key)</span></span>;<br><span class="hljs-comment">// è¿”å›å€¼ï¼šGLFW_PRESSï¼ˆæŒ‰ä¸‹ï¼‰ã€GLFW_RELEASEï¼ˆé‡Šæ”¾ï¼‰</span><br><br><span class="hljs-comment">// å¸¸ç”¨æŒ‰é”®å¸¸é‡ï¼š</span><br>GLFW_KEY_ESCAPE     <span class="hljs-comment">// ESCé”®</span><br>GLFW_KEY_W          <span class="hljs-comment">// Wé”®</span><br>GLFW_KEY_A          <span class="hljs-comment">// Aé”®</span><br>GLFW_KEY_S          <span class="hljs-comment">// Sé”®</span><br>GLFW_KEY_D          <span class="hljs-comment">// Dé”®</span><br>GLFW_KEY_SPACE      <span class="hljs-comment">// ç©ºæ ¼é”®</span><br></code></pre></td></tr></table></figure>
<ol start="7">
<li>å›è°ƒå‡½æ•°è®¾ç½®</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// è®¾ç½®çª—å£å¤§å°æ”¹å˜å›è°ƒï¼ˆå½“çª—å£å¤§å°æ”¹å˜ï¼Œè‡ªåŠ¨æ¸²æŸ“ï¼‰</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">framebuffer_size_callback</span><span class="hljs-params">(GLFWwindow* window, <span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height)</span></span>;<br><br><span class="hljs-built_in">glfwSetFramebufferSizeCallback</span>(window, framebuffer_size_callback);<br></code></pre></td></tr></table></figure>
<h3 id="opengl-æ ¸å¿ƒå‡½æ•°"><a href="#opengl-æ ¸å¿ƒå‡½æ•°" class="headerlink" title="opengl-æ ¸å¿ƒå‡½æ•°"></a><a class="markdownIt-Anchor" href="#opengl-æ ¸å¿ƒå‡½æ•°"></a> ğŸ¨ OpenGL æ ¸å¿ƒå‡½æ•°</h3>
<ol>
<li>è§†å£è®¾ç½®</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// è®¾ç½®OpenGLæ¸²æŸ“è§†å£</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glViewport</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">    GLint x,        <span class="hljs-comment">// è§†å£å·¦ä¸‹è§’xåæ ‡ï¼ˆé€šå¸¸0ï¼‰</span></span></span><br><span class="hljs-params"><span class="hljs-function">    GLint y,        <span class="hljs-comment">// è§†å£å·¦ä¸‹è§’yåæ ‡ï¼ˆé€šå¸¸0ï¼‰</span></span></span><br><span class="hljs-params"><span class="hljs-function">    GLsizei width,  <span class="hljs-comment">// è§†å£å®½åº¦</span></span></span><br><span class="hljs-params"><span class="hljs-function">    GLsizei height  <span class="hljs-comment">// è§†å£é«˜åº¦</span></span></span><br><span class="hljs-params"><span class="hljs-function">)</span></span>;<br></code></pre></td></tr></table></figure>
<ol start="2">
<li>æ¸…å±å’Œé¢œè‰²è®¾ç½®</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// è®¾ç½®æ¸…å±é¢œè‰²ï¼ˆRGBAï¼‰</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glClearColor</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">    GLfloat red,    <span class="hljs-comment">// çº¢è‰²åˆ†é‡ (0.0 ~ 1.0)</span></span></span><br><span class="hljs-params"><span class="hljs-function">    GLfloat green,  <span class="hljs-comment">// ç»¿è‰²åˆ†é‡</span></span></span><br><span class="hljs-params"><span class="hljs-function">    GLfloat blue,   <span class="hljs-comment">// è“è‰²åˆ†é‡</span></span></span><br><span class="hljs-params"><span class="hljs-function">    GLfloat alpha   <span class="hljs-comment">// é€æ˜åº¦ (1.0ä¸ºä¸é€æ˜)</span></span></span><br><span class="hljs-params"><span class="hljs-function">)</span></span>;<br><br><span class="hljs-comment">// æ¸…ç©ºæŒ‡å®šç¼“å†²åŒº</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glClear</span><span class="hljs-params">(GLbitfield mask)</span></span>;<br><br><span class="hljs-comment">// å¸¸ç”¨æ©ç ï¼š</span><br>GL_COLOR_BUFFER_BIT    <span class="hljs-comment">// é¢œè‰²ç¼“å†²åŒº</span><br>GL_DEPTH_BUFFER_BIT    <span class="hljs-comment">// æ·±åº¦ç¼“å†²åŒº</span><br>GL_STENCIL_BUFFER_BIT  <span class="hljs-comment">// æ¨¡æ¿ç¼“å†²åŒº</span><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>è·å–OpenGLä¿¡æ¯</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// è·å–OpenGLç‰ˆæœ¬ä¿¡æ¯</span><br><span class="hljs-function"><span class="hljs-type">const</span> GLubyte* <span class="hljs-title">glGetString</span><span class="hljs-params">(GLenum name)</span></span>;<br><br><span class="hljs-comment">// å¸¸ç”¨å‚æ•°ï¼š</span><br>GL_VENDOR                  <span class="hljs-comment">// æ˜¾å¡å‚å•†</span><br>GL_RENDERER                <span class="hljs-comment">// æ˜¾å¡å‹å·</span><br>GL_VERSION                 <span class="hljs-comment">// OpenGLç‰ˆæœ¬</span><br>GL_SHADING_LANGUAGE_VERSION <span class="hljs-comment">// GLSLç‰ˆæœ¬</span><br></code></pre></td></tr></table></figure>
<h3 id="glad-åˆå§‹åŒ–å‡½æ•°"><a href="#glad-åˆå§‹åŒ–å‡½æ•°" class="headerlink" title="glad-åˆå§‹åŒ–å‡½æ•°"></a><a class="markdownIt-Anchor" href="#glad-åˆå§‹åŒ–å‡½æ•°"></a> ğŸ”§ GLAD åˆå§‹åŒ–å‡½æ•°</h3>
<p>åŠ è½½OpenGLå‡½æ•°æŒ‡é’ˆ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// åˆå§‹åŒ–GLADï¼ŒåŠ è½½æ‰€æœ‰OpenGLå‡½æ•°æŒ‡é’ˆ</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">gladLoadGLLoader</span><span class="hljs-params">(GLADloadproc loader)</span></span>;<br><br><span class="hljs-comment">// ä½¿ç”¨æ–¹æ³•ï¼ˆé…åˆGLFWï¼‰ï¼š</span><br><span class="hljs-built_in">gladLoadGLLoader</span>((GLADloadproc)glfwGetProcAddress);<br></code></pre></td></tr></table></figure>
<h2 id="gladç€è‰²å™¨"><a href="#gladç€è‰²å™¨" class="headerlink" title="gladç€è‰²å™¨"></a><a class="markdownIt-Anchor" href="#gladç€è‰²å™¨"></a> gladç€è‰²å™¨</h2>
<h3 id="gladå‡½æ•°"><a href="#gladå‡½æ•°" class="headerlink" title="gladå‡½æ•°"></a><a class="markdownIt-Anchor" href="#gladå‡½æ•°"></a> gladå‡½æ•°</h3>
<ol>
<li>glCreateShader() - åˆ›å»ºç€è‰²å™¨å¯¹è±¡</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">GLuint <span class="hljs-title">glCreateShader</span><span class="hljs-params">(GLenum shaderType)</span></span>;<br><br></code></pre></td></tr></table></figure>
<p>å‚æ•°ï¼š</p>
<p>Â· shaderTypeï¼šç€è‰²å™¨ç±»å‹<br />
Â· GL_VERTEX_SHADERï¼šé¡¶ç‚¹ç€è‰²å™¨<br />
Â· GL_FRAGMENT_SHADERï¼šç‰‡æ®µç€è‰²å™¨<br />
Â· GL_GEOMETRY_SHADERï¼šå‡ ä½•ç€è‰²å™¨ï¼ˆé«˜çº§ï¼‰<br />
Â· GL_TESS_CONTROL_SHADERï¼šæ›²é¢ç»†åˆ†æ§åˆ¶ç€è‰²å™¨<br />
Â· GL_TESS_EVALUATION_SHADERï¼šæ›²é¢ç»†åˆ†è¯„ä¼°ç€è‰²å™¨</p>
<p>è¿”å›å€¼ï¼šç€è‰²å™¨å¯¹è±¡çš„IDï¼ˆGLuintï¼‰ï¼Œ0è¡¨ç¤ºå¤±è´¥</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">GLuint vertexShader = <span class="hljs-built_in">glCreateShader</span>(GL_VERTEX_SHADER);<br>GLuint fragmentShader = <span class="hljs-built_in">glCreateShader</span>(GL_FRAGMENT_SHADER);<br><br></code></pre></td></tr></table></figure>
<hr />
<ol start="2">
<li>glShaderSource() - è®¾ç½®ç€è‰²å™¨æºä»£ç </li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glShaderSource</span><span class="hljs-params">(GLuint shader,</span></span><br><span class="hljs-params"><span class="hljs-function">                    GLsizei count,</span></span><br><span class="hljs-params"><span class="hljs-function">                    <span class="hljs-type">const</span> GLchar** string,</span></span><br><span class="hljs-params"><span class="hljs-function">                    <span class="hljs-type">const</span> GLint* length)</span></span>;<br><br></code></pre></td></tr></table></figure>
<p>å‚æ•°ï¼š</p>
<p>Â· shaderï¼šç€è‰²å™¨å¯¹è±¡IDï¼ˆæ¥è‡ªglCreateShaderï¼‰<br />
Â· countï¼šå­—ç¬¦ä¸²æ•°é‡ï¼ˆé€šå¸¸ä¸º1ï¼‰<br />
Â· stringï¼šæŒ‡å‘æºä»£ç å­—ç¬¦ä¸²çš„æŒ‡é’ˆ<br />
Â· lengthï¼šæºä»£ç é•¿åº¦æ•°ç»„ï¼ŒNULLè¡¨ç¤ºå­—ç¬¦ä¸²ä»¥\0ç»“å°¾</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* shaderCode = <span class="hljs-string">&quot;#version 430\\nvoid main() &#123;...&#125;&quot;</span>;<br><span class="hljs-built_in">glShaderSource</span>(shader, <span class="hljs-number">1</span>, &amp;shaderCode, <span class="hljs-literal">NULL</span>);<br><br></code></pre></td></tr></table></figure>
<hr />
<ol start="3">
<li>glCompileShader() - ç¼–è¯‘ç€è‰²å™¨</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glCompileShader</span><span class="hljs-params">(GLuint shader)</span></span>;<br><br></code></pre></td></tr></table></figure>
<p>å‚æ•°ï¼š</p>
<p>Â· shaderï¼šè¦ç¼–è¯‘çš„ç€è‰²å™¨å¯¹è±¡ID</p>
<p>é‡è¦ï¼šç¼–è¯‘åå¿…é¡»æ£€æŸ¥ç¼–è¯‘çŠ¶æ€ï¼</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glCompileShader</span>(vertexShader);<br><br><span class="hljs-comment">// æ£€æŸ¥ç¼–è¯‘é”™è¯¯</span><br>GLint success;<br><span class="hljs-built_in">glGetShaderiv</span>(vertexShader, GL_COMPILE_STATUS, &amp;success);<br><span class="hljs-keyword">if</span> (!success) &#123;<br>    <span class="hljs-type">char</span> infoLog[<span class="hljs-number">512</span>];<br>    <span class="hljs-built_in">glGetShaderInfoLog</span>(vertexShader, <span class="hljs-number">512</span>, <span class="hljs-literal">NULL</span>, infoLog);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;ç€è‰²å™¨ç¼–è¯‘å¤±è´¥: &quot;</span> &lt;&lt; infoLog &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure>
<hr />
<ol start="4">
<li>glCreateProgram() - åˆ›å»ºç€è‰²å™¨ç¨‹åº</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">GLuint <span class="hljs-title">glCreateProgram</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span>;<br><br></code></pre></td></tr></table></figure>
<p>è¿”å›å€¼ï¼šç¨‹åºå¯¹è±¡IDï¼ˆGLuintï¼‰ï¼Œ0è¡¨ç¤ºå¤±è´¥</p>
<p>ç¤ºä¾‹ï¼š</p>
<hr />
<ol start="5">
<li>glAttachShader() - é™„åŠ ç€è‰²å™¨åˆ°ç¨‹åº</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glAttachShader</span><span class="hljs-params">(GLuint program, GLuint shader)</span></span>;<br><br></code></pre></td></tr></table></figure>
<p>å‚æ•°ï¼š</p>
<p>Â· programï¼šç¨‹åºå¯¹è±¡ID<br />
Â· shaderï¼šç€è‰²å™¨å¯¹è±¡ID</p>
<p>æ³¨æ„ï¼šä¸€ä¸ªç€è‰²å™¨å¯ä»¥é™„åŠ åˆ°å¤šä¸ªç¨‹åº</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glAttachShader</span>(shaderProgram, vertexShader);<br><span class="hljs-built_in">glAttachShader</span>(shaderProgram, fragmentShader);<br></code></pre></td></tr></table></figure>
<hr />
<ol start="6">
<li>glLinkProgram() - é“¾æ¥ç€è‰²å™¨ç¨‹åº</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glLinkProgram</span><span class="hljs-params">(GLuint program)</span></span>;<br></code></pre></td></tr></table></figure>
<p>å‚æ•°ï¼š</p>
<p>Â· programï¼šè¦é“¾æ¥çš„ç¨‹åºå¯¹è±¡ID</p>
<p>é‡è¦ï¼šé“¾æ¥åå¿…é¡»æ£€æŸ¥é“¾æ¥çŠ¶æ€ï¼</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glLinkProgram</span>(shaderProgram);<br><br><span class="hljs-comment">// æ£€æŸ¥é“¾æ¥é”™è¯¯</span><br>GLint success;<br><span class="hljs-built_in">glGetProgramiv</span>(shaderProgram, GL_LINK_STATUS, &amp;success);<br><span class="hljs-keyword">if</span> (!success) &#123;<br>    <span class="hljs-type">char</span> infoLog[<span class="hljs-number">512</span>];<br>    <span class="hljs-built_in">glGetProgramInfoLog</span>(shaderProgram, <span class="hljs-number">512</span>, <span class="hljs-literal">NULL</span>, infoLog);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;ç¨‹åºé“¾æ¥å¤±è´¥: &quot;</span> &lt;&lt; infoLog &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure>
<hr />
<ol start="7">
<li>glUseProgram() - æ¿€æ´»ç€è‰²å™¨ç¨‹åº</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glUseProgram</span><span class="hljs-params">(GLuint program)</span></span>;<br><br></code></pre></td></tr></table></figure>
<p>å‚æ•°ï¼š</p>
<p>Â· programï¼šè¦ä½¿ç”¨çš„ç¨‹åºå¯¹è±¡IDï¼Œ0è¡¨ç¤ºåœç”¨æ‰€æœ‰ç¨‹åº</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glUseProgram</span>(shaderProgram);  <span class="hljs-comment">// æ¿€æ´»ç¨‹åº</span><br><span class="hljs-comment">// ... ç»˜åˆ¶æ“ä½œ ...</span><br><span class="hljs-built_in">glUseProgram</span>(<span class="hljs-number">0</span>);              <span class="hljs-comment">// åœç”¨ç¨‹åºï¼ˆå¯é€‰ï¼‰</span><br><br></code></pre></td></tr></table></figure>
<hr />
<ol start="8">
<li>glDeleteShader() - åˆ é™¤ç€è‰²å™¨å¯¹è±¡</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glDeleteShader</span><span class="hljs-params">(GLuint shader)</span></span>;<br><br></code></pre></td></tr></table></figure>
<p>å‚æ•°ï¼š</p>
<p>Â· shaderï¼šè¦åˆ é™¤çš„ç€è‰²å™¨å¯¹è±¡ID</p>
<p>æœ€ä½³å®è·µï¼šé“¾æ¥ç¨‹åºåå¯ä»¥åˆ é™¤ç€è‰²å™¨å¯¹è±¡</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glDeleteShader</span>(vertexShader);<br><span class="hljs-built_in">glDeleteShader</span>(fragmentShader);<br><br></code></pre></td></tr></table></figure>
<hr />
<ol start="9">
<li>glPointSize() - è®¾ç½®ç‚¹çš„å¤§å°</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glPointSize</span><span class="hljs-params">(GLfloat size)</span></span>;<br></code></pre></td></tr></table></figure>
<p>å‚æ•°ï¼š</p>
<p>Â· sizeï¼šç‚¹çš„ç›´å¾„ï¼ˆåƒç´ ï¼‰</p>
<p>æ³¨æ„ï¼šåªåœ¨GL_POINTSç»˜åˆ¶æ¨¡å¼æ—¶æœ‰æ•ˆ</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glPointSize</span>(<span class="hljs-number">30.0f</span>);  <span class="hljs-comment">// ç”»30åƒç´ å¤§çš„ç‚¹</span><br></code></pre></td></tr></table></figure>
<ol start="10">
<li>è®¾ç½®è§†å£</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> width, height;<br><span class="hljs-built_in">glfwGetFramebufferSize</span>(window, &amp;width, &amp;height);  <span class="hljs-comment">// è·å–çª—å£å°ºå¯¸ï¼Œéšå¼å®šä¹‰æŒ‡é’ˆ</span><br><span class="hljs-built_in">glViewport</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height);<br><br><span class="hljs-built_in">glViewport</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">600</span>, <span class="hljs-number">400</span>);<br><br><span class="hljs-comment">// è¿™æ„å‘³ç€ï¼š</span><br><span class="hljs-comment">// å·¦ä¸‹è§’ï¼šçª—å£åæ ‡(100, 100)</span><br><span class="hljs-comment">// å³ä¸Šè§’ï¼šçª—å£åæ ‡(100+600, 100+400) = (700, 500)</span><br><span class="hljs-comment">// è§†å£åŒºåŸŸï¼šä»(100,100)åˆ°(700,500)çš„çŸ©å½¢</span><br><br>OpenGLæ¸²æŸ“æµç¨‹ï¼š<br>+----------------+     +----------------+     +----------------+<br>|  åå°ç¼“å†²åŒº   | â†’   |  äº¤æ¢æ“ä½œ    | â†’   |  å‰å°ç¼“å†²åŒº     |<br>| (Back Buffer)  |     | (glfwSwapBuffers)|   | (Front Buffer) |<br>|  - GPUæ­£åœ¨æ¸²æŸ“ |     |                |     |  - æ­£åœ¨æ˜¾ç¤º     |<br>|  - ç”¨æˆ·çœ‹ä¸åˆ°  |     |                |     |  - ç”¨æˆ·çœ‹åˆ°     |<br>+----------------+     +----------------+     +----------------+<br></code></pre></td></tr></table></figure>
<hr />
<h3 id="ç»˜åˆ¶å‡½æ•°"><a href="#ç»˜åˆ¶å‡½æ•°" class="headerlink" title="ç»˜åˆ¶å‡½æ•°"></a><a class="markdownIt-Anchor" href="#ç»˜åˆ¶å‡½æ•°"></a> ğŸ¨ ç»˜åˆ¶å‡½æ•°</h3>
<p>glDrawArrays() - ç»˜åˆ¶å›¾å…ƒ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glDrawArrays</span><span class="hljs-params">(GLenum mode, GLint first, GLsizei count)</span></span>;<br><br></code></pre></td></tr></table></figure>
<p>å‚æ•°ï¼š</p>
<p>Â· modeï¼šç»˜åˆ¶æ¨¡å¼ï¼ˆè¦ç”»ä»€ä¹ˆï¼‰<br />
Â· GL_POINTSï¼šç‚¹<br />
Â· GL_LINESï¼šçº¿<br />
Â· GL_LINE_STRIPï¼šè¿ç»­æŠ˜çº¿<br />
Â· GL_LINE_LOOPï¼šé—­åˆæŠ˜çº¿<br />
Â· GL_TRIANGLESï¼šä¸‰è§’å½¢ï¼ˆæœ€å¸¸ç”¨ï¼‰<br />
Â· GL_TRIANGLE_STRIPï¼šä¸‰è§’å½¢å¸¦<br />
Â· GL_TRIANGLE_FANï¼šä¸‰è§’å½¢æ‰‡<br />
Â· firstï¼šä»ç¬¬å‡ ä¸ªé¡¶ç‚¹å¼€å§‹ï¼ˆé€šå¸¸ä¸º0ï¼‰<br />
Â· countï¼šä½¿ç”¨å¤šå°‘ä¸ªé¡¶ç‚¹</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// ç”»ä¸€ä¸ªç‚¹</span><br><span class="hljs-built_in">glDrawArrays</span>(GL_POINTS, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);<br><br><span class="hljs-comment">// ç”»ä¸€ä¸ªä¸‰è§’å½¢ï¼ˆ3ä¸ªé¡¶ç‚¹ï¼‰</span><br><span class="hljs-built_in">glDrawArrays</span>(GL_TRIANGLES, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>);<br><br><span class="hljs-comment">// ç”»ä¸€æ¡çº¿ï¼ˆ2ä¸ªé¡¶ç‚¹ï¼‰</span><br><span class="hljs-built_in">glDrawArrays</span>(GL_LINES, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>);<br><br></code></pre></td></tr></table></figure>
<hr />
<ol>
<li>é”™è¯¯æ£€æŸ¥</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-number">1.</span> <span class="hljs-built_in">glGetShaderiv</span>(GLuint shader, GLenum pname, GLint *params)<br><br>åŠŸèƒ½ï¼š<br><br>è·å–ç€è‰²å™¨å¯¹è±¡çš„ä¿¡æ¯ï¼ˆivè¡¨ç¤ºè¿”å›çš„æ˜¯æ•´æ•°å‘é‡ï¼‰ã€‚<br><br>å‚æ•°ï¼š<br><br>Â· shaderï¼šè¦æŸ¥è¯¢çš„ç€è‰²å™¨å¯¹è±¡ID<br>Â· pnameï¼šè¦æŸ¥è¯¢çš„å‚æ•°ç±»å‹ï¼ˆæšä¸¾å¸¸é‡ï¼‰<br>  Â· GL_COMPILE_STATUSï¼šæŸ¥è¯¢ç¼–è¯‘æ˜¯å¦æˆåŠŸï¼ˆè¿”å›GL_TRUE/GL_FALSEï¼‰<br>  Â· GL_SHADER_TYPEï¼šæŸ¥è¯¢ç€è‰²å™¨ç±»å‹ï¼ˆé¡¶ç‚¹/ç‰‡æ®µ/å‡ ä½•ç­‰ï¼‰<br>  Â· GL_INFO_LOG_LENGTHï¼šè·å–ä¿¡æ¯æ—¥å¿—çš„é•¿åº¦ï¼ˆå­—ç¬¦æ•°ï¼‰<br>  Â· GL_SHADER_SOURCE_LENGTHï¼šè·å–ç€è‰²å™¨æºä»£ç çš„é•¿åº¦<br>Â· paramsï¼šæŒ‡å‘å­˜å‚¨ç»“æœçš„æ•´æ•°æ•°ç»„çš„æŒ‡é’ˆ<br><br><span class="hljs-number">2.</span> <span class="hljs-built_in">glGetShaderInfoLog</span>(GLuint shader, GLsizei maxLength, GLsizei *length, GLchar *infoLog)<br><br>åŠŸèƒ½ï¼š<br><br>è·å–ç€è‰²å™¨ç¼–è¯‘çš„ä¿¡æ¯æ—¥å¿—ï¼Œç‰¹åˆ«æ˜¯ç¼–è¯‘é”™è¯¯ä¿¡æ¯ã€‚<br><br>å‚æ•°ï¼š<br><br>Â· shaderï¼šè¦æŸ¥è¯¢çš„ç€è‰²å™¨å¯¹è±¡ID<br>Â· maxLengthï¼šinfoLogç¼“å†²åŒºçš„æœ€å¤§é•¿åº¦ï¼ˆåŒ…æ‹¬ç©ºç»ˆæ­¢ç¬¦ï¼‰<br>Â· lengthï¼šæŒ‡å‘å®é™…å†™å…¥æ—¥å¿—é•¿åº¦çš„æŒ‡é’ˆï¼ˆå¯ä¸º<span class="hljs-literal">NULL</span>ï¼‰<br>Â· infoLogï¼šæŒ‡å‘å­˜å‚¨æ—¥å¿—çš„å­—ç¬¦æ•°ç»„çš„æŒ‡é’ˆ<br><br><span class="hljs-number">3.</span> <span class="hljs-built_in">glGetProgramiv</span>() - è·å–ç¨‹åºçŠ¶æ€<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glGetProgramiv</span><span class="hljs-params">(GLuint program, GLenum pname, GLint* params)</span></span>;<br>å¸¸ç”¨å‚æ•°ï¼š<br><br>Â· GL_LINK_STATUSï¼šé“¾æ¥æ˜¯å¦æˆåŠŸ<br>Â· GL_VALIDATE_STATUSï¼šéªŒè¯æ˜¯å¦æˆåŠŸ<br>Â· GL_ATTACHED_SHADERSï¼šé™„åŠ çš„ç€è‰²å™¨æ•°é‡<br><br><span class="hljs-number">4.</span> <span class="hljs-built_in">glGetProgramInfoLog</span>() - è·å–ç¨‹åºé“¾æ¥æ—¥å¿—<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">glGetProgramInfoLog</span><span class="hljs-params">(GLuint program, GLsizei maxLength,</span></span><br><span class="hljs-params"><span class="hljs-function">                        GLsizei* length, GLchar* infoLog)</span></span>;<br></code></pre></td></tr></table></figure>
<h3 id="å®Œæ•´ç€è‰²å™¨åˆ›å»ºæµç¨‹"><a href="#å®Œæ•´ç€è‰²å™¨åˆ›å»ºæµç¨‹" class="headerlink" title="å®Œæ•´ç€è‰²å™¨åˆ›å»ºæµç¨‹"></a><a class="markdownIt-Anchor" href="#å®Œæ•´ç€è‰²å™¨åˆ›å»ºæµç¨‹"></a> ğŸ”„ å®Œæ•´ç€è‰²å™¨åˆ›å»ºæµç¨‹</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-number">1.</span>  <span class="hljs-built_in">glCreateShader</span>()      <span class="hljs-comment">// åˆ›å»ºç€è‰²å™¨å¯¹è±¡</span><br><span class="hljs-number">2.</span>  <span class="hljs-built_in">glShaderSource</span>()      <span class="hljs-comment">// è®¾ç½®æºä»£ç </span><br><span class="hljs-number">3.</span>  <span class="hljs-built_in">glCompileShader</span>()     <span class="hljs-comment">// ç¼–è¯‘</span><br><span class="hljs-number">4.</span>  æ£€æŸ¥ç¼–è¯‘é”™è¯¯          <span class="hljs-comment">// glGetShaderiv/glGetShaderInfoLog</span><br><span class="hljs-number">5.</span>  <span class="hljs-built_in">glCreateProgram</span>()     <span class="hljs-comment">// åˆ›å»ºç¨‹åº</span><br><span class="hljs-number">6.</span>  <span class="hljs-built_in">glAttachShader</span>()      <span class="hljs-comment">// é™„åŠ ç€è‰²å™¨</span><br><span class="hljs-number">7.</span>  <span class="hljs-built_in">glLinkProgram</span>()       <span class="hljs-comment">// é“¾æ¥ç¨‹åº</span><br><span class="hljs-number">8.</span>  æ£€æŸ¥é“¾æ¥é”™è¯¯          <span class="hljs-comment">// glGetProgramiv/glGetProgramInfoLog</span><br><span class="hljs-number">9.</span>  <span class="hljs-built_in">glDeleteShader</span>()      <span class="hljs-comment">// åˆ é™¤ç€è‰²å™¨ï¼ˆé“¾æ¥åï¼‰</span><br><span class="hljs-number">10.</span> <span class="hljs-built_in">glUseProgram</span>()       <span class="hljs-comment">// ä½¿ç”¨ç¨‹åº</span><br><br></code></pre></td></tr></table></figure>
<h2 id="openglåˆå§‹åŒ–renderæ¸²æŸ“"><a href="#openglåˆå§‹åŒ–renderæ¸²æŸ“" class="headerlink" title="openglåˆå§‹åŒ–renderæ¸²æŸ“"></a><a class="markdownIt-Anchor" href="#openglåˆå§‹åŒ–renderæ¸²æŸ“"></a> openGLåˆå§‹åŒ–&amp;renderæ¸²æŸ“</h2>
<h3 id="ä¸€-åˆå§‹åŒ–å‡½æ•°-init"><a href="#ä¸€-åˆå§‹åŒ–å‡½æ•°-init" class="headerlink" title="ä¸€-åˆå§‹åŒ–å‡½æ•°-init"></a><a class="markdownIt-Anchor" href="#ä¸€-åˆå§‹åŒ–å‡½æ•°-init"></a> ä¸€ã€åˆå§‹åŒ–å‡½æ•° init()</h3>
<ol>
<li>createShaderProgram()</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">shaderProgram = <span class="hljs-built_in">createShaderProgram</span>(<span class="hljs-string">&quot;shaders/triangle.vert&quot;</span>, <span class="hljs-string">&quot;shaders/triangle.frag&quot;</span>);<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šåˆ›å»ºå¹¶ç¼–è¯‘ç€è‰²å™¨ç¨‹åº</p>
<p>Â· è¯»å–é¡¶ç‚¹ç€è‰²å™¨(.vert)å’Œç‰‡æ®µç€è‰²å™¨(.frag)æ–‡ä»¶<br />
Â· ç¼–è¯‘ä¸¤ä¸ªç€è‰²å™¨å¹¶é“¾æ¥æˆå¯æ‰§è¡Œç¨‹åº<br />
Â· è¿”å›ç€è‰²å™¨ç¨‹åºçš„ID</p>
<ol start="2">
<li>å®šä¹‰é¡¶ç‚¹æ•°æ®</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">float</span> vertices[] = &#123;...&#125;;<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šå®šä¹‰ä¸‰è§’å½¢çš„å‡ ä½•æ•°æ®</p>
<p>Â· æ¯ä¸ªé¡¶ç‚¹åŒ…å«ï¼š3ä¸ªä½ç½®åæ ‡ + 3ä¸ªé¢œè‰²å€¼(RGB)<br />
Â· å…±3ä¸ªé¡¶ç‚¹ï¼Œç»„æˆä¸€ä¸ªä¸‰è§’å½¢<br />
Â· æ•°æ®æ ¼å¼ï¼šäº¤é”™æ•°ç»„(ä½ç½®+é¢œè‰²äº¤é”™å­˜å‚¨)</p>
<ol start="3">
<li>glGenVertexArrays() å’Œ glGenBuffers()</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glGenVertexArrays</span>(<span class="hljs-number">1</span>, &amp;VAO);<br><span class="hljs-built_in">glGenBuffers</span>(<span class="hljs-number">1</span>, &amp;VBO);<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šç”ŸæˆOpenGLå¯¹è±¡</p>
<p>Â· VAOï¼šé¡¶ç‚¹æ•°ç»„å¯¹è±¡ï¼Œè®°å½•é¡¶ç‚¹å±æ€§é…ç½®<br />
Â· VBOï¼šé¡¶ç‚¹ç¼“å†²åŒºå¯¹è±¡ï¼Œå­˜å‚¨é¡¶ç‚¹æ•°æ®åˆ°GPUå†…å­˜</p>
<ol start="4">
<li>glBindVertexArray()</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glBindVertexArray</span>(VAO);<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šç»‘å®šVAO</p>
<p>Â· å¼€å§‹è®°å½•é¡¶ç‚¹å±æ€§é…ç½®<br />
Â· åç»­çš„é¡¶ç‚¹å±æ€§è®¾ç½®éƒ½ä¼šè®°å½•åˆ°è¿™ä¸ªVAOä¸­</p>
<ol start="5">
<li>glBindBuffer() å’Œ glBufferData()</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glBindBuffer</span>(GL_ARRAY_BUFFER, VBO);<br><span class="hljs-built_in">glBufferData</span>(GL_ARRAY_BUFFER, <span class="hljs-built_in">sizeof</span>(vertices), vertices, GL_STATIC_DRAW);<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šç»‘å®šVBOå¹¶ä¸Šä¼ æ•°æ®</p>
<p>Â· glBindBuffer()ï¼šæŒ‡å®šæ“ä½œå“ªä¸ªç¼“å†²åŒº<br />
Â· glBufferData()ï¼šå°†CPUæ•°æ®å¤åˆ¶åˆ°GPUçš„VBOä¸­<br />
Â· GL_STATIC_DRAWï¼šæç¤ºæ•°æ®ä¸ä¼šé¢‘ç¹ä¿®æ”¹ï¼ŒGPUå¯ä»¥ä¼˜åŒ–å­˜å‚¨</p>
<ol start="6">
<li>glVertexAttribPointer()ï¼ˆæ ¸å¿ƒå‡½æ•°ï¼‰</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// ä½ç½®å±æ€§</span><br><span class="hljs-built_in">glVertexAttribPointer</span>(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, GL_FLOAT, GL_FALSE, <span class="hljs-number">6</span> * <span class="hljs-built_in">sizeof</span>(<span class="hljs-type">float</span>), (<span class="hljs-type">void</span>*)<span class="hljs-number">0</span>);<br><span class="hljs-comment">// é¢œè‰²å±æ€§</span><br><span class="hljs-built_in">glVertexAttribPointer</span>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, GL_FLOAT, GL_FALSE, <span class="hljs-number">6</span> * <span class="hljs-built_in">sizeof</span>(<span class="hljs-type">float</span>), (<span class="hljs-type">void</span>*)(<span class="hljs-number">3</span> * <span class="hljs-built_in">sizeof</span>(<span class="hljs-type">float</span>)));<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šé…ç½®å¦‚ä½•ä»VBOè¯»å–æ•°æ®</p>
<p>å‚æ•°è¯¦è§£ï¼š</p>
<p>Â· å‚æ•°1ï¼šå±æ€§ç´¢å¼•ï¼ˆå¯¹åº”ç€è‰²å™¨ä¸­çš„locationï¼‰<br />
Â· å‚æ•°2ï¼šæ¯ä¸ªé¡¶ç‚¹è¯»å–çš„åˆ†é‡æ•°ï¼ˆ3è¡¨ç¤ºvec3ï¼‰<br />
Â· å‚æ•°3ï¼šæ•°æ®ç±»å‹ï¼ˆGL_FLOATè¡¨ç¤ºfloatï¼‰<br />
Â· å‚æ•°4ï¼šæ˜¯å¦å½’ä¸€åŒ–ï¼ˆGL_FALSEè¡¨ç¤ºä¸å½’ä¸€åŒ–ï¼‰<br />
Â· å‚æ•°5ï¼šæ­¥é•¿ï¼ˆä»ä¸€ä¸ªé¡¶ç‚¹åˆ°ä¸‹ä¸€ä¸ªé¡¶ç‚¹çš„å­—èŠ‚æ•°ï¼‰ 6 * sizeof(float) = 24å­—èŠ‚<br />
Â· å‚æ•°6ï¼šåç§»é‡ï¼ˆè¯¥å±æ€§åœ¨é¡¶ç‚¹å†…çš„èµ·å§‹ä½ç½®ï¼‰ ä½ç½®ï¼šä»0å­—èŠ‚å¼€å§‹<br />
Â· é¢œè‰²ï¼šä»12å­—èŠ‚ï¼ˆ3ä¸ªfloatï¼‰å¼€å§‹</p>
<ol start="7">
<li>glEnableVertexAttribArray()</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glEnableVertexAttribArray</span>(<span class="hljs-number">0</span>);<br><span class="hljs-built_in">glEnableVertexAttribArray</span>(<span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šå¯ç”¨é¡¶ç‚¹å±æ€§</p>
<p>Â· å‘Šè¯‰OpenGLå¯ç”¨å¯¹åº”ç´¢å¼•çš„é¡¶ç‚¹å±æ€§<br />
Â· åªæœ‰å¯ç”¨åï¼Œç€è‰²å™¨æ‰èƒ½æ¥æ”¶åˆ°æ•°æ®</p>
<ol start="8">
<li>è§£ç»‘æ“ä½œ</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glBindBuffer</span>(GL_ARRAY_BUFFER, <span class="hljs-number">0</span>);<br><span class="hljs-built_in">glBindVertexArray</span>(<span class="hljs-number">0</span>);<br><br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šè§£é™¤ç»‘å®šï¼Œé¿å…æ„å¤–ä¿®æ”¹</p>
<p>Â· éµå¾ª&quot;ä½¿ç”¨åè§£ç»‘&quot;çš„è‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</p>
<h3 id="äºŒ-æ¸²æŸ“å‡½æ•°-render"><a href="#äºŒ-æ¸²æŸ“å‡½æ•°-render" class="headerlink" title="äºŒ-æ¸²æŸ“å‡½æ•°-render"></a><a class="markdownIt-Anchor" href="#äºŒ-æ¸²æŸ“å‡½æ•°-render"></a> äºŒã€æ¸²æŸ“å‡½æ•° render()</h3>
<ol>
<li>glClearColor() å’Œ glClear()</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glClearColor</span>(<span class="hljs-number">0.2f</span>, <span class="hljs-number">0.3f</span>, <span class="hljs-number">0.3f</span>, <span class="hljs-number">1.0f</span>);<br><span class="hljs-built_in">glClear</span>(GL_COLOR_BUFFER_BIT);<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šæ¸…å±</p>
<p>Â· glClearColor()ï¼šè®¾ç½®æ¸…å±é¢œè‰²ï¼ˆé’ç»¿è‰²ï¼‰<br />
Â· glClear()ï¼šç”¨è®¾ç½®çš„é¢œè‰²æ¸…é™¤é¢œè‰²ç¼“å†²åŒº</p>
<ol start="2">
<li>glUseProgram()</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glUseProgram</span>(shaderProgram);<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šæ¿€æ´»ç€è‰²å™¨ç¨‹åº</p>
<p>Â· å‘Šè¯‰OpenGLä½¿ç”¨å“ªä¸ªç€è‰²å™¨ç¨‹åºè¿›è¡Œæ¸²æŸ“</p>
<ol start="3">
<li>glBindVertexArray()</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glBindVertexArray</span>(VAO);<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šç»‘å®šVAO</p>
<p>Â· æ¢å¤ä¹‹å‰é…ç½®çš„æ‰€æœ‰é¡¶ç‚¹å±æ€§çŠ¶æ€<br />
Â· è‡ªåŠ¨å…³è”å¯¹åº”çš„VBOå’Œå±æ€§é…ç½®</p>
<ol start="4">
<li>glDrawArrays()ï¼ˆæ ¸å¿ƒæ¸²æŸ“å‡½æ•°ï¼‰</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glDrawArrays</span>(GL_TRIANGLES, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>);<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šæ‰§è¡Œç»˜åˆ¶å‘½ä»¤</p>
<p>Â· å‚æ•°1ï¼šç»˜åˆ¶æ¨¡å¼ï¼ˆGL_TRIANGLESè¡¨ç¤ºç»˜åˆ¶ä¸‰è§’å½¢ï¼‰<br />
Â· å‚æ•°2ï¼šèµ·å§‹é¡¶ç‚¹ç´¢å¼•ï¼ˆä»ç¬¬0ä¸ªé¡¶ç‚¹å¼€å§‹ï¼‰<br />
Â· å‚æ•°3ï¼šç»˜åˆ¶çš„é¡¶ç‚¹æ•°ï¼ˆç»˜åˆ¶3ä¸ªé¡¶ç‚¹ï¼Œç»„æˆ1ä¸ªä¸‰è§’å½¢ï¼‰</p>
<ol start="5">
<li>è§£ç»‘VAO</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glBindVertexArray</span>(<span class="hljs-number">0</span>);<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šæ¸²æŸ“å®Œæˆåè§£ç»‘VAO</p>
<h3 id="ä¸‰-å›è°ƒå‡½æ•°-framebuffer_size_callback"><a href="#ä¸‰-å›è°ƒå‡½æ•°-framebuffer_size_callback" class="headerlink" title="ä¸‰-å›è°ƒå‡½æ•°-framebuffer_size_callback"></a><a class="markdownIt-Anchor" href="#ä¸‰-å›è°ƒå‡½æ•°-framebuffer_size_callback"></a> ä¸‰ã€å›è°ƒå‡½æ•° framebuffer_size_callback()</h3>
<p>glViewport()</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glViewport</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height);<br></code></pre></td></tr></table></figure>
<p>ä½œç”¨ï¼šè®¾ç½®è§†å£ï¼ˆæ¸²æŸ“åŒºåŸŸï¼‰</p>
<p>Â· å½“çª—å£å¤§å°æ”¹å˜æ—¶è¢«è°ƒç”¨<br />
Â· ç¡®ä¿æ¸²æŸ“å†…å®¹æ­£ç¡®é€‚åº”æ–°çª—å£å°ºå¯¸<br />
Â· å‚æ•°1,2ï¼šè§†å£å·¦ä¸‹è§’åœ¨çª—å£ä¸­çš„ä½ç½®<br />
Â· å‚æ•°3,4ï¼šè§†å£çš„å®½åº¦å’Œé«˜åº¦ï¼ˆå®é™…åƒç´ æ•°ï¼‰</p>
<h3 id="å››-æ•°æ®æµç¨‹å›¾"><a href="#å››-æ•°æ®æµç¨‹å›¾" class="headerlink" title="å››-æ•°æ®æµç¨‹å›¾"></a><a class="markdownIt-Anchor" href="#å››-æ•°æ®æµç¨‹å›¾"></a> å››ã€æ•°æ®æµç¨‹å›¾</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">CPUå†…å­˜(verticesæ•°ç»„)<br>    â†“ glBufferData()<br>GPUå†…å­˜(VBOä¸­)<br>    â†“ VAOé…ç½®(glVertexAttribPointer)<br>é¡¶ç‚¹ç€è‰²å™¨(location 0,1æ¥æ”¶)<br>    â†“ glDrawArrays()<br>å…‰æ …åŒ–(é¢œè‰²æ’å€¼)<br>    â†“<br>ç‰‡æ®µç€è‰²å™¨<br>    â†“<br>å¸§ç¼“å†²åŒº<br>    â†“ glfwSwapBuffers()<br>çª—å£æ˜¾ç¤º<br><br></code></pre></td></tr></table></figure>
<h3 id="äº”-å…³é”®æ¦‚å¿µæ€»ç»“"><a href="#äº”-å…³é”®æ¦‚å¿µæ€»ç»“" class="headerlink" title="äº”-å…³é”®æ¦‚å¿µæ€»ç»“"></a><a class="markdownIt-Anchor" href="#äº”-å…³é”®æ¦‚å¿µæ€»ç»“"></a> äº”ã€å…³é”®æ¦‚å¿µæ€»ç»“</h3>
<p>å¯¹è±¡ ä½œç”¨ ç±»æ¯”<br />
VBO å­˜å‚¨é¡¶ç‚¹æ•°æ® ä»“åº“ï¼ˆå­˜æ”¾è´§ç‰©ï¼‰<br />
VAO è®°å½•æ•°æ®è¯»å–æ–¹å¼ ä»“åº“ç®¡ç†æ‰‹å†Œ<br />
Shader å¤„ç†æ•°æ®çš„ç¨‹åº åŠ å·¥æœºå™¨<br />
glDrawArrays å¼€å§‹æ¸²æŸ“ å¼€å§‹ç”Ÿäº§<br />
glViewport è®¾ç½®æ˜¾ç¤ºåŒºåŸŸ å†³å®šåœ¨å“ªä¸ªå±å¹•ä¸Šæ˜¾ç¤º</p>
<h2 id="é¡¶ç‚¹ç€è‰²å™¨"><a href="#é¡¶ç‚¹ç€è‰²å™¨" class="headerlink" title="é¡¶ç‚¹ç€è‰²å™¨"></a><a class="markdownIt-Anchor" href="#é¡¶ç‚¹ç€è‰²å™¨"></a> é¡¶ç‚¹ç€è‰²å™¨</h2>
<h3 id="ä¸€-åŸºæœ¬æ¦‚å¿µ"><a href="#ä¸€-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ä¸€-åŸºæœ¬æ¦‚å¿µ"></a><a class="markdownIt-Anchor" href="#ä¸€-åŸºæœ¬æ¦‚å¿µ"></a> ä¸€ã€åŸºæœ¬æ¦‚å¿µ</h3>
<ol>
<li>å®šä¹‰</li>
</ol>
<p>é¡¶ç‚¹ç€è‰²å™¨æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨GPUä¸Šçš„å°ç¨‹åºï¼Œå¯¹æ¸²æŸ“ç®¡çº¿çš„æ¯ä¸ªé¡¶ç‚¹æ‰§è¡Œä¸€æ¬¡ã€‚</p>
<ol start="2">
<li>ä¸»è¦èŒè´£</li>
</ol>
<p>Â· å¤„ç†é¡¶ç‚¹æ•°æ®ï¼ˆä½ç½®ã€é¢œè‰²ã€æ³•çº¿ã€çº¹ç†åæ ‡ç­‰ï¼‰<br />
Â· æ‰§è¡Œåæ ‡å˜æ¢ï¼ˆæ¨¡å‹â†’ä¸–ç•Œâ†’è§†å›¾â†’æŠ•å½±ï¼‰<br />
Â· ä¼ é€’æ•°æ®ç»™åç»­æ¸²æŸ“é˜¶æ®µ</p>
<ol start="3">
<li>æ‰§è¡Œæ—¶æœº</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">é¡¶ç‚¹æ•°æ® â†’ é¡¶ç‚¹ç€è‰²å™¨ â†’ å…‰æ …åŒ– â†’ ç‰‡æ®µç€è‰²å™¨<br>  â†“          â†“        â†“        â†“<br>æ¯ä¸ªé¡¶ç‚¹    æ¯ä¸ªé¡¶ç‚¹   ç”Ÿæˆç‰‡æ®µ   æ¯ä¸ªåƒç´ <br></code></pre></td></tr></table></figure>
<h3 id="äºŒ-æ ¸å¿ƒä»£ç ç»“æ„"><a href="#äºŒ-æ ¸å¿ƒä»£ç ç»“æ„" class="headerlink" title="äºŒ-æ ¸å¿ƒä»£ç ç»“æ„"></a><a class="markdownIt-Anchor" href="#äºŒ-æ ¸å¿ƒä»£ç ç»“æ„"></a> äºŒã€æ ¸å¿ƒä»£ç ç»“æ„</h3>
<p>åŸºæœ¬æ¨¡æ¿ï¼š</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-meta">#version 430 core                  // 1. ç‰ˆæœ¬å£°æ˜</span><br><br><span class="hljs-keyword">layout</span> (<span class="hljs-keyword">location</span> = <span class="hljs-number">0</span>) <span class="hljs-keyword">in</span> <span class="hljs-type">vec3</span> aPos;  <span class="hljs-comment">// 2. è¾“å…¥ï¼šé¡¶ç‚¹ä½ç½®</span><br><span class="hljs-keyword">layout</span> (<span class="hljs-keyword">location</span> = <span class="hljs-number">1</span>) <span class="hljs-keyword">in</span> <span class="hljs-type">vec3</span> aColor;<span class="hljs-comment">//   è¾“å…¥ï¼šé¡¶ç‚¹é¢œè‰²</span><br><br><span class="hljs-keyword">out</span> <span class="hljs-type">vec3</span> ourColor;                 <span class="hljs-comment">// 3. è¾“å‡ºï¼šç»™ç‰‡æ®µç€è‰²å™¨</span><br><br><span class="hljs-type">void</span> main() &#123;                      <span class="hljs-comment">// 4. ä¸»å‡½æ•°</span><br>    <span class="hljs-built_in">gl_Position</span> = <span class="hljs-type">vec4</span>(aPos, <span class="hljs-number">1.0</span>);   <span class="hljs-comment">// å¿…é¡»ï¼šè®¾ç½®é¡¶ç‚¹ä½ç½®</span><br>    ourColor = aColor;               <span class="hljs-comment">// å¯é€‰ï¼šä¼ é€’é¢œè‰²</span><br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="ä¸‰-å…³é”®ç»„ä»¶è¯¦è§£"><a href="#ä¸‰-å…³é”®ç»„ä»¶è¯¦è§£" class="headerlink" title="ä¸‰-å…³é”®ç»„ä»¶è¯¦è§£"></a><a class="markdownIt-Anchor" href="#ä¸‰-å…³é”®ç»„ä»¶è¯¦è§£"></a> ä¸‰ã€å…³é”®ç»„ä»¶è¯¦è§£</h3>
<ol>
<li>è¾“å…¥ï¼ˆinå˜é‡ï¼‰</li>
</ol>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-comment">// ä»VAO/VBOæ¥æ”¶æ•°æ®</span><br><span class="hljs-keyword">layout</span> (<span class="hljs-keyword">location</span> = X) <span class="hljs-keyword">in</span> ç±»å‹ å˜é‡å;<br></code></pre></td></tr></table></figure>
<p>Â· location = Xï¼šå¯¹åº”C++ä¸­glVertexAttribPointerçš„ç¬¬ä¸€ä¸ªå‚æ•°<br />
Â· ç±»å‹ï¼švec2ã€vec3ã€vec4ç­‰<br />
Â· æ•°æ®æ¥æºï¼šVAOé…ç½®çš„é¡¶ç‚¹å±æ€§</p>
<ol start="2">
<li>è¾“å‡º</li>
</ol>
<p>Â· å¿…éœ€è¾“å‡ºï¼šgl_Positionï¼ˆå†…ç½®å˜é‡ï¼Œvec4ç±»å‹ï¼‰<br />
Â· è¡¨ç¤ºé¡¶ç‚¹åœ¨è£å‰ªç©ºé—´ä¸­çš„æœ€ç»ˆä½ç½®<br />
Â· è‡ªå®šä¹‰è¾“å‡ºï¼šä½¿ç”¨outå…³é”®å­—<br />
Â· ä¼ é€’ç»™ç‰‡æ®µç€è‰²å™¨çš„æ•°æ®ï¼ˆå¦‚é¢œè‰²ã€çº¹ç†åæ ‡ï¼‰<br />
Â· ä¼šè¢«å…‰æ …åŒ–æ’å€¼</p>
<ol start="3">
<li>Uniformå˜é‡</li>
</ol>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-keyword">uniform</span> ç±»å‹ å˜é‡å;  <span class="hljs-comment">// ä»C++ä¼ å…¥çš„å…¨å±€å˜é‡</span><br></code></pre></td></tr></table></figure>
<p>ç”¨é€”ï¼š</p>
<p>Â· å˜æ¢çŸ©é˜µï¼ˆæ¨¡å‹ã€è§†å›¾ã€æŠ•å½±ï¼‰<br />
Â· æ—¶é—´ï¼ˆç”¨äºåŠ¨ç”»ï¼‰<br />
Â· å…‰ç…§å‚æ•°<br />
Â· å…¶ä»–å…¨å±€è®¾ç½®</p>
<h3 id="å››-å‘é‡ç±»å‹ç³»ç»Ÿ"><a href="#å››-å‘é‡ç±»å‹ç³»ç»Ÿ" class="headerlink" title="å››-å‘é‡ç±»å‹ç³»ç»Ÿ"></a><a class="markdownIt-Anchor" href="#å››-å‘é‡ç±»å‹ç³»ç»Ÿ"></a> å››ã€å‘é‡ç±»å‹ç³»ç»Ÿ</h3>
<p>ç±»å‹ åˆ†é‡æ•° å¸¸ç”¨åœºæ™¯<br />
vec2  2   çº¹ç†åæ ‡(uv)ã€2Dä½ç½®<br />
vec3  3   3Dä½ç½®(xyz)ã€é¢œè‰²(rgb)ã€æ³•çº¿<br />
vec4  4   é½æ¬¡åæ ‡ã€RGBAé¢œè‰²<br />
vec1  1   æå°‘ç”¨ï¼ˆç›´æ¥ç”¨floatï¼‰</p>
<p>å‘é‡æ“ä½œï¼š</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-comment">// æ„é€ </span><br><span class="hljs-type">vec3</span> pos = <span class="hljs-type">vec3</span>(<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">3.0</span>);<br><span class="hljs-type">vec4</span> color = <span class="hljs-type">vec4</span>(<span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>);  <span class="hljs-comment">// çº¢è‰²ï¼Œä¸é€æ˜</span><br><br><span class="hljs-comment">// è®¿é—®åˆ†é‡</span><br><span class="hljs-type">float</span> x = pos.x;      <span class="hljs-comment">// 1.0</span><br><span class="hljs-type">vec2</span> xy = pos.xy;     <span class="hljs-comment">// (1.0, 2.0)</span><br><br><span class="hljs-comment">// Swizzleï¼ˆåˆ†é‡é‡æ’ï¼‰</span><br><span class="hljs-type">vec3</span> yxz = pos.yxz;   <span class="hljs-comment">// (2.0, 1.0, 3.0)</span><br><br><span class="hljs-comment">// è¿ç®—</span><br><span class="hljs-type">vec3</span> a = <span class="hljs-type">vec3</span>(<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">3.0</span>);<br><span class="hljs-type">vec3</span> b = <span class="hljs-type">vec3</span>(<span class="hljs-number">4.0</span>, <span class="hljs-number">5.0</span>, <span class="hljs-number">6.0</span>);<br><span class="hljs-type">vec3</span> c = a + b;              <span class="hljs-comment">// å‘é‡åŠ </span><br><span class="hljs-type">float</span> <span class="hljs-built_in">dot</span> = <span class="hljs-built_in">dot</span>(a, b);       <span class="hljs-comment">// ç‚¹ç§¯ï¼š32.0</span><br><span class="hljs-type">vec3</span> <span class="hljs-built_in">cross</span> = <span class="hljs-built_in">cross</span>(a, b);    <span class="hljs-comment">// å‰ç§¯ï¼ˆä»…vec3ï¼‰</span><br></code></pre></td></tr></table></figure>
<h3 id="äº”-3då›¾å½¢å­¦å˜æ¢"><a href="#äº”-3då›¾å½¢å­¦å˜æ¢" class="headerlink" title="äº”-3då›¾å½¢å­¦å˜æ¢"></a><a class="markdownIt-Anchor" href="#äº”-3då›¾å½¢å­¦å˜æ¢"></a> äº”ã€3Då›¾å½¢å­¦å˜æ¢</h3>
<p>æ ‡å‡†å˜æ¢æµç¨‹ï¼š</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-meta">#version 430 core</span><br><span class="hljs-keyword">layout</span> (<span class="hljs-keyword">location</span> = <span class="hljs-number">0</span>) <span class="hljs-keyword">in</span> <span class="hljs-type">vec3</span> aPos;<br><br><span class="hljs-keyword">uniform</span> <span class="hljs-type">mat4</span> model;      <span class="hljs-comment">// æ¨¡å‹çŸ©é˜µï¼ˆç‰©ä½“å˜æ¢ï¼‰</span><br><span class="hljs-keyword">uniform</span> <span class="hljs-type">mat4</span> view;       <span class="hljs-comment">// è§†å›¾çŸ©é˜µï¼ˆæ‘„åƒæœºï¼‰</span><br><span class="hljs-keyword">uniform</span> <span class="hljs-type">mat4</span> projection; <span class="hljs-comment">// æŠ•å½±çŸ©é˜µï¼ˆ3Dâ†’2Dï¼‰</span><br><br><span class="hljs-type">void</span> main() &#123;<br>    <span class="hljs-comment">// å®Œæ•´çš„MVPå˜æ¢</span><br>    <span class="hljs-built_in">gl_Position</span> = projection * view * model * <span class="hljs-type">vec4</span>(aPos, <span class="hljs-number">1.0</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å„å˜æ¢çŸ©é˜µä½œç”¨ï¼š</p>
<p>Â· æ¨¡å‹çŸ©é˜µï¼šç‰©ä½“åæ ‡ç³» â†’ ä¸–ç•Œåæ ‡ç³»<br />
Â· å¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ç‰©ä½“<br />
Â· è§†å›¾çŸ©é˜µï¼šä¸–ç•Œåæ ‡ç³» â†’ æ‘„åƒæœºåæ ‡ç³»<br />
Â· æ‘„åƒæœºä½ç½®å’Œæ–¹å‘<br />
Â· æŠ•å½±çŸ©é˜µï¼š3Dç©ºé—´ â†’ 2Dæ ‡å‡†åŒ–è®¾å¤‡åæ ‡<br />
Â· é€è§†/æ­£äº¤æŠ•å½±</p>
<h3 id="å…­-é«˜çº§åº”ç”¨"><a href="#å…­-é«˜çº§åº”ç”¨" class="headerlink" title="å…­-é«˜çº§åº”ç”¨"></a><a class="markdownIt-Anchor" href="#å…­-é«˜çº§åº”ç”¨"></a> å…­ã€é«˜çº§åº”ç”¨</h3>
<ol>
<li>ç®€å•åŠ¨ç”»</li>
</ol>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-keyword">uniform</span> <span class="hljs-type">float</span> time;<br><br><span class="hljs-type">void</span> main() &#123;<br>    <span class="hljs-comment">// ä¸Šä¸‹æ³¢åŠ¨</span><br>    <span class="hljs-type">float</span> wave = <span class="hljs-built_in">sin</span>(aPos.x * <span class="hljs-number">5.0</span> + time) * <span class="hljs-number">0.1</span>;<br>    <span class="hljs-type">vec3</span> newPos = <span class="hljs-type">vec3</span>(aPos.x, aPos.y + wave, aPos.z);<br>    <span class="hljs-built_in">gl_Position</span> = <span class="hljs-type">vec4</span>(newPos, <span class="hljs-number">1.0</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
<ol start="2">
<li>é¡¶ç‚¹å…‰ç…§è®¡ç®—</li>
</ol>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-keyword">layout</span> (<span class="hljs-keyword">location</span> = <span class="hljs-number">2</span>) <span class="hljs-keyword">in</span> <span class="hljs-type">vec3</span> aNormal;<br><span class="hljs-keyword">uniform</span> <span class="hljs-type">vec3</span> lightPos;<br><span class="hljs-keyword">uniform</span> <span class="hljs-type">vec3</span> lightColor;<br><br><span class="hljs-keyword">out</span> <span class="hljs-type">vec3</span> LightingColor;<br><br><span class="hljs-type">void</span> main() &#123;<br>    <span class="hljs-comment">// è®¡ç®—å…‰ç…§ï¼ˆåœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­ï¼Œæ€§èƒ½å¥½ä½†è´¨é‡ä½ï¼‰</span><br>    <span class="hljs-type">vec3</span> lightDir = <span class="hljs-built_in">normalize</span>(lightPos - aPos);<br>    <span class="hljs-type">float</span> diff = <span class="hljs-built_in">max</span>(<span class="hljs-built_in">dot</span>(aNormal, lightDir), <span class="hljs-number">0.0</span>);<br>    LightingColor = diff * lightColor;<br>&#125;<br></code></pre></td></tr></table></figure>
<ol start="3">
<li>å‡ ä½•å˜å½¢</li>
</ol>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-comment">// æ‰­æ›²æ•ˆæœ</span><br><span class="hljs-keyword">uniform</span> <span class="hljs-type">float</span> twistFactor;<br><br><span class="hljs-type">void</span> main() &#123;<br>    <span class="hljs-type">float</span> angle = aPos.y * twistFactor;<br>    <span class="hljs-type">float</span> cosA = <span class="hljs-built_in">cos</span>(angle);<br>    <span class="hljs-type">float</span> sinA = <span class="hljs-built_in">sin</span>(angle);<br><br>    <span class="hljs-type">mat2</span> rot = <span class="hljs-type">mat2</span>(cosA, -sinA, sinA, cosA);<br>    <span class="hljs-type">vec2</span> twisted = rot * aPos.xz;<br><br>    <span class="hljs-built_in">gl_Position</span> = <span class="hljs-type">vec4</span>(twisted.x, aPos.y, twisted.y, <span class="hljs-number">1.0</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="ä¸ƒ-ä¸cçš„æ•°æ®è¿æ¥"><a href="#ä¸ƒ-ä¸cçš„æ•°æ®è¿æ¥" class="headerlink" title="ä¸ƒ-ä¸cçš„æ•°æ®è¿æ¥"></a><a class="markdownIt-Anchor" href="#ä¸ƒ-ä¸cçš„æ•°æ®è¿æ¥"></a> ä¸ƒã€ä¸C++çš„æ•°æ®è¿æ¥</h3>
<p>æ•°æ®æµå‘ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">C++ç¨‹åº â†’ VAOé…ç½® â†’ é¡¶ç‚¹ç€è‰²å™¨ â†’ ç‰‡æ®µç€è‰²å™¨<br>   â†“        â†“          â†“         â†“<br>è®¾ç½®uniform  å®šä¹‰å±æ€§  æ¥æ”¶inå˜é‡  æ¥æ”¶æ’å€¼åæ•°æ®<br>            layout   å¤„ç†è®¡ç®—   æœ€ç»ˆé¢œè‰²è¾“å‡º<br></code></pre></td></tr></table></figure>
<p>è¿æ¥æ­¥éª¤ï¼š</p>
<ol>
<li>
<p>C++ä¸­é…ç½®VAOï¼š</p>
 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glVertexAttribPointer</span>(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, GL_FLOAT, GL_FALSE, stride, offset);<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>ç€è‰²å™¨å£°æ˜å¯¹åº”locationï¼š</p>
 <figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-keyword">layout</span> (<span class="hljs-keyword">location</span> = <span class="hljs-number">0</span>) <span class="hljs-keyword">in</span> <span class="hljs-type">vec3</span> aPos;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>ä¼ é€’uniformï¼š</p>
 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// C++ä¸­</span><br>GLint loc = <span class="hljs-built_in">glGetUniformLocation</span>(program, <span class="hljs-string">&quot;time&quot;</span>);<br><span class="hljs-built_in">glUniform1f</span>(loc, currentTime);<br></code></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="ç‰‡æ®µç€è‰²å™¨"><a href="#ç‰‡æ®µç€è‰²å™¨" class="headerlink" title="ç‰‡æ®µç€è‰²å™¨"></a><a class="markdownIt-Anchor" href="#ç‰‡æ®µç€è‰²å™¨"></a> ç‰‡æ®µç€è‰²å™¨</h2>
<h3 id="ä¸€-åŸºæœ¬æ¦‚å¿µ-2"><a href="#ä¸€-åŸºæœ¬æ¦‚å¿µ-2" class="headerlink" title="ä¸€-åŸºæœ¬æ¦‚å¿µ-2"></a><a class="markdownIt-Anchor" href="#ä¸€-åŸºæœ¬æ¦‚å¿µ-2"></a> ä¸€ã€åŸºæœ¬æ¦‚å¿µ</h3>
<p>å®šä¹‰<br />
ç‰‡æ®µç€è‰²å™¨ï¼ˆFragment Shaderï¼‰æ˜¯GPUæ¸²æŸ“ç®¡çº¿çš„æœ€åä¸€ä¸ªå¯ç¼–ç¨‹é˜¶æ®µï¼Œå¤„ç†æ¯ä¸ªåƒç´ ï¼ˆç‰‡æ®µï¼‰ çš„æœ€ç»ˆé¢œè‰²ã€‚<br />
æ ¸å¿ƒèŒè´£<br />
Â· è®¡ç®—æ¯ä¸ªåƒç´ çš„æœ€ç»ˆé¢œè‰²<br />
Â· åº”ç”¨çº¹ç†ã€å…‰ç…§ã€é˜´å½±ç­‰æ•ˆæœ<br />
Â· å†³å®šåƒç´ æ˜¯å¦è¢«ä¸¢å¼ƒï¼ˆé€æ˜åº¦ã€æ·±åº¦æµ‹è¯•ç­‰ï¼‰<br />
æ‰§è¡Œæ—¶æœº<br />
é¡¶ç‚¹ç€è‰²å™¨ â†’ å…‰æ …åŒ– â†’ ç‰‡æ®µç€è‰²å™¨ â†’ å¸§ç¼“å†²åŒº<br />
â†“         â†“         â†“         â†“<br />
æ¯ä¸ªé¡¶ç‚¹    ç”Ÿæˆç‰‡æ®µ   æ¯ä¸ªåƒç´     æœ€ç»ˆå›¾åƒ</p>
<p>â€‹<br />
Â· æ‰§è¡Œæ¬¡æ•° = å±å¹•åƒç´ æ•°ï¼ˆæˆ–å¯è§ç‰‡æ®µæ•°ï¼‰<br />
Â· é€šå¸¸æ‰§è¡Œæ¬¡æ•° &gt;&gt; é¡¶ç‚¹ç€è‰²å™¨æ‰§è¡Œæ¬¡æ•°<br />
äºŒã€æ ¸å¿ƒä»£ç ç»“æ„<br />
åŸºæœ¬æ¨¡æ¿ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#version 430 core                <span class="hljs-comment">// 1. ç‰ˆæœ¬å£°æ˜</span></span><br><br>in vec3 ourColor;                <span class="hljs-comment">// 2. è¾“å…¥ï¼šä»é¡¶ç‚¹ç€è‰²å™¨æ¥ï¼ˆæ’å€¼åï¼‰</span><br>in vec2 TexCoord;                <span class="hljs-comment">//    å…¶ä»–æ’å€¼æ•°æ®</span><br><br>out vec4 FragColor;              <span class="hljs-comment">// 3. è¾“å‡ºï¼šæœ€ç»ˆåƒç´ é¢œè‰²ï¼ˆå¿…é¡»ï¼ï¼‰</span><br><br>uniform sampler2D ourTexture;    <span class="hljs-comment">// 4. Uniformå˜é‡ï¼šçº¹ç†é‡‡æ ·å™¨</span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;                    <span class="hljs-comment">// 5. ä¸»å‡½æ•°</span><br>    <span class="hljs-comment">// ç®€å•é¢œè‰²è¾“å‡º</span><br>    FragColor = <span class="hljs-built_in">vec4</span>(ourColor, <span class="hljs-number">1.0</span>);<br><br>    <span class="hljs-comment">// æˆ–çº¹ç†é‡‡æ ·</span><br>    <span class="hljs-comment">// FragColor = texture(ourTexture, TexCoord);</span><br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="ä¸‰-å…³é”®ç»„ä»¶è¯¦è§£-2"><a href="#ä¸‰-å…³é”®ç»„ä»¶è¯¦è§£-2" class="headerlink" title="ä¸‰-å…³é”®ç»„ä»¶è¯¦è§£-2"></a><a class="markdownIt-Anchor" href="#ä¸‰-å…³é”®ç»„ä»¶è¯¦è§£-2"></a> ä¸‰ã€å…³é”®ç»„ä»¶è¯¦è§£</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs cpp">è¾“å…¥ï¼ˆinå˜é‡ï¼‰<br>in ç±»å‹ å˜é‡å;  <span class="hljs-comment">// ä»é¡¶ç‚¹ç€è‰²å™¨ä¼ é€’ï¼Œç»è¿‡å…‰æ …åŒ–æ’å€¼</span><br>â€‹<br>ç‰¹ç‚¹ï¼š<br>Â· è‡ªåŠ¨æ’å€¼ï¼šä¸‰è§’å½¢é¡¶ç‚¹é—´çš„å¹³æ»‘è¿‡æ¸¡<br>Â· æ— locationï¼šä¸é¡¶ç‚¹ç€è‰²å™¨çš„outå˜é‡åå¯¹åº”<br>Â· å…¸å‹è¾“å…¥ï¼š<br>Â· é¢œè‰²ï¼šin vec3 ourColor;<br>Â· çº¹ç†åæ ‡ï¼šin vec2 TexCoord;<br>Â· æ³•çº¿ï¼šin vec3 Normal;<br>Â· ä¸–ç•Œåæ ‡ï¼šin vec3 FragPos;<br>è¾“å‡º<br>Â· å¿…éœ€è¾“å‡ºï¼šè‡³å°‘ä¸€ä¸ªoutå˜é‡ï¼ˆé€šå¸¸æ˜¯FragColorï¼‰<br>out vec4 FragColor;  <span class="hljs-comment">// RGBAé¢œè‰²ï¼ŒA=é€æ˜åº¦</span><br><br>â€‹<br>Â· å¤šæ¸²æŸ“ç›®æ ‡ï¼ˆMRTï¼‰ï¼š<br><span class="hljs-built_in">layout</span>(location = <span class="hljs-number">0</span>) out vec4 ColorBuffer;<br><span class="hljs-built_in">layout</span>(location = <span class="hljs-number">1</span>) out vec4 NormalBuffer;<br><span class="hljs-built_in">layout</span>(location = <span class="hljs-number">2</span>) out vec4 PositionBuffer;<br><br>â€‹<br>Uniformå˜é‡<br>uniform ç±»å‹ å˜é‡å;  <span class="hljs-comment">// ä»C++ä¼ å…¥ï¼Œæ‰€æœ‰ç‰‡æ®µå…±äº«</span><br><br>â€‹<br>å¸¸ç”¨uniformï¼š<br>Â· çº¹ç†é‡‡æ ·å™¨ï¼šsampler2D, samplerCube<br>Â· æ—¶é—´ï¼š<span class="hljs-type">float</span> time<br>Â· å…‰ç…§å‚æ•°ï¼švec3 lightPos, vec3 lightColor<br>Â· æè´¨å±æ€§ï¼švec3 ambient, vec3 diffuse, vec3 specular<br>Â· æ‘„åƒæœºä½ç½®ï¼švec3 viewPos<br></code></pre></td></tr></table></figure>
<h3 id="å››-å†…ç½®å˜é‡ä¸å‡½æ•°"><a href="#å››-å†…ç½®å˜é‡ä¸å‡½æ•°" class="headerlink" title="å››-å†…ç½®å˜é‡ä¸å‡½æ•°"></a><a class="markdownIt-Anchor" href="#å››-å†…ç½®å˜é‡ä¸å‡½æ•°"></a> å››ã€å†…ç½®å˜é‡ä¸å‡½æ•°</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs cpp">é‡è¦å†…ç½®å˜é‡<br><span class="hljs-comment">// ç‰‡æ®µä¿¡æ¯</span><br>vec4 gl_FragCoord;      <span class="hljs-comment">// åƒç´ åæ ‡(x,y,z,w)ï¼Œzæ˜¯æ·±åº¦</span><br><span class="hljs-type">bool</span> gl_FrontFacing;    <span class="hljs-comment">// æ˜¯å¦æ­£é¢æœå‘</span><br>vec2 gl_PointCoord;     <span class="hljs-comment">// ç‚¹ç²¾çµçš„çº¹ç†åæ ‡</span><br><br><span class="hljs-comment">// æ·±åº¦æ§åˆ¶ï¼ˆå¯é€‰ï¼‰</span><br><span class="hljs-type">float</span> gl_FragDepth;     <span class="hljs-comment">// æ‰‹åŠ¨è®¾ç½®æ·±åº¦å€¼</span><br><br>â€‹<br>æ ¸å¿ƒå†…ç½®å‡½æ•°<br><span class="hljs-comment">// çº¹ç†é‡‡æ ·</span><br><span class="hljs-function">vec4 <span class="hljs-title">texture</span><span class="hljs-params">(sampler2D sampler, vec2 coord)</span></span>;<br><span class="hljs-function">vec4 <span class="hljs-title">texture</span><span class="hljs-params">(samplerCube sampler, vec3 coord)</span></span>;<br><br><span class="hljs-comment">// æ•°å­¦å‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">float</span> <span class="hljs-title">length</span><span class="hljs-params">(vec2/vec3 v)</span></span>;    <span class="hljs-comment">// å‘é‡é•¿åº¦</span><br><span class="hljs-function">vec3 <span class="hljs-title">normalize</span><span class="hljs-params">(vec3 v)</span></span>;       <span class="hljs-comment">// å•ä½åŒ–</span><br><span class="hljs-function"><span class="hljs-type">float</span> <span class="hljs-title">dot</span><span class="hljs-params">(vec3 a, vec3 b)</span></span>;    <span class="hljs-comment">// ç‚¹ç§¯</span><br><span class="hljs-function">vec3 <span class="hljs-title">cross</span><span class="hljs-params">(vec3 a, vec3 b)</span></span>;   <span class="hljs-comment">// å‰ç§¯</span><br><span class="hljs-function"><span class="hljs-type">float</span> <span class="hljs-title">mix</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">float</span> b, <span class="hljs-type">float</span> t)</span></span>; <span class="hljs-comment">// çº¿æ€§æ’å€¼</span><br><br><span class="hljs-comment">// å™ªå£°ä¸éšæœº</span><br><span class="hljs-function"><span class="hljs-type">float</span> <span class="hljs-title">noise</span><span class="hljs-params">(vec2/vec3 p)</span></span>;     <span class="hljs-comment">// æŸæ—å™ªå£°</span><br></code></pre></td></tr></table></figure>
<p>â€‹</p>
<h3 id="äº”-çº¹ç†å¤„ç†"><a href="#äº”-çº¹ç†å¤„ç†" class="headerlink" title="äº”-çº¹ç†å¤„ç†"></a><a class="markdownIt-Anchor" href="#äº”-çº¹ç†å¤„ç†"></a> äº”ã€çº¹ç†å¤„ç†</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs cpp">åŸºæœ¬çº¹ç†é‡‡æ ·<br>uniform sampler2D texture1;<br>in vec2 TexCoord;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// é‡‡æ ·çº¹ç†</span><br>    vec4 texColor = <span class="hljs-built_in">texture</span>(texture1, TexCoord);<br><br>    <span class="hljs-comment">// æ··åˆçº¹ç†å’Œé¢œè‰²</span><br>    FragColor = texColor * <span class="hljs-built_in">vec4</span>(ourColor, <span class="hljs-number">1.0</span>);<br>&#125;<br><br>â€‹<br>å¤šçº¹ç†æ··åˆ<br>uniform sampler2D texture1;<br>uniform sampler2D texture2;<br>uniform <span class="hljs-type">float</span> mixValue;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    vec4 tex1 = <span class="hljs-built_in">texture</span>(texture1, TexCoord);<br>    vec4 tex2 = <span class="hljs-built_in">texture</span>(texture2, TexCoord);<br>    FragColor = <span class="hljs-built_in">mix</span>(tex1, tex2, mixValue);<br>&#125;<br><br>â€‹<br>çº¹ç†è¿‡æ»¤ä¸åŒ…è£…<br><span class="hljs-comment">// çº¹ç†åæ ‡å˜æ¢ï¼ˆå¤„ç†è¶…å‡º[0,1]èŒƒå›´ï¼‰</span><br>vec2 wrappedCoord = <span class="hljs-built_in">fract</span>(TexCoord);  <span class="hljs-comment">// é‡å¤çº¹ç†</span><br>vec2 mirroredCoord = <span class="hljs-built_in">abs</span>(TexCoord);   <span class="hljs-comment">// é•œåƒé‡å¤</span><br><br><span class="hljs-comment">// è‡ªå®šä¹‰é‡‡æ ·</span><br><span class="hljs-function">vec4 <span class="hljs-title">customSample</span><span class="hljs-params">(sampler2D tex, vec2 coord)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">texture</span>(tex, coord);<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="glmæ•°å­¦å·¥å…·åº“"><a href="#glmæ•°å­¦å·¥å…·åº“" class="headerlink" title="glmæ•°å­¦å·¥å…·åº“"></a><a class="markdownIt-Anchor" href="#glmæ•°å­¦å·¥å…·åº“"></a> glmæ•°å­¦å·¥å…·åº“</h2>
<h3 id="glmæ ¸å¿ƒæ¦‚å¿µ"><a href="#glmæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="glmæ ¸å¿ƒæ¦‚å¿µ"></a><a class="markdownIt-Anchor" href="#glmæ ¸å¿ƒæ¦‚å¿µ"></a> ğŸ“¦ GLMæ ¸å¿ƒæ¦‚å¿µ</h3>
<p>GLM = OpenGL Mathematicsï¼Œä¸“ä¸ºå›¾å½¢å­¦è®¾è®¡çš„æ•°å­¦åº“</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;glm/glm.hpp&gt;</span>              <span class="hljs-comment">// æ ¸å¿ƒåº“</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span> <span class="hljs-comment">// å˜æ¢å‡½æ•°</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;glm/gtc/type_ptr.hpp&gt;</span>     <span class="hljs-comment">// ç±»å‹æŒ‡é’ˆè½¬æ¢</span></span><br><br></code></pre></td></tr></table></figure>
<h3 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a><a class="markdownIt-Anchor" href="#åŸºæœ¬æ•°æ®ç±»å‹"></a> ğŸ”¢ åŸºæœ¬æ•°æ®ç±»å‹</h3>
<p>å‘é‡ (Vectors)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">glm::vec2 <span class="hljs-title">v2</span><span class="hljs-params">(<span class="hljs-number">1.0f</span>, <span class="hljs-number">2.0f</span>)</span></span>;          <span class="hljs-comment">// 2Då‘é‡ (x, y)</span><br><span class="hljs-function">glm::vec3 <span class="hljs-title">v3</span><span class="hljs-params">(<span class="hljs-number">1.0f</span>, <span class="hljs-number">2.0f</span>, <span class="hljs-number">3.0f</span>)</span></span>;    <span class="hljs-comment">// 3Då‘é‡ (x, y, z) â† æœ€å¸¸ç”¨ï¼</span><br><span class="hljs-function">glm::vec4 <span class="hljs-title">v4</span><span class="hljs-params">(<span class="hljs-number">1.0f</span>, <span class="hljs-number">2.0f</span>, <span class="hljs-number">3.0f</span>, <span class="hljs-number">1.0f</span>)</span></span>; <span class="hljs-comment">// 4Då‘é‡ (x, y, z, w)</span><br><br><span class="hljs-comment">// è®¿é—®åˆ†é‡</span><br><span class="hljs-type">float</span> x = v<span class="hljs-number">3.</span>x;     <span class="hljs-comment">// ç›´æ¥è®¿é—®</span><br><span class="hljs-type">float</span> y = v3[<span class="hljs-number">1</span>];    <span class="hljs-comment">// æ•°ç»„å¼è®¿é—®</span><br><span class="hljs-type">float</span> z = v<span class="hljs-number">3.</span>r;     <span class="hljs-comment">// é¢œè‰²å¼è®¿é—® (r,g,b,a)</span><br><br><span class="hljs-comment">// å¸¸ç”¨å‘é‡</span><br>glm::vec3 zero = glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">0.0f</span>);          <span class="hljs-comment">// (0,0,0)</span><br>glm::vec3 one = glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">1.0f</span>);           <span class="hljs-comment">// (1,1,1)</span><br>glm::vec3 up = glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">0.0f</span>, <span class="hljs-number">1.0f</span>, <span class="hljs-number">0.0f</span>); <span class="hljs-comment">// ä¸Šæ–¹å‘</span><br><br></code></pre></td></tr></table></figure>
<p>çŸ©é˜µ (Matrices)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp">glm::mat2 m2;        <span class="hljs-comment">// 2Ã—2çŸ©é˜µ</span><br>glm::mat3 m3;        <span class="hljs-comment">// 3Ã—3çŸ©é˜µ</span><br>glm::mat4 m4;        <span class="hljs-comment">// 4Ã—4çŸ©é˜µ â† 3Då˜æ¢æœ€å¸¸ç”¨ï¼</span><br><br><span class="hljs-comment">// åˆ›å»ºå•ä½çŸ©é˜µï¼ˆä»€ä¹ˆéƒ½ä¸åšçš„çŸ©é˜µï¼‰</span><br>glm::mat4 identity = glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>);  <span class="hljs-comment">// å¯¹è§’çº¿ä¸º1ï¼Œå…¶ä»–ä¸º0</span><br><span class="hljs-comment">// [1, 0, 0, 0]</span><br><span class="hljs-comment">// [0, 1, 0, 0]</span><br><span class="hljs-comment">// [0, 0, 1, 0]</span><br><span class="hljs-comment">// [0, 0, 0, 1]</span><br><br><span class="hljs-comment">// è®¿é—®å…ƒç´ </span><br><span class="hljs-type">float</span> elem = m4[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];  <span class="hljs-comment">// ç¬¬0è¡Œç¬¬1åˆ—</span><br><br></code></pre></td></tr></table></figure>
<h3 id="å˜æ¢çŸ©é˜µ-transformations"><a href="#å˜æ¢çŸ©é˜µ-transformations" class="headerlink" title="å˜æ¢çŸ©é˜µ-transformations"></a><a class="markdownIt-Anchor" href="#å˜æ¢çŸ©é˜µ-transformations"></a> ğŸš€ å˜æ¢çŸ©é˜µ (Transformations)</h3>
<ol>
<li>å¹³ç§» (Translation)</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp">glm::mat4 model = glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>);  <span class="hljs-comment">// å•ä½çŸ©é˜µ</span><br>model = glm::<span class="hljs-built_in">translate</span>(model, glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">1.0f</span>, <span class="hljs-number">2.0f</span>, <span class="hljs-number">3.0f</span>));<br><span class="hljs-comment">// å°†ç‰©ä½“ç§»åŠ¨åˆ°(1, 2, 3)ä½ç½®</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>æ—‹è½¬ (Rotation)</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// ç»•ç‰¹å®šè½´æ—‹è½¬ï¼ˆè§’åº¦å•ä½ï¼šå¼§åº¦ï¼‰</span><br>model = glm::<span class="hljs-built_in">rotate</span>(model, angle, glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">0.0f</span>, <span class="hljs-number">1.0f</span>, <span class="hljs-number">0.0f</span>));<br><span class="hljs-comment">// ç»•Yè½´æ—‹è½¬angleå¼§åº¦</span><br><br><span class="hljs-comment">// å¸¸ç”¨ï¼šåº¦è½¬å¼§åº¦</span><br><span class="hljs-type">float</span> radians = glm::<span class="hljs-built_in">radians</span>(<span class="hljs-number">45.0f</span>);  <span class="hljs-comment">// 45åº¦è½¬å¼§åº¦</span><br>model = glm::<span class="hljs-built_in">rotate</span>(model, glm::<span class="hljs-built_in">radians</span>(<span class="hljs-number">45.0f</span>), glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">1.0f</span>, <span class="hljs-number">0.0f</span>, <span class="hljs-number">0.0f</span>));<br><br><span class="hljs-comment">// ç»•å¤šä¸ªè½´æ—‹è½¬ï¼ˆæ³¨æ„é¡ºåºï¼ï¼‰</span><br>glm::mat4 rotation = glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>);<br>rotation = glm::<span class="hljs-built_in">rotate</span>(rotation, angleX, glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)); <span class="hljs-comment">// Xè½´</span><br>rotation = glm::<span class="hljs-built_in">rotate</span>(rotation, angleY, glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)); <span class="hljs-comment">// Yè½´</span><br>rotation = glm::<span class="hljs-built_in">rotate</span>(rotation, angleZ, glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)); <span class="hljs-comment">// Zè½´</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>ç¼©æ”¾ (Scaling)</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">model = glm::<span class="hljs-built_in">scale</span>(model, glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">2.0f</span>, <span class="hljs-number">2.0f</span>, <span class="hljs-number">2.0f</span>));  <span class="hljs-comment">// å‡åŒ€æ”¾å¤§2å€</span><br>model = glm::<span class="hljs-built_in">scale</span>(model, glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">1.0f</span>, <span class="hljs-number">2.0f</span>, <span class="hljs-number">1.0f</span>));  <span class="hljs-comment">// åªåœ¨Yè½´æ‹‰ä¼¸2å€</span><br><br></code></pre></td></tr></table></figure>
<h3 id="è§†å›¾å’ŒæŠ•å½±çŸ©é˜µ"><a href="#è§†å›¾å’ŒæŠ•å½±çŸ©é˜µ" class="headerlink" title="è§†å›¾å’ŒæŠ•å½±çŸ©é˜µ"></a><a class="markdownIt-Anchor" href="#è§†å›¾å’ŒæŠ•å½±çŸ©é˜µ"></a> ğŸ“ è§†å›¾å’ŒæŠ•å½±çŸ©é˜µ</h3>
<p>è§†å›¾çŸ©é˜µ (View Matrix) - â€œç›¸æœºâ€</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// æ–¹æ³•1ï¼šç›´æ¥å¹³ç§»ï¼ˆç›¸æœºåé€€ï¼‰</span><br>glm::mat4 view = glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>);<br>view = glm::<span class="hljs-built_in">translate</span>(view, glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">0.0f</span>, <span class="hljs-number">0.0f</span>, <span class="hljs-number">-3.0f</span>));  <span class="hljs-comment">// ç›¸æœºåœ¨Z=3</span><br><br><span class="hljs-comment">// æ–¹æ³•2ï¼šä½¿ç”¨lookAtï¼ˆæ›´ç›´è§‚ï¼‰</span><br>glm::mat4 view = glm::<span class="hljs-built_in">lookAt</span>(<br>    glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">0.0f</span>, <span class="hljs-number">0.0f</span>, <span class="hljs-number">3.0f</span>),   <span class="hljs-comment">// ç›¸æœºä½ç½®</span><br>    glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">0.0f</span>, <span class="hljs-number">0.0f</span>, <span class="hljs-number">0.0f</span>),   <span class="hljs-comment">// çœ‹å‘çš„ç›®æ ‡ç‚¹</span><br>    glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">0.0f</span>, <span class="hljs-number">1.0f</span>, <span class="hljs-number">0.0f</span>)    <span class="hljs-comment">// ç›¸æœºçš„&quot;ä¸Š&quot;æ–¹å‘</span><br>);<br><br></code></pre></td></tr></table></figure>
<p>æŠ•å½±çŸ©é˜µ (Projection Matrix)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// é€è§†æŠ•å½± (3Dæ•ˆæœï¼Œæœ‰è¿‘å¤§è¿œå°)</span><br>glm::mat4 projection = glm::<span class="hljs-built_in">perspective</span>(<br>    glm::<span class="hljs-built_in">radians</span>(<span class="hljs-number">45.0f</span>),            <span class="hljs-comment">// è§†é‡è§’åº¦(FOV) - å¸¸ç”¨45Â°</span><br>    (<span class="hljs-type">float</span>)width / (<span class="hljs-type">float</span>)height,   <span class="hljs-comment">// å®½é«˜æ¯”</span><br>    <span class="hljs-number">0.1f</span>,                           <span class="hljs-comment">// è¿‘å¹³é¢ - æœ€è¿‘èƒ½çœ‹åˆ°å“ªé‡Œ</span><br>    <span class="hljs-number">100.0f</span>                          <span class="hljs-comment">// è¿œå¹³é¢ - æœ€è¿œèƒ½çœ‹åˆ°å“ªé‡Œ</span><br>);<br><br><span class="hljs-comment">// æ­£äº¤æŠ•å½± (2D/UIï¼Œæ— è¿‘å¤§è¿œå°)</span><br>glm::mat4 ortho = glm::<span class="hljs-built_in">ortho</span>(<br>    <span class="hljs-number">-2.0f</span>, <span class="hljs-number">2.0f</span>,     <span class="hljs-comment">// å·¦/å³è¾¹ç•Œ</span><br>    <span class="hljs-number">-1.5f</span>, <span class="hljs-number">1.5f</span>,     <span class="hljs-comment">// ä¸‹/ä¸Šè¾¹ç•Œ</span><br>    <span class="hljs-number">0.1f</span>, <span class="hljs-number">100.0f</span>     <span class="hljs-comment">// è¿‘/è¿œå¹³é¢</span><br>);<br><br></code></pre></td></tr></table></figure>
<h3 id="çŸ©é˜µæ“ä½œå’Œç»„åˆ"><a href="#çŸ©é˜µæ“ä½œå’Œç»„åˆ" class="headerlink" title="çŸ©é˜µæ“ä½œå’Œç»„åˆ"></a><a class="markdownIt-Anchor" href="#çŸ©é˜µæ“ä½œå’Œç»„åˆ"></a> ğŸ§® çŸ©é˜µæ“ä½œå’Œç»„åˆ</h3>
<p>çŸ©é˜µä¹˜æ³•é¡ºåº</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// é‡è¦ï¼šçŸ©é˜µä¹˜æ³•é¡ºåºæ˜¯ä»å³å‘å·¦ï¼</span><br>glm::mat4 mvp = projection * view * model;<br><br><span class="hljs-comment">// ç­‰ä»·äºï¼š</span><br><span class="hljs-comment">// 1. å…ˆåº”ç”¨æ¨¡å‹å˜æ¢ï¼šmodel Ã— vertex</span><br><span class="hljs-comment">// 2. å†åº”ç”¨è§†å›¾å˜æ¢ï¼šview Ã— (model Ã— vertex)</span><br><span class="hljs-comment">// 3. æœ€åæŠ•å½±ï¼šprojection Ã— (view Ã— model Ã— vertex)</span><br><br></code></pre></td></tr></table></figure>
<p>å˜æ¢é¡ºåºå¾ˆé‡è¦ï¼</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// âŒ é”™è¯¯é¡ºåºï¼šå…ˆç§»åŠ¨åæ—‹è½¬</span><br>glm::mat4 wrong = glm::<span class="hljs-built_in">rotate</span>(glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>), angle, axis)<br>                * glm::<span class="hljs-built_in">translate</span>(glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>), position);<br><span class="hljs-comment">// ç‰©ä½“ä¼šç»•ä¸–ç•ŒåŸç‚¹æ—‹è½¬ï¼</span><br><br><span class="hljs-comment">// âœ… æ­£ç¡®é¡ºåºï¼šå…ˆæ—‹è½¬åç§»åŠ¨</span><br>glm::mat4 correct = glm::<span class="hljs-built_in">translate</span>(glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>), position)<br>                  * glm::<span class="hljs-built_in">rotate</span>(glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>), angle, axis);<br><span class="hljs-comment">// ç‰©ä½“ç»•è‡ªèº«ä¸­å¿ƒæ—‹è½¬ï¼Œç„¶åç§»åŠ¨</span><br><br></code></pre></td></tr></table></figure>
<h3 id="å‘é‡å’ŒçŸ©é˜µè¿ç®—"><a href="#å‘é‡å’ŒçŸ©é˜µè¿ç®—" class="headerlink" title="å‘é‡å’ŒçŸ©é˜µè¿ç®—"></a><a class="markdownIt-Anchor" href="#å‘é‡å’ŒçŸ©é˜µè¿ç®—"></a> ğŸ“Š å‘é‡å’ŒçŸ©é˜µè¿ç®—</h3>
<p>å‘é‡è¿ç®—</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">glm::vec3 <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">1.0f</span>, <span class="hljs-number">2.0f</span>, <span class="hljs-number">3.0f</span>)</span></span>;<br><span class="hljs-function">glm::vec3 <span class="hljs-title">b</span><span class="hljs-params">(<span class="hljs-number">4.0f</span>, <span class="hljs-number">5.0f</span>, <span class="hljs-number">6.0f</span>)</span></span>;<br><br><span class="hljs-comment">// åŸºæœ¬è¿ç®—</span><br>glm::vec3 c = a + b;      <span class="hljs-comment">// åŠ æ³• (5,7,9)</span><br>glm::vec3 d = a - b;      <span class="hljs-comment">// å‡æ³• (-3,-3,-3)</span><br>glm::vec3 e = a * <span class="hljs-number">2.0f</span>;   <span class="hljs-comment">// æ•°ä¹˜ (2,4,6)</span><br>glm::vec3 f = a / <span class="hljs-number">2.0f</span>;   <span class="hljs-comment">// æ•°é™¤ (0.5,1,1.5)</span><br><br><span class="hljs-comment">// ç‚¹ç§¯ï¼ˆç»“æœï¼šæ ‡é‡ï¼‰- ç”¨äºæ±‚è§’åº¦ã€æŠ•å½±</span><br><span class="hljs-type">float</span> dot = glm::<span class="hljs-built_in">dot</span>(a, b);  <span class="hljs-comment">// 1*4 + 2*5 + 3*6 = 32</span><br><br><span class="hljs-comment">// å‰ç§¯ï¼ˆç»“æœï¼šå‘é‡ï¼‰- ç”¨äºæ±‚æ³•çº¿ã€å‚ç›´å‘é‡</span><br>glm::vec3 cross = glm::<span class="hljs-built_in">cross</span>(a, b);  <span class="hljs-comment">// å‚ç›´äºaå’Œbçš„å‘é‡</span><br><br><span class="hljs-comment">// é•¿åº¦å’Œå½’ä¸€åŒ–</span><br><span class="hljs-type">float</span> length = glm::<span class="hljs-built_in">length</span>(a);        <span class="hljs-comment">// å‘é‡é•¿åº¦</span><br>glm::vec3 normalized = glm::<span class="hljs-built_in">normalize</span>(a); <span class="hljs-comment">// å•ä½å‘é‡ï¼ˆé•¿åº¦ä¸º1ï¼‰</span><br><br><span class="hljs-comment">// è·ç¦»</span><br><span class="hljs-type">float</span> distance = glm::<span class="hljs-built_in">distance</span>(a, b); <span class="hljs-comment">// aå’Œbä¹‹é—´çš„è·ç¦»</span><br><br></code></pre></td></tr></table></figure>
<p>çŸ©é˜µè¿ç®—</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp">glm::mat4 A = glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>);<br>glm::mat4 B = glm::<span class="hljs-built_in">translate</span>(glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>), glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>));<br><br><span class="hljs-comment">// çŸ©é˜µä¹˜æ³•</span><br>glm::mat4 C = A * B;  <span class="hljs-comment">// ç»„åˆå˜æ¢</span><br><br><span class="hljs-comment">// çŸ©é˜µæ±‚é€†</span><br>glm::mat4 inverse = glm::<span class="hljs-built_in">inverse</span>(A);  <span class="hljs-comment">// é€†çŸ©é˜µ</span><br><br><span class="hljs-comment">// çŸ©é˜µè½¬ç½®</span><br>glm::mat4 transpose = glm::<span class="hljs-built_in">transpose</span>(A);<br></code></pre></td></tr></table></figure>
<p>â€‹</p>
<h2 id="uniformå‡½æ•°å°è£…"><a href="#uniformå‡½æ•°å°è£…" class="headerlink" title="uniformå‡½æ•°å°è£…"></a><a class="markdownIt-Anchor" href="#uniformå‡½æ•°å°è£…"></a> uniformå‡½æ•°å°è£…</h2>
<h3 id="opengl-uniformåŸè£…å‡½æ•°åº“"><a href="#opengl-uniformåŸè£…å‡½æ•°åº“" class="headerlink" title="opengl-uniformåŸè£…å‡½æ•°åº“"></a><a class="markdownIt-Anchor" href="#opengl-uniformåŸè£…å‡½æ•°åº“"></a> ğŸ“¦ OpenGL UniformåŸè£…å‡½æ•°åº“</h3>
<p>æ ¸å¿ƒå¤´æ–‡ä»¶</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;glad/glad.h&gt;</span>  <span class="hljs-comment">// åŒ…å«æ‰€æœ‰glUniform*å‡½æ•°å£°æ˜</span></span><br></code></pre></td></tr></table></figure>
<p>æ‰€æœ‰glUniformå‡½æ•°ä¸€è§ˆè¡¨</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp">å‡½æ•° å‚æ•°æ ¼å¼ å¯¹åº”GLSLç±»å‹ ç”¨é€”<br>æ ‡é‡ç±»<br>glUniform1&#123;i/ui/f&#125; (loc, value) <span class="hljs-type">int</span>/uint/<span class="hljs-type">float</span> å•ä¸ªå€¼<br>glUniform2&#123;i/ui/f&#125; (loc, v0, v1) ivec2/uvec2/vec2 <span class="hljs-number">2</span>åˆ†é‡<br>glUniform3&#123;i/ui/f&#125; (loc, v0, v1, v2) ivec3/uvec3/vec3 <span class="hljs-number">3</span>åˆ†é‡<br>glUniform4&#123;i/ui/f&#125; (loc, v0, v1, v2, v3) ivec4/uvec4/vec4 <span class="hljs-number">4</span>åˆ†é‡<br>æ•°ç»„ç±»<br>glUniform1&#123;i/ui/f&#125;<span class="hljs-built_in">v</span> (loc, count, array) <span class="hljs-type">int</span>[]/<span class="hljs-type">float</span>[] æ ‡é‡æ•°ç»„<br>glUniform2&#123;i/ui/f&#125;<span class="hljs-built_in">v</span> (loc, count, array) vec2[] <span class="hljs-number">2</span>Då‘é‡æ•°ç»„<br>glUniform3&#123;i/ui/f&#125;<span class="hljs-built_in">v</span> (loc, count, array) vec3[] <span class="hljs-number">3</span>Då‘é‡æ•°ç»„<br>glUniform4&#123;i/ui/f&#125;<span class="hljs-built_in">v</span> (loc, count, array) vec4[] <span class="hljs-number">4</span>Då‘é‡æ•°ç»„<br>çŸ©é˜µç±»<br><span class="hljs-built_in">glUniformMatrix2fv</span> (loc, count, transpose, array) mat2 <span class="hljs-number">2</span>Ã—<span class="hljs-number">2</span>çŸ©é˜µ<br><span class="hljs-built_in">glUniformMatrix3fv</span> (loc, count, transpose, array) mat3 <span class="hljs-number">3</span>Ã—<span class="hljs-number">3</span>çŸ©é˜µ<br><span class="hljs-built_in">glUniformMatrix4fv</span> (loc, count, transpose, array) mat4 <span class="hljs-number">4</span>Ã—<span class="hljs-number">4</span>çŸ©é˜µ<br><span class="hljs-built_in">glUniformMatrix2x3fv</span> (loc, count, transpose, array) mat2x3 <span class="hljs-number">2</span>Ã—<span class="hljs-number">3</span>çŸ©é˜µ<br><span class="hljs-built_in">glUniformMatrix3x2fv</span> (loc, count, transpose, array) mat3x2 <span class="hljs-number">3</span>Ã—<span class="hljs-number">2</span>çŸ©é˜µ<br></code></pre></td></tr></table></figure>
<hr />
<h3 id="uniformåŸè£…å‡½æ•°è¯¦ç»†ç”¨æ³•"><a href="#uniformåŸè£…å‡½æ•°è¯¦ç»†ç”¨æ³•" class="headerlink" title="uniformåŸè£…å‡½æ•°è¯¦ç»†ç”¨æ³•"></a><a class="markdownIt-Anchor" href="#uniformåŸè£…å‡½æ•°è¯¦ç»†ç”¨æ³•"></a> ğŸ”§ UniformåŸè£…å‡½æ•°è¯¦ç»†ç”¨æ³•</h3>
<ol>
<li>è·å–Uniformä½ç½®ï¼ˆå¿…é¡»ç¬¬ä¸€æ­¥ï¼‰</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">GLint location = <span class="hljs-built_in">glGetUniformLocation</span>(GLuint program, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* name);<br><span class="hljs-comment">// è¿”å›å€¼ï¼š-1è¡¨ç¤ºæ²¡æ‰¾åˆ°ï¼Œâ‰¥0è¡¨ç¤ºä½ç½®ç´¢å¼•</span><br><span class="hljs-comment">// ä¾‹å¦‚ï¼šglGetUniformLocation(shaderProgram, &quot;model&quot;);</span><br></code></pre></td></tr></table></figure>
<ol>
<li>å¿…é¡»æ¿€æ´»ç€è‰²å™¨ç¨‹åº</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glUseProgram</span>(shaderProgram);  <span class="hljs-comment">// å¿…é¡»å…ˆè°ƒç”¨ï¼</span><br><span class="hljs-comment">// ä¹‹åæ‰èƒ½è®¾ç½®è¿™ä¸ªç¨‹åºçš„uniform</span><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>æ ‡é‡è®¾ç½®ç¤ºä¾‹</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// è®¾ç½®å•ä¸ªfloat</span><br><span class="hljs-built_in">glUniform1f</span>(location, <span class="hljs-number">3.14f</span>);<br><br><span class="hljs-comment">// è®¾ç½®å•ä¸ªint</span><br><span class="hljs-built_in">glUniform1i</span>(location, <span class="hljs-number">42</span>);<br><br><span class="hljs-comment">// è®¾ç½®vec3 (3ä¸ªfloat)</span><br><span class="hljs-built_in">glUniform3f</span>(location, <span class="hljs-number">1.0f</span>, <span class="hljs-number">0.0f</span>, <span class="hljs-number">0.0f</span>);  <span class="hljs-comment">// çº¢è‰²</span><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>å‘é‡æ•°ç»„è®¾ç½®</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// è®¾ç½®vec3æ•°ç»„</span><br>GLfloat colors[] = &#123;<br>    <span class="hljs-number">1.0f</span>, <span class="hljs-number">0.0f</span>, <span class="hljs-number">0.0f</span>,  <span class="hljs-comment">// çº¢è‰²</span><br>    <span class="hljs-number">0.0f</span>, <span class="hljs-number">1.0f</span>, <span class="hljs-number">0.0f</span>,  <span class="hljs-comment">// ç»¿è‰²</span><br>    <span class="hljs-number">0.0f</span>, <span class="hljs-number">0.0f</span>, <span class="hljs-number">1.0f</span>   <span class="hljs-comment">// è“è‰²</span><br>&#125;;<br><span class="hljs-built_in">glUniform3fv</span>(location, <span class="hljs-number">3</span>, colors);  <span class="hljs-comment">// 3ä¸ªvec3</span><br></code></pre></td></tr></table></figure>
<ol start="4">
<li>çŸ©é˜µè®¾ç½®ï¼ˆæœ€å¸¸ç”¨ï¼ï¼‰</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// è®¾ç½®4Ã—4çŸ©é˜µ</span><br>glm::mat4 model = glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>);<br><span class="hljs-built_in">glUniformMatrix4fv</span>(location,          <span class="hljs-comment">// uniformä½ç½®</span><br>                   <span class="hljs-number">1</span>,                 <span class="hljs-comment">// çŸ©é˜µæ•°é‡</span><br>                   GL_FALSE,          <span class="hljs-comment">// æ˜¯å¦è½¬ç½®ï¼ˆGLMæ˜¯åˆ—ä¸»åºï¼‰</span><br>                   glm::<span class="hljs-built_in">value_ptr</span>(model)); <span class="hljs-comment">// æ•°æ®æŒ‡é’ˆ</span><br></code></pre></td></tr></table></figure>
<ol start="5">
<li>å®Œæ•´æµç¨‹ç¤ºä¾‹</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// åŸè£…OpenGL uniformè®¾ç½®æµç¨‹</span><br>GLuint shaderProgram = ...;  <span class="hljs-comment">// å·²é“¾æ¥ç€è‰²å™¨ç¨‹åº</span><br><br><span class="hljs-comment">// 1. æ¿€æ´»ç¨‹åº</span><br><span class="hljs-built_in">glUseProgram</span>(shaderProgram);<br><br><span class="hljs-comment">// 2. è·å–æ‰€æœ‰uniformä½ç½®</span><br>GLint modelLoc = <span class="hljs-built_in">glGetUniformLocation</span>(shaderProgram, <span class="hljs-string">&quot;model&quot;</span>);<br>GLint viewLoc = <span class="hljs-built_in">glGetUniformLocation</span>(shaderProgram, <span class="hljs-string">&quot;view&quot;</span>);<br>GLint projLoc = <span class="hljs-built_in">glGetUniformLocation</span>(shaderProgram, <span class="hljs-string">&quot;projection&quot;</span>);<br>GLint colorLoc = <span class="hljs-built_in">glGetUniformLocation</span>(shaderProgram, <span class="hljs-string">&quot;color&quot;</span>);<br><br><span class="hljs-comment">// 3. è®¾ç½®uniformå€¼</span><br>glm::mat4 model = glm::<span class="hljs-built_in">translate</span>(glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>), glm::<span class="hljs-built_in">vec3</span>(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>));<br><span class="hljs-built_in">glUniformMatrix4fv</span>(modelLoc, <span class="hljs-number">1</span>, GL_FALSE, glm::<span class="hljs-built_in">value_ptr</span>(model));<br><br>glm::mat4 view = glm::<span class="hljs-built_in">lookAt</span>(...);<br><span class="hljs-built_in">glUniformMatrix4fv</span>(viewLoc, <span class="hljs-number">1</span>, GL_FALSE, glm::<span class="hljs-built_in">value_ptr</span>(view));<br><br>glm::mat4 projection = glm::<span class="hljs-built_in">perspective</span>(...);<br><span class="hljs-built_in">glUniformMatrix4fv</span>(projLoc, <span class="hljs-number">1</span>, GL_FALSE, glm::<span class="hljs-built_in">value_ptr</span>(projection));<br><br><span class="hljs-built_in">glUniform3f</span>(colorLoc, <span class="hljs-number">1.0f</span>, <span class="hljs-number">0.0f</span>, <span class="hljs-number">0.0f</span>);  <span class="hljs-comment">// çº¢è‰²</span><br></code></pre></td></tr></table></figure>
<hr />
<h2 id="stackåº“"><a href="#stackåº“" class="headerlink" title="stackåº“"></a><a class="markdownIt-Anchor" href="#stackåº“"></a> stackåº“</h2>
<h3 id="ä¸€-åŸºæœ¬æ¦‚å¿µ-3"><a href="#ä¸€-åŸºæœ¬æ¦‚å¿µ-3" class="headerlink" title="ä¸€-åŸºæœ¬æ¦‚å¿µ-3"></a><a class="markdownIt-Anchor" href="#ä¸€-åŸºæœ¬æ¦‚å¿µ-3"></a> ä¸€ã€åŸºæœ¬æ¦‚å¿µ</h3>
<p>ä»€ä¹ˆæ˜¯ stackï¼Ÿ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stack&gt;</span></span><br><span class="hljs-comment">// æ ˆï¼ˆStackï¼‰ï¼šåè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„æ•°æ®ç»“æ„</span><br><span class="hljs-comment">// æ¯”å–»ï¼šå ç›˜å­ - æœ€åæ”¾çš„ç›˜å­æœ€å…ˆæ‹¿èµ°</span><br><br></code></pre></td></tr></table></figure>
<p>åº•å±‚å®ç°</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// std::stack æ˜¯å®¹å™¨é€‚é…å™¨ï¼Œé»˜è®¤ç”¨ deque å®ç°</span><br><span class="hljs-keyword">template</span>&lt;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>,<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Container</span> = std::deque&lt;T&gt;  <span class="hljs-comment">// å¯ä»¥æ¢æˆ vector æˆ– list</span><br>&gt; <span class="hljs-keyword">class</span> stack;<br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="äºŒ-æ ¸å¿ƒå‡½æ•°3ä¸ªåŸºæœ¬æ“ä½œ"><a href="#äºŒ-æ ¸å¿ƒå‡½æ•°3ä¸ªåŸºæœ¬æ“ä½œ" class="headerlink" title="äºŒ-æ ¸å¿ƒå‡½æ•°3ä¸ªåŸºæœ¬æ“ä½œ"></a><a class="markdownIt-Anchor" href="#äºŒ-æ ¸å¿ƒå‡½æ•°3ä¸ªåŸºæœ¬æ“ä½œ"></a> äºŒã€æ ¸å¿ƒå‡½æ•°ï¼ˆ3ä¸ªåŸºæœ¬æ“ä½œï¼‰</h3>
<ol>
<li>push() - å‹æ ˆ/å…¥æ ˆ</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::stack&lt;<span class="hljs-type">int</span>&gt; s;<br><br>s.<span class="hljs-built_in">push</span>(<span class="hljs-number">10</span>);     <span class="hljs-comment">// æ ˆï¼š[10]</span><br>s.<span class="hljs-built_in">push</span>(<span class="hljs-number">20</span>);     <span class="hljs-comment">// æ ˆï¼š[10, 20]</span><br>s.<span class="hljs-built_in">push</span>(<span class="hljs-number">30</span>);     <span class="hljs-comment">// æ ˆï¼š[10, 20, 30]</span><br><span class="hljs-comment">// æ—¶é—´å¤æ‚åº¦ï¼šO(1)</span><br><br></code></pre></td></tr></table></figure>
<ol>
<li>top() - æŸ¥çœ‹æ ˆé¡¶</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> value = s.<span class="hljs-built_in">top</span>();  <span class="hljs-comment">// è¿”å›30ï¼Œä½†ä¸ç§»é™¤</span><br><span class="hljs-comment">// æ ˆä»ä¸ºï¼š[10, 20, 30]</span><br><span class="hljs-comment">// é‡è¦ï¼šå¦‚æœæ ˆä¸ºç©ºï¼Œè°ƒç”¨ top() æ˜¯æœªå®šä¹‰è¡Œä¸ºï¼</span><br><br></code></pre></td></tr></table></figure>
<ol>
<li>pop() - å¼¹æ ˆ/å‡ºæ ˆ</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp">s.<span class="hljs-built_in">pop</span>();  <span class="hljs-comment">// ç§»é™¤30</span><br><span class="hljs-comment">// æ ˆå˜ä¸ºï¼š[10, 20]</span><br><span class="hljs-comment">// æ³¨æ„ï¼špop() ä¸è¿”å›å…ƒç´ ï¼åªç§»é™¤ï¼</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="ä¸‰-è¾…åŠ©å‡½æ•°"><a href="#ä¸‰-è¾…åŠ©å‡½æ•°" class="headerlink" title="ä¸‰-è¾…åŠ©å‡½æ•°"></a><a class="markdownIt-Anchor" href="#ä¸‰-è¾…åŠ©å‡½æ•°"></a> ä¸‰ã€è¾…åŠ©å‡½æ•°</h3>
<ol>
<li>empty() - åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">while</span> (!s.<span class="hljs-built_in">empty</span>()) &#123;  <span class="hljs-comment">// æ ˆä¸ä¸ºç©ºæ—¶å¾ªç¯</span><br>    s.<span class="hljs-built_in">pop</span>();<br>&#125;<br><span class="hljs-comment">// å®‰å…¨æ¸…ç©ºæ ˆçš„æ–¹æ³•</span><br><br></code></pre></td></tr></table></figure>
<ol>
<li>size() - è·å–æ ˆä¸­å…ƒç´ æ•°é‡</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::cout &lt;&lt; <span class="hljs-string">&quot;æ ˆå¤§å°: &quot;</span> &lt;&lt; s.<span class="hljs-built_in">size</span>() &lt;&lt; std::endl;<br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="å››-å¸¸è§é”™è¯¯ç”¨æ³•"><a href="#å››-å¸¸è§é”™è¯¯ç”¨æ³•" class="headerlink" title="å››-å¸¸è§é”™è¯¯ç”¨æ³•"></a><a class="markdownIt-Anchor" href="#å››-å¸¸è§é”™è¯¯ç”¨æ³•"></a> å››ã€å¸¸è§é”™è¯¯ç”¨æ³•</h3>
<p>é”™è¯¯1ï¼špop() è·å–å€¼</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// âŒ é”™è¯¯ï¼</span><br><span class="hljs-type">int</span> x = s.<span class="hljs-built_in">pop</span>();  <span class="hljs-comment">// ç¼–è¯‘é”™è¯¯ï¼pop() ä¸è¿”å›å€¼</span><br><br><span class="hljs-comment">// âœ… æ­£ç¡®åšæ³•ï¼š</span><br><span class="hljs-type">int</span> x = s.<span class="hljs-built_in">top</span>();  <span class="hljs-comment">// å…ˆè·å–</span><br>s.<span class="hljs-built_in">pop</span>();          <span class="hljs-comment">// å†ç§»é™¤</span><br><br></code></pre></td></tr></table></figure>
<p>é”™è¯¯2ï¼šç©ºæ ˆæ—¶è°ƒç”¨ top()</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::stack&lt;<span class="hljs-type">int</span>&gt; emptyStack;<br><br><span class="hljs-comment">// âŒ å±é™©ï¼</span><br><span class="hljs-type">int</span> x = emptyStack.<span class="hljs-built_in">top</span>();  <span class="hljs-comment">// æœªå®šä¹‰è¡Œä¸ºï¼</span><br><br><span class="hljs-comment">// âœ… å®‰å…¨åšæ³•ï¼š</span><br><span class="hljs-keyword">if</span> (!emptyStack.<span class="hljs-built_in">empty</span>()) &#123;<br>    <span class="hljs-type">int</span> x = emptyStack.<span class="hljs-built_in">top</span>();<br>&#125;<br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="äº”-åœ¨å›¾å½¢å­¦ä¸­çš„å®é™…åº”ç”¨"><a href="#äº”-åœ¨å›¾å½¢å­¦ä¸­çš„å®é™…åº”ç”¨" class="headerlink" title="äº”-åœ¨å›¾å½¢å­¦ä¸­çš„å®é™…åº”ç”¨"></a><a class="markdownIt-Anchor" href="#äº”-åœ¨å›¾å½¢å­¦ä¸­çš„å®é™…åº”ç”¨"></a> äº”ã€åœ¨å›¾å½¢å­¦ä¸­çš„å®é™…åº”ç”¨</h3>
<ol>
<li>çŸ©é˜µå †æ ˆï¼ˆç»å…¸åº”ç”¨ï¼‰</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::stack&lt;glm::mat4&gt; matrixStack;<br><br><span class="hljs-comment">// ä¿å­˜å½“å‰å˜æ¢çŠ¶æ€</span><br>matrixStack.<span class="hljs-built_in">push</span>(currentMatrix);<br><br><span class="hljs-comment">// åº”ç”¨å±€éƒ¨å˜æ¢</span><br>currentMatrix = glm::<span class="hljs-built_in">translate</span>(currentMatrix, position);<br><br><span class="hljs-comment">// æ¸²æŸ“ç‰©ä½“...</span><br><br><span class="hljs-comment">// æ¢å¤ä¹‹å‰çŠ¶æ€</span><br>currentMatrix = matrixStack.<span class="hljs-built_in">top</span>();<br>matrixStack.<span class="hljs-built_in">pop</span>();<br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>å¤ªé˜³ç³»å±‚çº§å˜æ¢ç¤ºä¾‹</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// æ¨¡æ‹Ÿ OpenGL çš„çŸ©é˜µå †æ ˆ</span><br>std::stack&lt;glm::mat4&gt; mvStack;<br>mvStack.<span class="hljs-built_in">push</span>(glm::<span class="hljs-built_in">mat4</span>(<span class="hljs-number">1.0f</span>));  <span class="hljs-comment">// å•ä½çŸ©é˜µ</span><br><br><span class="hljs-comment">// å¤ªé˜³</span><br>glm::mat4 sunModel = mvStack.<span class="hljs-built_in">top</span>();<br><br><span class="hljs-comment">// è¡Œæ˜Ÿï¼ˆç»§æ‰¿å¤ªé˜³çš„åæ ‡ç³»ï¼‰</span><br>mvStack.<span class="hljs-built_in">push</span>(mvStack.<span class="hljs-built_in">top</span>());  <span class="hljs-comment">// ä¿å­˜çŠ¶æ€</span><br>glm::mat4 planetModel = mvStack.<span class="hljs-built_in">top</span>();<br>planetModel = glm::<span class="hljs-built_in">translate</span>(planetModel, planetPosition);<br><br><span class="hljs-comment">// æœˆçƒï¼ˆç»§æ‰¿è¡Œæ˜Ÿä½ç½®ï¼‰</span><br>mvStack.<span class="hljs-built_in">push</span>(planetModel);  <span class="hljs-comment">// ä¿å­˜è¡Œæ˜Ÿä½ç½®</span><br><span class="hljs-comment">// ...æœˆçƒå˜æ¢...</span><br>mvStack.<span class="hljs-built_in">pop</span>();  <span class="hljs-comment">// å›åˆ°è¡Œæ˜Ÿä½ç½®</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="å…­-åº•å±‚å®¹å™¨æ›´æ¢"><a href="#å…­-åº•å±‚å®¹å™¨æ›´æ¢" class="headerlink" title="å…­-åº•å±‚å®¹å™¨æ›´æ¢"></a><a class="markdownIt-Anchor" href="#å…­-åº•å±‚å®¹å™¨æ›´æ¢"></a> å…­ã€åº•å±‚å®¹å™¨æ›´æ¢</h3>
<p>ä½¿ç”¨ä¸åŒåº•å±‚å®¹å™¨</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// é»˜è®¤ï¼šdequeï¼ˆå¹³è¡¡æ€§èƒ½ï¼‰</span><br>std::stack&lt;<span class="hljs-type">int</span>&gt; s1;<br><br><span class="hljs-comment">// ä½¿ç”¨ vectorï¼ˆè¿ç»­å†…å­˜ï¼‰</span><br>std::stack&lt;<span class="hljs-type">int</span>, std::vector&lt;<span class="hljs-type">int</span>&gt;&gt; s2;<br><br><span class="hljs-comment">// ä½¿ç”¨ listï¼ˆå¿«é€Ÿæ’å…¥åˆ é™¤ï¼‰</span><br>std::stack&lt;<span class="hljs-type">int</span>, std::list&lt;<span class="hljs-type">int</span>&gt;&gt; s3;<br><br><span class="hljs-comment">// æ‰€æœ‰æ¥å£å®Œå…¨ç›¸åŒï¼</span><br><br></code></pre></td></tr></table></figure>
<p>æ€§èƒ½å¯¹æ¯”</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// push()/pop() æ€§èƒ½ï¼š</span><br>deque:  å¹³å‡ <span class="hljs-built_in">O</span>(<span class="hljs-number">1</span>)ï¼Œé€‚åˆé€šç”¨åœºæ™¯<br>vector: å¹³å‡ <span class="hljs-built_in">O</span>(<span class="hljs-number">1</span>)ï¼Œä½†æ‰©å®¹æ—¶ <span class="hljs-built_in">O</span>(n)<br>list:   æ€»æ˜¯ <span class="hljs-built_in">O</span>(<span class="hljs-number">1</span>)ï¼Œä½†å†…å­˜å¼€é”€å¤§<br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="ä¸ƒ-æ ˆ-vs-å†…å­˜æ ˆçš„åŒºåˆ«"><a href="#ä¸ƒ-æ ˆ-vs-å†…å­˜æ ˆçš„åŒºåˆ«" class="headerlink" title="ä¸ƒ-æ ˆ-vs-å†…å­˜æ ˆçš„åŒºåˆ«"></a><a class="markdownIt-Anchor" href="#ä¸ƒ-æ ˆ-vs-å†…å­˜æ ˆçš„åŒºåˆ«"></a> ä¸ƒã€æ ˆ vs å†…å­˜æ ˆçš„åŒºåˆ«</h3>
<p>é‡è¦åŒºåˆ†</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// std::stackï¼ˆæ•°æ®ç»“æ„ï¼‰            å†…å­˜æ ˆï¼ˆç³»ç»Ÿæ ˆï¼‰</span><br><span class="hljs-comment">// -----------------------------   --------------------</span><br><span class="hljs-comment">// åœ¨å †ä¸Šç®¡ç†æ•°æ®                   å­˜å‚¨å±€éƒ¨å˜é‡ã€è¿”å›åœ°å€</span><br><span class="hljs-comment">// å¤§å°åªå—ç³»ç»Ÿå†…å­˜é™åˆ¶              å›ºå®šå¤§å°ï¼ˆé€šå¸¸1-8MBï¼‰</span><br><span class="hljs-comment">// æ‰‹åŠ¨ push/pop ç®¡ç†               è‡ªåŠ¨åˆ†é…/é‡Šæ”¾</span><br><span class="hljs-comment">// å¯ä»¥å­˜ä»»æ„å¯¹è±¡                   åªèƒ½å­˜åŸºæœ¬ç±»å‹å’ŒæŒ‡é’ˆ</span><br><br></code></pre></td></tr></table></figure>
<p>éªŒè¯ç¤ºä¾‹</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// std::stack å¯¹è±¡æœ¬èº«åœ¨æ ˆå†…å­˜ä¸Šï¼ˆå¾ˆå°ï¼‰</span><br>    std::stack&lt;<span class="hljs-type">int</span>&gt; s;<br><br>    <span class="hljs-comment">// ä½†å®ƒçš„æ•°æ®åœ¨å †ä¸Šï¼Œå¯ä»¥å¾ˆå¤§</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; i++) &#123;<br>        s.<span class="hljs-built_in">push</span>(i);  <span class="hljs-comment">// 100ä¸‡æ•°æ®ï¼Œä¸ä¼šæ ˆæº¢å‡ºï¼</span><br>    &#125;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;æ ˆå¤§å°: &quot;</span> &lt;&lt; s.<span class="hljs-built_in">size</span>() &lt;&lt; std::endl;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<hr />
<h2 id="çº¹ç†-æ³•çº¿-æè´¨-å…‰æº"><a href="#çº¹ç†-æ³•çº¿-æè´¨-å…‰æº" class="headerlink" title="çº¹ç†-æ³•çº¿-æè´¨-å…‰æº"></a><a class="markdownIt-Anchor" href="#çº¹ç†-æ³•çº¿-æè´¨-å…‰æº"></a> çº¹ç†ã€æ³•çº¿ã€æè´¨ã€å…‰æº</h2>
<h3 id="ä¸€-çº¹ç†texture"><a href="#ä¸€-çº¹ç†texture" class="headerlink" title="ä¸€-çº¹ç†texture"></a><a class="markdownIt-Anchor" href="#ä¸€-çº¹ç†texture"></a> ä¸€ã€çº¹ç†ï¼ˆTextureï¼‰</h3>
<p>1.1 ä»€ä¹ˆæ˜¯çº¹ç†ï¼Ÿ</p>
<p>çº¹ç† = è´´å›¾ = è¦†ç›–åœ¨3Dæ¨¡å‹è¡¨é¢çš„å›¾ç‰‡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">æ¨¡å‹æ˜¯éª¨æ¶ï¼Œçº¹ç†æ˜¯çš®è‚¤<br>çƒä½“æ˜¯åœ°çƒä»ªï¼Œçº¹ç†æ˜¯ä¸–ç•Œåœ°å›¾<br><br></code></pre></td></tr></table></figure>
<p>1.2 çº¹ç†åæ ‡ï¼ˆUVï¼‰</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// æ¯ä¸ªé¡¶ç‚¹å¯¹åº”å›¾ç‰‡ä¸Šçš„ä¸€ä¸ªç‚¹</span><br>u = (<span class="hljs-type">float</span>)j / sectorCount;  <span class="hljs-comment">// æ¨ªå‘ï¼š0 â†’ 1ï¼ˆå·¦åˆ°å³ï¼‰</span><br>v = (<span class="hljs-type">float</span>)i / stackCount;   <span class="hljs-comment">// çºµå‘ï¼š0 â†’ 1ï¼ˆä¸Šåˆ°ä¸‹ï¼‰</span><br><br><span class="hljs-comment">// é¡¶ç‚¹æ•°æ®å¸ƒå±€ï¼ˆ8ä¸ªfloatï¼‰</span><br>[xyz][nx ny nz][u v]<br>ä½ç½®   æ³•çº¿    çº¹ç†åæ ‡<br><br></code></pre></td></tr></table></figure>
<p>1.3 çº¹ç†åŠ è½½ï¼ˆstb_imageï¼‰</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">define</span> STB_IMAGE_IMPLEMENTATION</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stb_image.h&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> <span class="hljs-title">loadTexture</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* path)</span> </span>&#123;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> textureID;<br>    <span class="hljs-built_in">glGenTextures</span>(<span class="hljs-number">1</span>, &amp;textureID);<br><br>    <span class="hljs-comment">// ç¿»è½¬Yè½´ï¼ˆOpenGLåŸç‚¹åœ¨å·¦ä¸‹ï¼Œå›¾ç‰‡åŸç‚¹åœ¨å·¦ä¸Šï¼‰</span><br>    <span class="hljs-built_in">stbi_set_flip_vertically_on_load</span>(<span class="hljs-literal">true</span>);<br><br>    <span class="hljs-comment">// åŠ è½½å›¾ç‰‡</span><br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>* data = <span class="hljs-built_in">stbi_load</span>(path, &amp;width, &amp;height, &amp;nrChannels, <span class="hljs-number">0</span>);<br><br>    <span class="hljs-comment">// è®¾ç½®çº¹ç†å‚æ•°</span><br>    <span class="hljs-built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);  <span class="hljs-comment">// Uæ–¹å‘é‡å¤</span><br>    <span class="hljs-built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);  <span class="hljs-comment">// Væ–¹å‘é‡å¤</span><br>    <span class="hljs-built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);  <span class="hljs-comment">// ç¼©å°</span><br>    <span class="hljs-built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);  <span class="hljs-comment">// æ”¾å¤§</span><br><br>    <span class="hljs-keyword">return</span> textureID;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>1.4 çº¹ç†è¦æ±‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">âœ… å°ºå¯¸æ˜¯2çš„å¹‚ï¼š512ã€1024ã€2048ã€4096<br>âœ… RGBæ¨¡å¼ï¼ˆä¸æ˜¯CMYKï¼‰<br>âœ… æ ¼å¼ï¼šJPGï¼ˆæ— é€æ˜ï¼‰ã€PNGï¼ˆæœ‰é€æ˜ï¼‰<br>âŒ å°ºå¯¸ä¸æ˜¯2çš„å¹‚ï¼ˆå¦‚1920Ã—1080ï¼‰<br>âŒ CMYKæ¨¡å¼çš„JPG<br><br></code></pre></td></tr></table></figure>
<p>1.5 ç€è‰²å™¨ä¸­ä½¿ç”¨</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-comment">// é¡¶ç‚¹ç€è‰²å™¨</span><br><span class="hljs-keyword">layout</span> (<span class="hljs-keyword">location</span> = <span class="hljs-number">2</span>) <span class="hljs-keyword">in</span> <span class="hljs-type">vec2</span> aTexCoord;<br><span class="hljs-keyword">out</span> <span class="hljs-type">vec2</span> TexCoord;<br>TexCoord = aTexCoord;<br><br><span class="hljs-comment">// ç‰‡å…ƒç€è‰²å™¨</span><br><span class="hljs-keyword">uniform</span> <span class="hljs-type">sampler2D</span> ourTexture;<br><span class="hljs-type">vec3</span> color = <span class="hljs-built_in">texture</span>(ourTexture, TexCoord).rgb;<br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="äºŒ-æ³•çº¿normal"><a href="#äºŒ-æ³•çº¿normal" class="headerlink" title="äºŒ-æ³•çº¿normal"></a><a class="markdownIt-Anchor" href="#äºŒ-æ³•çº¿normal"></a> äºŒã€æ³•çº¿ï¼ˆNormalï¼‰</h3>
<p>2.1 ä»€ä¹ˆæ˜¯æ³•çº¿ï¼Ÿ</p>
<p>æ³•çº¿ = å‚ç›´äºè¡¨é¢çš„æ–¹å‘å‘é‡ = é¢æœå“ªè¾¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">        â†‘ æ³•çº¿<br>        â”‚<br>        â”‚<br>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” è¡¨é¢<br><br></code></pre></td></tr></table></figure>
<p>2.2 çƒä½“çš„æ³•çº¿</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// çƒä½“çš„æ³•çº¿ = ä»çƒå¿ƒæŒ‡å‘é¡¶ç‚¹</span><br>lengthInv = <span class="hljs-number">1.0f</span> / radius;<br>nx = x * lengthInv;<br>ny = y * lengthInv;<br>nz = z * lengthInv;<br><br><span class="hljs-comment">// é¡¶ç‚¹æ•°æ®ï¼šä½ç½®åé¢ç´§è·Ÿç€æ³•çº¿</span><br>[xyz][nx ny nz][u v]<br>ä½ç½®   æ³•çº¿    çº¹ç†<br><br></code></pre></td></tr></table></figure>
<p>2.3 æ³•çº¿çš„ç”¨é€”</p>
<ol>
<li>å…‰ç…§è®¡ç®—ï¼ˆæ ¸å¿ƒï¼ï¼‰</li>
</ol>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-type">vec3</span> norm = <span class="hljs-built_in">normalize</span>(Normal);<br><span class="hljs-type">vec3</span> lightDir = <span class="hljs-built_in">normalize</span>(lightPos - FragPos);<br><span class="hljs-type">float</span> diff = <span class="hljs-built_in">max</span>(<span class="hljs-built_in">dot</span>(norm, lightDir), <span class="hljs-number">0.0</span>);  <span class="hljs-comment">// ä½™å¼¦å€¼</span><br><br></code></pre></td></tr></table></figure>
<ol start="2">
<li>èƒŒé¢å‰”é™¤</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">glEnable</span>(GL_CULL_FACE);<br><span class="hljs-built_in">glCullFace</span>(GL_BACK);  <span class="hljs-comment">// ä¸æ¸²æŸ“çƒä½“å†…è¡¨é¢</span><br><br></code></pre></td></tr></table></figure>
<ol start="3">
<li>ç¯å¢ƒé®è”½ã€åå°„ç­‰é«˜çº§æ•ˆæœ</li>
<li>æ³•çº¿å˜æ¢ï¼ˆé‡è¦ï¼ï¼‰</li>
</ol>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-comment">// æ¨¡å‹æœ‰æ—‹è½¬ç¼©æ”¾æ—¶ï¼Œæ³•çº¿ä¸èƒ½ç›´æ¥ä¹˜modelçŸ©é˜µ</span><br>Normal = <span class="hljs-type">mat3</span>(<span class="hljs-built_in">transpose</span>(<span class="hljs-built_in">inverse</span>(model))) * aNormal;<br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="ä¸‰-æè´¨material"><a href="#ä¸‰-æè´¨material" class="headerlink" title="ä¸‰-æè´¨material"></a><a class="markdownIt-Anchor" href="#ä¸‰-æè´¨material"></a> ä¸‰ã€æè´¨ï¼ˆMaterialï¼‰</h3>
<p>3.1 ä»€ä¹ˆæ˜¯æè´¨ï¼Ÿ</p>
<p>æè´¨ = ç‰©ä½“è¡¨é¢å¦‚ä½•ä¸å…‰äº¤äº’çš„è§„åˆ™</p>
<p>3.2 Phongå…‰ç…§æ¨¡å‹çš„æè´¨å±æ€§</p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-comment">// æè´¨ç»“æ„ä½“</span><br>struct Material &#123;<br>    <span class="hljs-type">vec3</span> ambient;   <span class="hljs-comment">// ç¯å¢ƒå…‰åå°„ç³»æ•°</span><br>    <span class="hljs-type">vec3</span> diffuse;   <span class="hljs-comment">// æ¼«åå°„åå°„ç³»æ•°</span><br>    <span class="hljs-type">vec3</span> specular;  <span class="hljs-comment">// é•œé¢åå°„åå°„ç³»æ•°</span><br>    <span class="hljs-type">float</span> shininess; <span class="hljs-comment">// åå…‰åº¦ï¼ˆè¶Šå¤§é«˜å…‰è¶Šé›†ä¸­ï¼‰</span><br>&#125;;<br><br><span class="hljs-comment">// å…‰æºç»“æ„ä½“</span><br>struct Light &#123;<br>    <span class="hljs-type">vec3</span> position;  <span class="hljs-comment">// å…‰æºä½ç½®</span><br>    <span class="hljs-type">vec3</span> ambient;   <span class="hljs-comment">// ç¯å¢ƒå…‰å¼ºåº¦</span><br>    <span class="hljs-type">vec3</span> diffuse;   <span class="hljs-comment">// æ¼«åå°„å¼ºåº¦</span><br>    <span class="hljs-type">vec3</span> specular;  <span class="hljs-comment">// é•œé¢åå°„å¼ºåº¦</span><br>&#125;;<br><br></code></pre></td></tr></table></figure>
<p>3.3 æè´¨ = çº¹ç† + å…‰ç…§å‚æ•°</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// çº¹ç†å†³å®šæ¼«åå°„é¢œè‰²</span><br>vec3 diffuseColor = <span class="hljs-built_in">texture</span>(ourTexture, TexCoord).rgb;<br><br><span class="hljs-comment">// æè´¨å‚æ•°æ§åˆ¶å…‰ç…§å“åº”</span><br><span class="hljs-type">float</span> ambientStrength = <span class="hljs-number">0.1</span>;   <span class="hljs-comment">// ç¯å¢ƒå…‰ç³»æ•°</span><br><span class="hljs-type">float</span> specularStrength = <span class="hljs-number">0.5</span>;  <span class="hljs-comment">// é•œé¢åå°„ç³»æ•°</span><br><span class="hljs-type">float</span> shininess = <span class="hljs-number">32.0</span>;        <span class="hljs-comment">// åå…‰åº¦</span><br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="å››-å…‰æºlight"><a href="#å››-å…‰æºlight" class="headerlink" title="å››-å…‰æºlight"></a><a class="markdownIt-Anchor" href="#å››-å…‰æºlight"></a> å››ã€å…‰æºï¼ˆLightï¼‰</h3>
<p>4.1 ä¸‰ç§å…‰æºç±»å‹</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// 1. å¹³è¡Œå…‰ï¼ˆå¤ªé˜³ï¼‰</span><br>vec3 lightDir = <span class="hljs-built_in">normalize</span>(-lightDirection);  <span class="hljs-comment">// æ–¹å‘å›ºå®š</span><br><br><span class="hljs-comment">// 2. ç‚¹å…‰æºï¼ˆç¯æ³¡ï¼‰</span><br>vec3 lightDir = <span class="hljs-built_in">normalize</span>(lightPos - FragPos);  <span class="hljs-comment">// æœ‰ä½ç½®ï¼Œå‘å››å‘¨</span><br><br><span class="hljs-comment">// 3. èšå…‰ç¯ï¼ˆæ‰‹ç”µç­’ï¼‰</span><br><span class="hljs-type">float</span> theta = <span class="hljs-built_in">dot</span>(lightDir, <span class="hljs-built_in">normalize</span>(lightDirection));<br><span class="hljs-keyword">if</span>(theta &gt; cutoffAngle) &#123; <span class="hljs-comment">/* ç…§äº® */</span> &#125;<br><br></code></pre></td></tr></table></figure>
<p>4.2 Phongå…‰ç…§ä¸‰è¦ç´ </p>
<figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-comment">// 1. ç¯å¢ƒå…‰ï¼ˆAmbientï¼‰</span><br><span class="hljs-comment">// æ°¸ä¸é»‘æš—ï¼Œæ¨¡æ‹Ÿå…¨å±€å…‰ç…§åå¼¹</span><br><span class="hljs-type">float</span> ambientStrength = <span class="hljs-number">0.1</span>;<br><span class="hljs-type">vec3</span> ambient = ambientStrength * lightColor;<br><br><span class="hljs-comment">// 2. æ¼«åå°„ï¼ˆDiffuseï¼‰</span><br><span class="hljs-comment">// ç²—ç³™è¡¨é¢ï¼Œå„å‘åŒæ€§</span><br><span class="hljs-type">vec3</span> norm = <span class="hljs-built_in">normalize</span>(Normal);<br><span class="hljs-type">vec3</span> lightDir = <span class="hljs-built_in">normalize</span>(lightPos - FragPos);<br><span class="hljs-type">float</span> diff = <span class="hljs-built_in">max</span>(<span class="hljs-built_in">dot</span>(norm, lightDir), <span class="hljs-number">0.0</span>);<br><span class="hljs-type">vec3</span> diffuse = diff * lightColor;<br><br><span class="hljs-comment">// 3. é•œé¢åå°„ï¼ˆSpecularï¼‰</span><br><span class="hljs-comment">// å…‰æ»‘è¡¨é¢ï¼Œé«˜å…‰</span><br><span class="hljs-type">vec3</span> viewDir = <span class="hljs-built_in">normalize</span>(viewPos - FragPos);<br><span class="hljs-type">vec3</span> reflectDir = <span class="hljs-built_in">reflect</span>(-lightDir, norm);<br><span class="hljs-type">float</span> spec = <span class="hljs-built_in">pow</span>(<span class="hljs-built_in">max</span>(<span class="hljs-built_in">dot</span>(viewDir, reflectDir), <span class="hljs-number">0.0</span>), <span class="hljs-number">32</span>);<br><span class="hljs-type">vec3</span> specular = specularStrength * spec * lightColor;<br><br><span class="hljs-comment">// æœ€ç»ˆé¢œè‰²</span><br><span class="hljs-type">vec3</span> result = (ambient + diffuse + specular) * objectColor;<br><br></code></pre></td></tr></table></figure>
<p>4.3 å…‰æºä½ç½®è®¾ç½®</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// å›ºå®šå…‰æºï¼ˆå¤ªé˜³ï¼‰</span><br><span class="hljs-built_in">glUniform3f</span>(lightPosLoc, <span class="hljs-number">2.0f</span>, <span class="hljs-number">2.0f</span>, <span class="hljs-number">2.0f</span>);<br><br><span class="hljs-comment">// ç§»åŠ¨å…‰æºï¼ˆæ‰‹ç”µç­’ï¼‰</span><br><span class="hljs-built_in">glUniform3f</span>(lightPosLoc, <span class="hljs-built_in">sin</span>(time) * <span class="hljs-number">3.0f</span>, <span class="hljs-number">2.0f</span>, <span class="hljs-built_in">cos</span>(time) * <span class="hljs-number">3.0f</span>);<br><br><span class="hljs-comment">// å…‰æºè·Ÿéšæ‘„åƒæœºï¼ˆå¤´ç¯ï¼‰</span><br><span class="hljs-built_in">glUniform3f</span>(lightPosLoc, camX, camY, camZ);<br><br></code></pre></td></tr></table></figure>
<hr />
<h3 id="äº”-å®Œæ•´æ¸²æŸ“æ–¹ç¨‹"><a href="#äº”-å®Œæ•´æ¸²æŸ“æ–¹ç¨‹" class="headerlink" title="äº”-å®Œæ•´æ¸²æŸ“æ–¹ç¨‹"></a><a class="markdownIt-Anchor" href="#äº”-å®Œæ•´æ¸²æŸ“æ–¹ç¨‹"></a> äº”ã€å®Œæ•´æ¸²æŸ“æ–¹ç¨‹</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// Phongå…‰ç…§æ¨¡å‹</span><br>FinalColor = (<br>    ambient +                    <span class="hljs-comment">// ç¯å¢ƒå…‰ï¼ˆå¸¸æ•°ï¼‰</span><br>    diffuse * <span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, NÂ·L) +     <span class="hljs-comment">// æ¼«åå°„ï¼ˆä½™å¼¦å®šå¾‹ï¼‰</span><br>    specular * <span class="hljs-built_in">pow</span>(<span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, RÂ·V), shininess)  <span class="hljs-comment">// é•œé¢åå°„ï¼ˆPhongï¼‰</span><br>) * objectColor;<br><br><span class="hljs-comment">// N: æ³•çº¿</span><br><span class="hljs-comment">// L: å…‰æºæ–¹å‘</span><br><span class="hljs-comment">// R: åå°„æ–¹å‘</span><br><span class="hljs-comment">// V: è§†çº¿æ–¹å‘</span><br></code></pre></td></tr></table></figure><div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2026/02/27/Rust/">â† Next Rust</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2026/02/27/C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">C++å­¦ä¹ ç¬”è®° Prev â†’</a></div></div></div><details id="reward"><summary>reward</summary><div><span>å¾®ä¿¡ | Wechat</span><br><img src="/images/WeChat.png"></div><div><span>æ”¯ä»˜å® | Alipay</span><br><img src="/images/Alipay.png"></div></details><div id="comments"><div id="giscus"></div></div></div><div class="bottom-btn"><div><a class="i-top" id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">âˆ§ </a><a class="i-index" id="to-index" onClick="tocControl.change()" title="To Catalog"><span class="tocBtnIconBar"></span><span class="tocBtnIconBar"></span><span class="tocBtnIconBar"></span></a><a class="i-color" id="color-mode" onClick="colorMode.change()" title="Change Theme"></a><a onclick="BgmControl()"><svg id="bgm-control" viewBox="0 0 30 34" fill="#18d1ff" style="width: 24px; transition: transform .3s;margin-top: 4px"><path d="M25.998 23.422V11.29h3.999v12.132h-3.999zM19.497 6.234h4.001v22.243h-4.001V6.234zM12.998.867h4v32.978h-4V.867zm-6.5 5.367h4.001v22.243H6.498V6.234zm-6.5 5.056h4v12.132h-4V11.29z"></path></svg><audio id="bgm" src="/audio/bgm.mp3" autoplay loop crossorigin="anonymous"> </audio></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="/images/1.jpg" alt="Logo" style="margin:0;border-radius:0;"></a><h1 id="Dr"><a href="/">Lnk</a></h1><div id="description"><p></p></div><div id="social-links"><a class="social" target="_blank" rel="noopener" href="https://github.com/Lnkqwq"><i class="fab fa-github" alt="GitHub"></i></a><a class="social" href="3403583728@qq.com"><i class="fa fa-envelope" alt="E-Mail"></i></a></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#opengl"><span class="toc-number">1.</span> <span class="toc-text"> openGL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#glfw%E7%AA%97%E5%8F%A3%E7%AE%A1%E7%90%86"><span class="toc-number">1.1.</span> <span class="toc-text"> GLFWçª—å£ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%B8%8F-glfw-%E7%AA%97%E5%8F%A3%E7%AE%A1%E7%90%86%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.1.</span> <span class="toc-text"> ğŸ—ï¸ GLFW çª—å£ç®¡ç†å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#opengl-%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.2.</span> <span class="toc-text"> ğŸ¨ OpenGL æ ¸å¿ƒå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#glad-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.3.</span> <span class="toc-text"> ğŸ”§ GLAD åˆå§‹åŒ–å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#glad%E7%9D%80%E8%89%B2%E5%99%A8"><span class="toc-number">1.2.</span> <span class="toc-text"> gladç€è‰²å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#glad%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.1.</span> <span class="toc-text"> gladå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.2.</span> <span class="toc-text"> ğŸ¨ ç»˜åˆ¶å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E7%9D%80%E8%89%B2%E5%99%A8%E5%88%9B%E5%BB%BA%E6%B5%81%E7%A8%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text"> ğŸ”„ å®Œæ•´ç€è‰²å™¨åˆ›å»ºæµç¨‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#opengl%E5%88%9D%E5%A7%8B%E5%8C%96render%E6%B8%B2%E6%9F%93"><span class="toc-number">1.3.</span> <span class="toc-text"> openGLåˆå§‹åŒ–&amp;renderæ¸²æŸ“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%87%BD%E6%95%B0-init"><span class="toc-number">1.3.1.</span> <span class="toc-text"> ä¸€ã€åˆå§‹åŒ–å‡½æ•° init()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-%E6%B8%B2%E6%9F%93%E5%87%BD%E6%95%B0-render"><span class="toc-number">1.3.2.</span> <span class="toc-text"> äºŒã€æ¸²æŸ“å‡½æ•° render()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89-%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0-framebuffer_size_callback"><span class="toc-number">1.3.3.</span> <span class="toc-text"> ä¸‰ã€å›è°ƒå‡½æ•° framebuffer_size_callback()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B-%E6%95%B0%E6%8D%AE%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">1.3.4.</span> <span class="toc-text"> å››ã€æ•°æ®æµç¨‹å›¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94-%E5%85%B3%E9%94%AE%E6%A6%82%E5%BF%B5%E6%80%BB%E7%BB%93"><span class="toc-number">1.3.5.</span> <span class="toc-text"> äº”ã€å…³é”®æ¦‚å¿µæ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B6%E7%82%B9%E7%9D%80%E8%89%B2%E5%99%A8"><span class="toc-number">1.4.</span> <span class="toc-text"> é¡¶ç‚¹ç€è‰²å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.4.1.</span> <span class="toc-text"> ä¸€ã€åŸºæœ¬æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81%E7%BB%93%E6%9E%84"><span class="toc-number">1.4.2.</span> <span class="toc-text"> äºŒã€æ ¸å¿ƒä»£ç ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89-%E5%85%B3%E9%94%AE%E7%BB%84%E4%BB%B6%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.4.3.</span> <span class="toc-text"> ä¸‰ã€å…³é”®ç»„ä»¶è¯¦è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B-%E5%90%91%E9%87%8F%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.4.4.</span> <span class="toc-text"> å››ã€å‘é‡ç±»å‹ç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94-3d%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%8F%98%E6%8D%A2"><span class="toc-number">1.4.5.</span> <span class="toc-text"> äº”ã€3Då›¾å½¢å­¦å˜æ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD-%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8"><span class="toc-number">1.4.6.</span> <span class="toc-text"> å…­ã€é«˜çº§åº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%83-%E4%B8%8Ec%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.4.7.</span> <span class="toc-text"> ä¸ƒã€ä¸C++çš„æ•°æ®è¿æ¥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%87%E6%AE%B5%E7%9D%80%E8%89%B2%E5%99%A8"><span class="toc-number">1.5.</span> <span class="toc-text"> ç‰‡æ®µç€è‰²å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-2"><span class="toc-number">1.5.1.</span> <span class="toc-text"> ä¸€ã€åŸºæœ¬æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89-%E5%85%B3%E9%94%AE%E7%BB%84%E4%BB%B6%E8%AF%A6%E8%A7%A3-2"><span class="toc-number">1.5.2.</span> <span class="toc-text"> ä¸‰ã€å…³é”®ç»„ä»¶è¯¦è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B-%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F%E4%B8%8E%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.3.</span> <span class="toc-text"> å››ã€å†…ç½®å˜é‡ä¸å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94-%E7%BA%B9%E7%90%86%E5%A4%84%E7%90%86"><span class="toc-number">1.5.4.</span> <span class="toc-text"> äº”ã€çº¹ç†å¤„ç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#glm%E6%95%B0%E5%AD%A6%E5%B7%A5%E5%85%B7%E5%BA%93"><span class="toc-number">1.6.</span> <span class="toc-text"> glmæ•°å­¦å·¥å…·åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#glm%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">1.6.1.</span> <span class="toc-text"> ğŸ“¦ GLMæ ¸å¿ƒæ¦‚å¿µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.6.2.</span> <span class="toc-text"> ğŸ”¢ åŸºæœ¬æ•°æ®ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E6%8D%A2%E7%9F%A9%E9%98%B5-transformations"><span class="toc-number">1.6.3.</span> <span class="toc-text"> ğŸš€ å˜æ¢çŸ©é˜µ (Transformations)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E5%92%8C%E6%8A%95%E5%BD%B1%E7%9F%A9%E9%98%B5"><span class="toc-number">1.6.4.</span> <span class="toc-text"> ğŸ“ è§†å›¾å’ŒæŠ•å½±çŸ©é˜µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5%E6%93%8D%E4%BD%9C%E5%92%8C%E7%BB%84%E5%90%88"><span class="toc-number">1.6.5.</span> <span class="toc-text"> ğŸ§® çŸ©é˜µæ“ä½œå’Œç»„åˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5%E8%BF%90%E7%AE%97"><span class="toc-number">1.6.6.</span> <span class="toc-text"> ğŸ“Š å‘é‡å’ŒçŸ©é˜µè¿ç®—</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#uniform%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85"><span class="toc-number">1.7.</span> <span class="toc-text"> uniformå‡½æ•°å°è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#opengl-uniform%E5%8E%9F%E8%A3%85%E5%87%BD%E6%95%B0%E5%BA%93"><span class="toc-number">1.7.1.</span> <span class="toc-text"> ğŸ“¦ OpenGL UniformåŸè£…å‡½æ•°åº“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#uniform%E5%8E%9F%E8%A3%85%E5%87%BD%E6%95%B0%E8%AF%A6%E7%BB%86%E7%94%A8%E6%B3%95"><span class="toc-number">1.7.2.</span> <span class="toc-text"> ğŸ”§ UniformåŸè£…å‡½æ•°è¯¦ç»†ç”¨æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#stack%E5%BA%93"><span class="toc-number">1.8.</span> <span class="toc-text"> stackåº“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-3"><span class="toc-number">1.8.1.</span> <span class="toc-text"> ä¸€ã€åŸºæœ¬æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B03%E4%B8%AA%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.8.2.</span> <span class="toc-text"> äºŒã€æ ¸å¿ƒå‡½æ•°ï¼ˆ3ä¸ªåŸºæœ¬æ“ä½œï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89-%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0"><span class="toc-number">1.8.3.</span> <span class="toc-text"> ä¸‰ã€è¾…åŠ©å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B-%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E7%94%A8%E6%B3%95"><span class="toc-number">1.8.4.</span> <span class="toc-text"> å››ã€å¸¸è§é”™è¯¯ç”¨æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94-%E5%9C%A8%E5%9B%BE%E5%BD%A2%E5%AD%A6%E4%B8%AD%E7%9A%84%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8"><span class="toc-number">1.8.5.</span> <span class="toc-text"> äº”ã€åœ¨å›¾å½¢å­¦ä¸­çš„å®é™…åº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD-%E5%BA%95%E5%B1%82%E5%AE%B9%E5%99%A8%E6%9B%B4%E6%8D%A2"><span class="toc-number">1.8.6.</span> <span class="toc-text"> å…­ã€åº•å±‚å®¹å™¨æ›´æ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%83-%E6%A0%88-vs-%E5%86%85%E5%AD%98%E6%A0%88%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.8.7.</span> <span class="toc-text"> ä¸ƒã€æ ˆ vs å†…å­˜æ ˆçš„åŒºåˆ«</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%B9%E7%90%86-%E6%B3%95%E7%BA%BF-%E6%9D%90%E8%B4%A8-%E5%85%89%E6%BA%90"><span class="toc-number">1.9.</span> <span class="toc-text"> çº¹ç†ã€æ³•çº¿ã€æè´¨ã€å…‰æº</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80-%E7%BA%B9%E7%90%86texture"><span class="toc-number">1.9.1.</span> <span class="toc-text"> ä¸€ã€çº¹ç†ï¼ˆTextureï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C-%E6%B3%95%E7%BA%BFnormal"><span class="toc-number">1.9.2.</span> <span class="toc-text"> äºŒã€æ³•çº¿ï¼ˆNormalï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89-%E6%9D%90%E8%B4%A8material"><span class="toc-number">1.9.3.</span> <span class="toc-text"> ä¸‰ã€æè´¨ï¼ˆMaterialï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B-%E5%85%89%E6%BA%90light"><span class="toc-number">1.9.4.</span> <span class="toc-text"> å››ã€å…‰æºï¼ˆLightï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94-%E5%AE%8C%E6%95%B4%E6%B8%B2%E6%9F%93%E6%96%B9%E7%A8%8B"><span class="toc-number">1.9.5.</span> <span class="toc-text"> äº”ã€å®Œæ•´æ¸²æŸ“æ–¹ç¨‹</span></a></li></ol></li></ol></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr> by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas></body></html>